{"version":3,"file":"39665332.js","sources":["../../../tools/reactive-controllers/src/RovingTabindex.js"],"sourcesContent":["\"use strict\";import{FocusGroupController as i}from\"./FocusGroup.js\";export class RovingTabindexController extends i{constructor(){super(...arguments);this.managed=!0;this.manageIndexesAnimationFrame=0}set focused(e){e!==this.focused&&(super.focused=e,this.manageTabindexes())}get focused(){return super.focused}clearElementCache(e=0){cancelAnimationFrame(this.manageIndexesAnimationFrame),super.clearElementCache(e),this.managed&&(this.manageIndexesAnimationFrame=requestAnimationFrame(()=>this.manageTabindexes()))}manageTabindexes(){this.focused?this.updateTabindexes(()=>({tabIndex:-1})):this.updateTabindexes(e=>({removeTabIndex:e.contains(this.focusInElement)&&e!==this.focusInElement,tabIndex:e===this.focusInElement?0:-1}))}updateTabindexes(e){this.elements.forEach(a=>{const{tabIndex:t,removeTabIndex:s}=e(a);if(!s){a.tabIndex=t;return}a.removeAttribute(\"tabindex\");const n=a;n.requestUpdate&&n.requestUpdate()})}manage(){this.managed=!0,this.manageTabindexes(),super.manage()}unmanage(){this.managed=!1,this.updateTabindexes(()=>({tabIndex:0})),super.unmanage()}hostUpdated(){super.hostUpdated(),this.host.hasUpdated||this.manageTabindexes()}}\n//# sourceMappingURL=RovingTabindex.js.map\n"],"names":["RovingTabindexController","i","constructor","super","arguments","this","managed","manageIndexesAnimationFrame","focused","manageTabindexes","clearElementCache","offset","cancelAnimationFrame","requestAnimationFrame","updateTabindexes","tabIndex","el","removeTabIndex","contains","focusInElement","getTabIndex","elements","forEach","t","s","removeAttribute","updatable","requestUpdate","manage","unmanage","hostUpdated","host","hasUpdated"],"mappings":"wCAmBOA,UAE2BC,EAF3BC,cAaHC,SAAAC,WAAAC,KAAQC,SAAU,EAElBD,KAAQE,4BAA8B,CAZtC,CAA+BC,YAAAA,GACvBA,IAAYH,KAAKG,UACrBL,MAAMK,QAAUA,EAChBH,KAAKI,mBAGT,eACI,OAAaD,MAAAA,OAOR,CAAAE,kBAAkBC,EAAS,GAChCC,qBAAqBP,KAAKE,6BAC1BJ,MAAMO,kBAAkBC,GACnBN,KAAKC,UAEVD,KAAKE,4BAA8BM,uBAAsB,IACrDR,KAAKI,qBAIb,oBACQJ,KAAKG,QACLH,KAAKS,kBAAiB,KAAA,CAASC,UAAU,MAEzCV,KAAKS,kBAAkBE,KAEfC,eACID,EAAGE,SAASb,KAAKc,iBACjBH,IAAOX,KAAKc,eAChBJ,SAAUC,IAAOX,KAAKc,eAAiB,GAAI,KAM3D,CAAAL,iBAAiBM,GACbf,KAAKgB,SAASC,SAASN,IACnB,MAAQD,SAAFQ,EAAYN,eAAZO,GAA+BJ,EAAYJ,GACjD,IAAKC,EAED,YADAD,EAAGD,SAAWA,GAGlBC,EAAGS,gBAAgB,YACnB,MAAkBT,EAAAA,EAGdU,EAAUC,eAAeD,EAAUC,eAAnCD,GAIH,CAAeE,SACpBvB,KAAKC,SAAU,EACfD,KAAKI,mBACLN,MAAMyB,QAGD,CAAAC,WACLxB,KAAKC,SAAU,EACfD,KAAKS,kBAAiB,KAAA,CAASC,SAAU,MACzCZ,MAAM0B,UAGD,CAAoBC,cACzB3B,MAAM2B,cACDzB,KAAK0B,KAAKC,YACX3B,KAAKI,kBAGjB"}