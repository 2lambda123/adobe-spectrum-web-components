{"version":3,"file":"93526eee.js","sources":["../../../packages/overlay/src/active-overlay.css.js","../../../packages/overlay/src/overlay-utils.js","../../../node_modules/@floating-ui/core/dist/floating-ui.core.browser.min.mjs","../../../node_modules/@floating-ui/dom/dist/floating-ui.dom.browser.min.mjs","../../../packages/overlay/src/ActiveOverlay.js","../../../packages/overlay/src/overlay-timer.js","../../../packages/overlay/active-overlay.js","../../../packages/overlay/src/overlay-stack.js","../../../packages/overlay/src/overlay.js","../../../tools/shared/src/get-deep-element-from-point.js"],"sourcesContent":["\"use strict\";import{css as t}from\"@spectrum-web-components/base\";const e=t`\n@keyframes sp-overlay-fade-in{0%{opacity:0;transform:var(--sp-overlay-from)}to{opacity:1;transform:translate(0)}}@keyframes sp-overlay-fade-out{0%{opacity:1;transform:translate(0)}to{opacity:0;transform:var(--sp-overlay-from)}}:host{display:inline-block;left:-9999em;pointer-events:none;position:absolute;top:-9999em;z-index:1000}:host(:focus){outline:none}:host([placement=none]){height:100vh;height:-webkit-fill-available;height:fill-available;left:0;max-height:var(--swc-visual-viewport-height);position:fixed;top:0}#contents,sp-theme{height:100%}#contents{--swc-overlay-animation-distance:var(\n--spectrum-picker-m-texticon-popover-offset-y,var(--spectrum-global-dimension-size-75)\n);animation-duration:var(\n--swc-test-duration,var(--spectrum-global-animation-duration-200,.16s)\n);animation-timing-function:var(\n--spectrum-global-animation-ease-out,ease-out\n);box-sizing:border-box;display:inline-block;opacity:1;pointer-events:none;visibility:visible}:host([actual-placement*=top]) #contents{--sp-overlay-from:translateY(var(--spectrum-global-dimension-size-75));align-items:flex-end;display:inline-flex;padding-top:var(--swc-overlay-animation-distance)}:host([actual-placement*=right]) #contents{--sp-overlay-from:translateX(calc(var(--spectrum-global-dimension-size-75)*-1));padding-right:var(--swc-overlay-animation-distance)}:host([actual-placement*=bottom]) #contents{--sp-overlay-from:translateY(calc(var(--spectrum-global-dimension-size-75)*-1));padding-bottom:var(--swc-overlay-animation-distance)}:host([actual-placement*=left]) #contents{--sp-overlay-from:translateX(var(--spectrum-global-dimension-size-75));padding-left:var(--swc-overlay-animation-distance)}:host([animating]) ::slotted(*){pointer-events:none}:host(:not([animating])) ::slotted(*){pointer-events:auto}#contents ::slotted(*){position:relative}\n`;export default e;\n//# sourceMappingURL=active-overlay.css.js.map\n","\"use strict\";export const parentOverlayOf=e=>{if(!e)return null;const o=e.closest(\"active-overlay\");if(o)return o;const t=e.getRootNode();return t.host?parentOverlayOf(t.host):null},findOverlaysRootedInOverlay=(e,o)=>{const t=[];if(!e)return[];for(const r of o)!r.root||parentOverlayOf(r.root)===e&&(t.push(r),t.push(...findOverlaysRootedInOverlay(r,o)));return t};\n//# sourceMappingURL=overlay-utils.js.map\n","function t(t){return t.split(\"-\")[0]}function e(t){return t.split(\"-\")[1]}function n(e){return[\"top\",\"bottom\"].includes(t(e))?\"x\":\"y\"}function r(t){return\"y\"===t?\"height\":\"width\"}function i(i,o,a){let{reference:l,floating:s}=i;const c=l.x+l.width/2-s.width/2,f=l.y+l.height/2-s.height/2,u=n(o),m=r(u),g=l[m]/2-s[m]/2,d=\"x\"===u;let p;switch(t(o)){case\"top\":p={x:c,y:l.y-s.height};break;case\"bottom\":p={x:c,y:l.y+l.height};break;case\"right\":p={x:l.x+l.width,y:f};break;case\"left\":p={x:l.x-s.width,y:f};break;default:p={x:l.x,y:l.y}}switch(e(o)){case\"start\":p[u]-=g*(a&&d?-1:1);break;case\"end\":p[u]+=g*(a&&d?-1:1)}return p}const o=async(t,e,n)=>{const{placement:r=\"bottom\",strategy:o=\"absolute\",middleware:a=[],platform:l}=n,s=await(null==l.isRTL?void 0:l.isRTL(e));let c=await l.getElementRects({reference:t,floating:e,strategy:o}),{x:f,y:u}=i(c,r,s),m=r,g={},d=0;for(let n=0;n<a.length;n++){const{name:p,fn:h}=a[n],{x:y,y:x,data:w,reset:v}=await h({x:f,y:u,initialPlacement:r,placement:m,strategy:o,middlewareData:g,rects:c,platform:l,elements:{reference:t,floating:e}});f=null!=y?y:f,u=null!=x?x:u,g={...g,[p]:{...g[p],...w}},v&&d<=50&&(d++,\"object\"==typeof v&&(v.placement&&(m=v.placement),v.rects&&(c=!0===v.rects?await l.getElementRects({reference:t,floating:e,strategy:o}):v.rects),({x:f,y:u}=i(c,m,s))),n=-1)}return{x:f,y:u,placement:m,strategy:o,middlewareData:g}};function a(t){return\"number\"!=typeof t?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(t):{top:t,right:t,bottom:t,left:t}}function l(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}async function s(t,e){var n;void 0===e&&(e={});const{x:r,y:i,platform:o,rects:s,elements:c,strategy:f}=t,{boundary:u=\"clippingAncestors\",rootBoundary:m=\"viewport\",elementContext:g=\"floating\",altBoundary:d=!1,padding:p=0}=e,h=a(p),y=c[d?\"floating\"===g?\"reference\":\"floating\":g],x=l(await o.getClippingRect({element:null==(n=await(null==o.isElement?void 0:o.isElement(y)))||n?y:y.contextElement||await(null==o.getDocumentElement?void 0:o.getDocumentElement(c.floating)),boundary:u,rootBoundary:m,strategy:f})),w=l(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({rect:\"floating\"===g?{...s.floating,x:r,y:i}:s.reference,offsetParent:await(null==o.getOffsetParent?void 0:o.getOffsetParent(c.floating)),strategy:f}):s[g]);return{top:x.top-w.top+h.top,bottom:w.bottom-x.bottom+h.bottom,left:x.left-w.left+h.left,right:w.right-x.right+h.right}}const c=Math.min,f=Math.max;function u(t,e,n){return f(t,c(e,n))}const m=t=>({name:\"arrow\",options:t,async fn(i){const{element:o,padding:l=0}=null!=t?t:{},{x:s,y:c,placement:f,rects:m,platform:g}=i;if(null==o)return{};const d=a(l),p={x:s,y:c},h=n(f),y=e(f),x=r(h),w=await g.getDimensions(o),v=\"y\"===h?\"top\":\"left\",b=\"y\"===h?\"bottom\":\"right\",R=m.reference[x]+m.reference[h]-p[h]-m.floating[x],A=p[h]-m.reference[h],P=await(null==g.getOffsetParent?void 0:g.getOffsetParent(o));let T=P?\"y\"===h?P.clientHeight||0:P.clientWidth||0:0;0===T&&(T=m.floating[x]);const O=R/2-A/2,L=d[v],D=T-w[x]-d[b],k=T/2-w[x]/2+O,E=u(L,k,D),C=(\"start\"===y?d[v]:d[b])>0&&k!==E&&m.reference[x]<=m.floating[x];return{[h]:p[h]-(C?k<L?L-k:D-k:0),data:{[h]:E,centerOffset:k-E}}}}),g={left:\"right\",right:\"left\",bottom:\"top\",top:\"bottom\"};function d(t){return t.replace(/left|right|bottom|top/g,(t=>g[t]))}function p(t,i,o){void 0===o&&(o=!1);const a=e(t),l=n(t),s=r(l);let c=\"x\"===l?a===(o?\"end\":\"start\")?\"right\":\"left\":\"start\"===a?\"bottom\":\"top\";return i.reference[s]>i.floating[s]&&(c=d(c)),{main:c,cross:d(c)}}const h={start:\"end\",end:\"start\"};function y(t){return t.replace(/start|end/g,(t=>h[t]))}const x=[\"top\",\"right\",\"bottom\",\"left\"],w=x.reduce(((t,e)=>t.concat(e,e+\"-start\",e+\"-end\")),[]);const v=function(n){return void 0===n&&(n={}),{name:\"autoPlacement\",options:n,async fn(r){var i,o,a,l,c;const{x:f,y:u,rects:m,middlewareData:g,placement:d,platform:h,elements:x}=r,{alignment:v=null,allowedPlacements:b=w,autoAlignment:R=!0,...A}=n,P=function(n,r,i){return(n?[...i.filter((t=>e(t)===n)),...i.filter((t=>e(t)!==n))]:i.filter((e=>t(e)===e))).filter((t=>!n||e(t)===n||!!r&&y(t)!==t))}(v,R,b),T=await s(r,A),O=null!=(i=null==(o=g.autoPlacement)?void 0:o.index)?i:0,L=P[O];if(null==L)return{};const{main:D,cross:k}=p(L,m,await(null==h.isRTL?void 0:h.isRTL(x.floating)));if(d!==L)return{x:f,y:u,reset:{placement:P[0]}};const E=[T[t(L)],T[D],T[k]],C=[...null!=(a=null==(l=g.autoPlacement)?void 0:l.overflows)?a:[],{placement:L,overflows:E}],H=P[O+1];if(H)return{data:{index:O+1,overflows:C},reset:{placement:H}};const B=C.slice().sort(((t,e)=>t.overflows[0]-e.overflows[0])),V=null==(c=B.find((t=>{let{overflows:e}=t;return e.every((t=>t<=0))})))?void 0:c.placement,F=null!=V?V:B[0].placement;return F!==d?{data:{index:O+1,overflows:C},reset:{placement:F}}:{}}}};const b=function(e){return void 0===e&&(e={}),{name:\"flip\",options:e,async fn(n){var r;const{placement:i,middlewareData:o,rects:a,initialPlacement:l,platform:c,elements:f}=n,{mainAxis:u=!0,crossAxis:m=!0,fallbackPlacements:g,fallbackStrategy:h=\"bestFit\",flipAlignment:x=!0,...w}=e,v=t(i),b=g||(v===l||!x?[d(l)]:function(t){const e=d(t);return[y(t),e,y(e)]}(l)),R=[l,...b],A=await s(n,w),P=[];let T=(null==(r=o.flip)?void 0:r.overflows)||[];if(u&&P.push(A[v]),m){const{main:t,cross:e}=p(i,a,await(null==c.isRTL?void 0:c.isRTL(f.floating)));P.push(A[t],A[e])}if(T=[...T,{placement:i,overflows:P}],!P.every((t=>t<=0))){var O,L;const t=(null!=(O=null==(L=o.flip)?void 0:L.index)?O:0)+1,e=R[t];if(e)return{data:{index:t,overflows:T},reset:{placement:e}};let n=\"bottom\";switch(h){case\"bestFit\":{var D;const t=null==(D=T.map((t=>[t,t.overflows.filter((t=>t>0)).reduce(((t,e)=>t+e),0)])).sort(((t,e)=>t[1]-e[1]))[0])?void 0:D[0].placement;t&&(n=t);break}case\"initialPlacement\":n=l}if(i!==n)return{reset:{placement:n}}}return{}}}};function R(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function A(t){return x.some((e=>t[e]>=0))}const P=function(t){let{strategy:e=\"referenceHidden\",...n}=void 0===t?{}:t;return{name:\"hide\",async fn(t){const{rects:r}=t;switch(e){case\"referenceHidden\":{const e=R(await s(t,{...n,elementContext:\"reference\"}),r.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:A(e)}}}case\"escaped\":{const e=R(await s(t,{...n,altBoundary:!0}),r.floating);return{data:{escapedOffsets:e,escaped:A(e)}}}default:return{}}}}};const T=function(r){return void 0===r&&(r=0),{name:\"offset\",options:r,async fn(i){const{x:o,y:a}=i,l=await async function(r,i){const{placement:o,platform:a,elements:l}=r,s=await(null==a.isRTL?void 0:a.isRTL(l.floating)),c=t(o),f=e(o),u=\"x\"===n(o),m=[\"left\",\"top\"].includes(c)?-1:1,g=s&&u?-1:1,d=\"function\"==typeof i?i(r):i;let{mainAxis:p,crossAxis:h,alignmentAxis:y}=\"number\"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return f&&\"number\"==typeof y&&(h=\"end\"===f?-1*y:y),u?{x:h*g,y:p*m}:{x:p*m,y:h*g}}(i,r);return{x:o+l.x,y:a+l.y,data:l}}}};function O(t){return\"x\"===t?\"y\":\"x\"}const L=function(e){return void 0===e&&(e={}),{name:\"shift\",options:e,async fn(r){const{x:i,y:o,placement:a}=r,{mainAxis:l=!0,crossAxis:c=!1,limiter:f={fn:t=>{let{x:e,y:n}=t;return{x:e,y:n}}},...m}=e,g={x:i,y:o},d=await s(r,m),p=n(t(a)),h=O(p);let y=g[p],x=g[h];if(l){const t=\"y\"===p?\"bottom\":\"right\";y=u(y+d[\"y\"===p?\"top\":\"left\"],y,y-d[t])}if(c){const t=\"y\"===h?\"bottom\":\"right\";x=u(x+d[\"y\"===h?\"top\":\"left\"],x,x-d[t])}const w=f.fn({...r,[p]:y,[h]:x});return{...w,data:{x:w.x-i,y:w.y-o}}}}},D=function(e){return void 0===e&&(e={}),{options:e,fn(r){const{x:i,y:o,placement:a,rects:l,middlewareData:s}=r,{offset:c=0,mainAxis:f=!0,crossAxis:u=!0}=e,m={x:i,y:o},g=n(a),d=O(g);let p=m[g],h=m[d];const y=\"function\"==typeof c?c(r):c,x=\"number\"==typeof y?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(f){const t=\"y\"===g?\"height\":\"width\",e=l.reference[g]-l.floating[t]+x.mainAxis,n=l.reference[g]+l.reference[t]-x.mainAxis;p<e?p=e:p>n&&(p=n)}if(u){var w,v,b,R;const e=\"y\"===g?\"width\":\"height\",n=[\"top\",\"left\"].includes(t(a)),r=l.reference[d]-l.floating[e]+(n&&null!=(w=null==(v=s.offset)?void 0:v[d])?w:0)+(n?0:x.crossAxis),i=l.reference[d]+l.reference[e]+(n?0:null!=(b=null==(R=s.offset)?void 0:R[d])?b:0)-(n?x.crossAxis:0);h<r?h=r:h>i&&(h=i)}return{[g]:p,[d]:h}}}},k=function(n){return void 0===n&&(n={}),{name:\"size\",options:n,async fn(r){const{placement:i,rects:o,platform:a,elements:l}=r,{apply:c=(()=>{}),...u}=n,m=await s(r,u),g=t(i),d=e(i);let p,h;\"top\"===g||\"bottom\"===g?(p=g,h=d===(await(null==a.isRTL?void 0:a.isRTL(l.floating))?\"start\":\"end\")?\"left\":\"right\"):(h=g,p=\"end\"===d?\"top\":\"bottom\");const y=f(m.left,0),x=f(m.right,0),w=f(m.top,0),v=f(m.bottom,0),b={availableHeight:o.floating.height-([\"left\",\"right\"].includes(i)?2*(0!==w||0!==v?w+v:f(m.top,m.bottom)):m[p]),availableWidth:o.floating.width-([\"top\",\"bottom\"].includes(i)?2*(0!==y||0!==x?y+x:f(m.left,m.right)):m[h])};await c({...r,...b});const R=await a.getDimensions(l.floating);return o.floating.width!==R.width||o.floating.height!==R.height?{reset:{rects:!0}}:{}}}},E=function(e){return void 0===e&&(e={}),{name:\"inline\",options:e,async fn(r){var i;const{placement:o,elements:s,rects:u,platform:m,strategy:g}=r,{padding:d=2,x:p,y:h}=e,y=l(m.convertOffsetParentRelativeRectToViewportRelativeRect?await m.convertOffsetParentRelativeRectToViewportRelativeRect({rect:u.reference,offsetParent:await(null==m.getOffsetParent?void 0:m.getOffsetParent(s.floating)),strategy:g}):u.reference),x=null!=(i=await(null==m.getClientRects?void 0:m.getClientRects(s.reference)))?i:[],w=a(d);const v=await m.getElementRects({reference:{getBoundingClientRect:function(){var e;if(2===x.length&&x[0].left>x[1].right&&null!=p&&null!=h)return null!=(e=x.find((t=>p>t.left-w.left&&p<t.right+w.right&&h>t.top-w.top&&h<t.bottom+w.bottom)))?e:y;if(x.length>=2){if(\"x\"===n(o)){const e=x[0],n=x[x.length-1],r=\"top\"===t(o),i=e.top,a=n.bottom,l=r?e.left:n.left,s=r?e.right:n.right;return{top:i,bottom:a,left:l,right:s,width:s-l,height:a-i,x:l,y:i}}const e=\"left\"===t(o),r=f(...x.map((t=>t.right))),i=c(...x.map((t=>t.left))),a=x.filter((t=>e?t.left===i:t.right===r)),l=a[0].top,s=a[a.length-1].bottom;return{top:l,bottom:s,left:i,right:r,width:r-i,height:s-l,x:i,y:l}}return y}},floating:s.floating,strategy:g});return u.reference.x!==v.reference.x||u.reference.y!==v.reference.y||u.reference.width!==v.reference.width||u.reference.height!==v.reference.height?{reset:{rects:v}}:{}}}};export{m as arrow,v as autoPlacement,o as computePosition,s as detectOverflow,b as flip,P as hide,E as inline,D as limitShift,T as offset,l as rectToClientRect,L as shift,k as size};\n","import{rectToClientRect as t,computePosition as e}from\"@floating-ui/core\";export{arrow,autoPlacement,detectOverflow,flip,hide,inline,limitShift,offset,shift,size}from\"@floating-ui/core\";function n(t){return t&&t.document&&t.location&&t.alert&&t.setInterval}function o(t){if(null==t)return window;if(!n(t)){const e=t.ownerDocument;return e&&e.defaultView||window}return t}function i(t){return o(t).getComputedStyle(t)}function r(t){return n(t)?\"\":t?(t.nodeName||\"\").toLowerCase():\"\"}function l(){const t=navigator.userAgentData;return null!=t&&t.brands?t.brands.map((t=>t.brand+\"/\"+t.version)).join(\" \"):navigator.userAgent}function c(t){return t instanceof o(t).HTMLElement}function s(t){return t instanceof o(t).Element}function f(t){if(\"undefined\"==typeof ShadowRoot)return!1;return t instanceof o(t).ShadowRoot||t instanceof ShadowRoot}function u(t){const{overflow:e,overflowX:n,overflowY:o,display:r}=i(t);return/auto|scroll|overlay|hidden/.test(e+o+n)&&![\"inline\",\"contents\"].includes(r)}function d(t){return[\"table\",\"td\",\"th\"].includes(r(t))}function h(t){const e=/firefox/i.test(l()),n=i(t);return\"none\"!==n.transform||\"none\"!==n.perspective||e&&\"filter\"===n.willChange||e&&!!n.filter&&\"none\"!==n.filter||[\"transform\",\"perspective\"].some((t=>n.willChange.includes(t)))||[\"paint\",\"layout\",\"strict\",\"content\"].some((t=>{const e=n.contain;return null!=e&&e.includes(t)}))}function a(){return!/^((?!chrome|android).)*safari/i.test(l())}function g(t){return[\"html\",\"body\",\"#document\"].includes(r(t))}const m=Math.min,p=Math.max,w=Math.round;function v(t,e,n){var i,r,l,f;void 0===e&&(e=!1),void 0===n&&(n=!1);const u=t.getBoundingClientRect();let d=1,h=1;e&&c(t)&&(d=t.offsetWidth>0&&w(u.width)/t.offsetWidth||1,h=t.offsetHeight>0&&w(u.height)/t.offsetHeight||1);const g=s(t)?o(t):window,m=!a()&&n,p=(u.left+(m&&null!=(i=null==(r=g.visualViewport)?void 0:r.offsetLeft)?i:0))/d,v=(u.top+(m&&null!=(l=null==(f=g.visualViewport)?void 0:f.offsetTop)?l:0))/h,y=u.width/d,x=u.height/h;return{width:y,height:x,top:v,right:p+y,bottom:v+x,left:p,x:p,y:v}}function y(t){return(e=t,(e instanceof o(e).Node?t.ownerDocument:t.document)||window.document).documentElement;var e}function x(t){return s(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function b(t){return v(y(t)).left+x(t).scrollLeft}function L(t,e,n){const o=c(e),i=y(e),l=v(t,o&&function(t){const e=v(t);return w(e.width)!==t.offsetWidth||w(e.height)!==t.offsetHeight}(e),\"fixed\"===n);let s={scrollLeft:0,scrollTop:0};const f={x:0,y:0};if(o||!o&&\"fixed\"!==n)if((\"body\"!==r(e)||u(i))&&(s=x(e)),c(e)){const t=v(e,!0);f.x=t.x+e.clientLeft,f.y=t.y+e.clientTop}else i&&(f.x=b(i));return{x:l.left+s.scrollLeft-f.x,y:l.top+s.scrollTop-f.y,width:l.width,height:l.height}}function R(t){return\"html\"===r(t)?t:t.assignedSlot||t.parentNode||(f(t)?t.host:null)||y(t)}function E(t){return c(t)&&\"fixed\"!==i(t).position?t.offsetParent:null}function T(t){const e=o(t);let n=E(t);for(;n&&d(n)&&\"static\"===i(n).position;)n=E(n);return n&&(\"html\"===r(n)||\"body\"===r(n)&&\"static\"===i(n).position&&!h(n))?e:n||function(t){let e=R(t);for(f(e)&&(e=e.host);c(e)&&!g(e);){if(h(e))return e;{const t=e.parentNode;e=f(t)?t.host:t}}return null}(t)||e}function W(t){if(c(t))return{width:t.offsetWidth,height:t.offsetHeight};const e=v(t);return{width:e.width,height:e.height}}function H(t){const e=R(t);return g(e)?t.ownerDocument.body:c(e)&&u(e)?e:H(e)}function C(t,e){var n;void 0===e&&(e=[]);const i=H(t),r=i===(null==(n=t.ownerDocument)?void 0:n.body),l=o(i),c=r?[l].concat(l.visualViewport||[],u(i)?i:[]):i,s=e.concat(c);return r?s:s.concat(C(c))}function D(e,n,r){return\"viewport\"===n?t(function(t,e){const n=o(t),i=y(t),r=n.visualViewport;let l=i.clientWidth,c=i.clientHeight,s=0,f=0;if(r){l=r.width,c=r.height;const t=a();(t||!t&&\"fixed\"===e)&&(s=r.offsetLeft,f=r.offsetTop)}return{width:l,height:c,x:s,y:f}}(e,r)):s(n)?function(t,e){const n=v(t,!1,\"fixed\"===e),o=n.top+t.clientTop,i=n.left+t.clientLeft;return{top:o,left:i,x:i,y:o,right:i+t.clientWidth,bottom:o+t.clientHeight,width:t.clientWidth,height:t.clientHeight}}(n,r):t(function(t){var e;const n=y(t),o=x(t),r=null==(e=t.ownerDocument)?void 0:e.body,l=p(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),c=p(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0);let s=-o.scrollLeft+b(t);const f=-o.scrollTop;return\"rtl\"===i(r||n).direction&&(s+=p(n.clientWidth,r?r.clientWidth:0)-l),{width:l,height:c,x:s,y:f}}(y(e)))}function N(t){const e=C(t),n=function(t,e){let n=t;for(;n&&!g(n)&&!e.includes(n)&&(!s(n)||![\"absolute\",\"fixed\"].includes(i(n).position));){const t=R(n);n=f(t)?t.host:t}return n}(t,e);let o=null;if(n&&c(n)){const t=T(n);u(n)?o=n:c(t)&&(o=t)}return s(o)?e.filter((t=>o&&s(t)&&function(t,e){const n=null==e.getRootNode?void 0:e.getRootNode();if(t.contains(e))return!0;if(n&&f(n)){let n=e;do{if(n&&t===n)return!0;n=n.parentNode||n.host}while(n)}return!1}(t,o)&&\"body\"!==r(t))):[]}const S={getClippingRect:function(t){let{element:e,boundary:n,rootBoundary:o,strategy:i}=t;const r=[...\"clippingAncestors\"===n?N(e):[].concat(n),o],l=r[0],c=r.reduce(((t,n)=>{const o=D(e,n,i);return t.top=p(o.top,t.top),t.right=m(o.right,t.right),t.bottom=m(o.bottom,t.bottom),t.left=p(o.left,t.left),t}),D(e,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{rect:e,offsetParent:n,strategy:o}=t;const i=c(n),l=y(n);if(n===l)return e;let s={scrollLeft:0,scrollTop:0};const f={x:0,y:0};if((i||!i&&\"fixed\"!==o)&&((\"body\"!==r(n)||u(l))&&(s=x(n)),c(n))){const t=v(n,!0);f.x=t.x+n.clientLeft,f.y=t.y+n.clientTop}return{...e,x:e.x-s.scrollLeft+f.x,y:e.y-s.scrollTop+f.y}},isElement:s,getDimensions:W,getOffsetParent:T,getDocumentElement:y,getElementRects:t=>{let{reference:e,floating:n,strategy:o}=t;return{reference:L(e,T(n),o),floating:{...W(n),x:0,y:0}}},getClientRects:t=>Array.from(t.getClientRects()),isRTL:t=>\"rtl\"===i(t).direction};function z(t,e,n,o){void 0===o&&(o={});const{ancestorScroll:i=!0,ancestorResize:r=!0,elementResize:l=!0,animationFrame:c=!1}=o,f=i&&!c,u=f||r?[...s(t)?C(t):t.contextElement?C(t.contextElement):[],...C(e)]:[];u.forEach((t=>{f&&t.addEventListener(\"scroll\",n,{passive:!0}),r&&t.addEventListener(\"resize\",n)}));let d,h=null;if(l){let o=!0;h=new ResizeObserver((()=>{o||n(),o=!1})),s(t)&&!c&&h.observe(t),s(t)||!t.contextElement||c||h.observe(t.contextElement),h.observe(e)}let a=c?v(t):null;return c&&function e(){const o=v(t);!a||o.x===a.x&&o.y===a.y&&o.width===a.width&&o.height===a.height||n();a=o,d=requestAnimationFrame(e)}(),n(),()=>{var t;u.forEach((t=>{f&&t.removeEventListener(\"scroll\",n),r&&t.removeEventListener(\"resize\",n)})),null==(t=h)||t.disconnect(),h=null,c&&cancelAnimationFrame(d)}}const A=(t,n,o)=>e(t,n,{platform:S,...o});export{z as autoUpdate,A as computePosition,C as getOverflowAncestors,S as platform};\n","\"use strict\";var A=Object.defineProperty;var R=Object.getOwnPropertyDescriptor;var p=(s,a,t,e)=>{for(var i=e>1?void 0:e?R(a,t):a,o=s.length-1,n;o>=0;o--)(n=s[o])&&(i=(e?n(a,t,i):n(i))||i);return e&&i&&A(a,t,i),i};import{html as b,SpectrumElement as x}from\"@spectrum-web-components/base\";import{ifDefined as h}from\"@spectrum-web-components/base/src/directives.js\";import{property as c}from\"@spectrum-web-components/base/src/decorators.js\";import{reparentChildren as S}from\"@spectrum-web-components/shared/src/reparent-children.js\";import{firstFocusableIn as H}from\"@spectrum-web-components/shared/src/first-focusable-in.js\";import F from\"./active-overlay.css.js\";import{parentOverlayOf as y}from\"./overlay-utils.js\";import{arrow as I,autoUpdate as L,computePosition as M,flip as C,offset as D,shift as _,size as k}from\"@floating-ui/dom\";const P={initial:\"idle\",states:{idle:{on:{active:\"active\"}},active:{on:{hiding:\"hiding\",idle:\"idle\"}},hiding:{on:{dispose:\"dispose\"}},dispose:{on:{disposed:\"disposed\"}},disposed:{on:{}}}},T=(s,a)=>s?a&&P.states[s].on[a]||s:P.initial,U=s=>{var t;return(t={left:[\"right\",\"bottom\",\"top\"],\"left-start\":[\"right-start\",\"bottom\",\"top\"],\"left-end\":[\"right-end\",\"bottom\",\"top\"],right:[\"left\",\"bottom\",\"top\"],\"right-start\":[\"left-start\",\"bottom\",\"top\"],\"right-end\":[\"left-end\",\"bottom\",\"top\"],top:[\"bottom\",\"left\",\"right\"],\"top-start\":[\"bottom-start\",\"left\",\"right\"],\"top-end\":[\"bottom-end\",\"left\",\"right\"],bottom:[\"top\",\"left\",\"right\"],\"bottom-start\":[\"top-start\",\"left\",\"right\"],\"bottom-end\":[\"top-end\",\"left\",\"right\"]}[s])!=null?t:[s]},d=class extends x{constructor(){super();this.contentAnimationPromise=Promise.resolve(!0);this.resolveContentAnimationPromise=()=>{};this._state=T();this.animating=!1;this.theme={};this.tabbingAway=!1;this.offset=6;this.skidding=0;this.interaction=\"hover\";this.positionAnimationFrame=0;this.willNotifyClosed=!1;this.isConstrained=!1;this.updateOverlayPosition=async()=>{if(!this.placement||this.placement===\"none\")return;if(this.interaction!==\"modal\"&&this.cleanup){this.dispatchEvent(new Event(\"close\"));return}await(document.fonts?document.fonts.ready:Promise.resolve());function t(l){const r=window.devicePixelRatio||1;return Math.round(l*r)/r||-1e4}const e=8,i=100,o=this.virtualTrigger?C({padding:e,fallbackPlacements:U(this.placement)}):C({padding:e}),n=[D({mainAxis:this.offset,crossAxis:this.skidding}),_({padding:e}),o,k({padding:e,apply:({availableWidth:l,availableHeight:r,rects:{floating:E}})=>{const f=Math.max(i,Math.floor(r)),m=E.height;this.initialHeight=!this.isConstrained&&!this.virtualTrigger?m:this.initialHeight||m,this.isConstrained=m<this.initialHeight||f<=m;const g=this.isConstrained?`${f}px`:\"\";Object.assign(this.style,{maxWidth:`${Math.floor(l)}px`,maxHeight:g,height:g})}})];this.overlayContentTip&&n.push(I({element:this.overlayContentTip}));const{x:w,y:O,placement:u,middlewareData:v}=await M(this.virtualTrigger||this.trigger,this,{placement:this.placement,middleware:n});if(Object.assign(this.style,{top:\"0px\",left:\"0px\",transform:`translate(${t(w)}px, ${t(O)}px)`}),u!==this.getAttribute(\"actual-placement\")&&(this.setAttribute(\"actual-placement\",u),this.overlayContent.setAttribute(\"placement\",u)),this.overlayContentTip&&v.arrow){const{x:l,y:r}=v.arrow;Object.assign(this.overlayContentTip.style,{left:l!=null?`${t(l)}px`:\"\",top:r!=null?`${t(r)}px`:\"\",right:\"\",bottom:\"\"})}};this.handleInlineTriggerKeydown=t=>{const{code:e,shiftKey:i}=t;if(e===\"Tab\"){if(i){this.tabbingAway=!0,this.dispatchEvent(new Event(\"close\"));return}t.stopPropagation(),t.preventDefault(),this.focus()}};this.stealOverlayContentPromise=Promise.resolve();this.stealOverlayContentPromise=new Promise(t=>this.stealOverlayContentResolver=t)}get state(){return this._state}set state(t){const e=T(this.state,t);e!==this.state&&(this._state=e,this.state===\"active\"||this.state===\"hiding\"?this.setAttribute(\"state\",this.state):this.removeAttribute(\"state\"))}async focus(){const t=H(this);if(t){t.updateComplete&&await t.updateComplete;const e=this.getRootNode().activeElement;(e===this||!this.contains(e))&&t.focus()}else super.focus();this.removeAttribute(\"tabindex\")}get hasTheme(){return!!this.theme.color||!!this.theme.scale||!!this.theme.lang}static get styles(){return[F]}get hasModalRoot(){return!!this._modalRoot}feature(){this.contains(document.activeElement)||(this.tabIndex=-1);const t=y(this.trigger);t&&t.slot===\"open\"&&(this._modalRoot=t._modalRoot||t),(this.interaction===\"modal\"||this._modalRoot)&&(this.slot=\"open\",this.interaction===\"modal\"&&this.setAttribute(\"aria-modal\",\"true\"),this._modalRoot&&(t==null||t.feature()))}obscure(t){if(this.slot&&t===\"modal\"){if(this.removeAttribute(\"slot\"),this.removeAttribute(\"aria-modal\"),this.interaction!==\"modal\"){const e=y(this.trigger);return this._modalRoot=e==null?void 0:e.obscure(t),this._modalRoot}return this}}async willUpdate(){this.hasUpdated||!this.overlayContent||!this.trigger||(this.stealOverlayContent(this.overlayContent),this.state=\"active\",this.offsetWidth,this.feature(),this.placement===\"none\"?this.style.setProperty(\"--swc-visual-viewport-height\",`${window.innerHeight}px`):this.placement&&(await this.updateOverlayPosition(),document.addEventListener(\"sp-update-overlays\",this.updateOverlayPosition)),this.placement&&this.placement!==\"none\"&&(this.contentAnimationPromise=this.applyContentAnimation(\"sp-overlay-fade-in\")))}async openCallback(t){await this.updateComplete,this.receivesFocus&&await this.focus(),await t(),this.trigger.dispatchEvent(new CustomEvent(\"sp-opened\",{bubbles:!0,composed:!0,cancelable:!0,detail:{interaction:this.interaction}}))}open(t){this.extractDetail(t)}extractDetail(t){this.overlayContent=t.content,this.overlayContentTip=t.contentTip,this.trigger=t.trigger,this.virtualTrigger=t.virtualTrigger,this.placement=t.placement,this.offset=t.offset,this.skidding=t.skidding||0,this.interaction=t.interaction,this.theme=t.theme,this.receivesFocus=t.receivesFocus,this.root=t.root}dispose(){this.state===\"dispose\"&&(this.timeout&&(clearTimeout(this.timeout),delete this.timeout),this.trigger.removeEventListener(\"keydown\",this.handleInlineTriggerKeydown),this.returnOverlayContent(),this.state=\"disposed\",this.willNotifyClosed&&(this.overlayContent.dispatchEvent(new Event(\"sp-overlay-closed\")),this.willNotifyClosed=!1),this.cleanup&&this.cleanup())}stealOverlayContent(t){this.originalPlacement=t.getAttribute(\"placement\"),this.restoreContent=S([t],this,{position:\"beforeend\",prepareCallback:e=>{const i=e.slot,o=e.placement;return e.removeAttribute(\"slot\"),n=>{n.slot=i,n.placement=o}}}),this.stealOverlayContentResolver()}returnOverlayContent(){if(!this.restoreContent)return;const[t]=this.restoreContent();this.restoreContent=void 0,this.willNotifyClosed=!0,this.originalPlacement&&(t.setAttribute(\"placement\",this.originalPlacement),delete this.originalPlacement)}async placeOverlay(){!this.placement||this.placement===\"none\"||(this.cleanup=L(this.virtualTrigger||this.trigger,this,this.updateOverlayPosition,{elementResize:!1}))}async hide(t=!0){this.state===\"active\"&&(this.state=\"hiding\",t&&await this.applyContentAnimation(\"sp-overlay-fade-out\"),this.state=\"dispose\")}schedulePositionUpdate(){cancelAnimationFrame(this.positionAnimationFrame),this.positionAnimationFrame=requestAnimationFrame(()=>{this.cleanup?this.updateOverlayPosition():this.placeOverlay()})}onSlotChange(){this.schedulePositionUpdate()}applyContentAnimation(t){return this.placement===\"none\"?Promise.resolve(!0):(this.resolveContentAnimationPromise(),new Promise(e=>{this.resolveContentAnimationPromise=()=>{e(!1)};const i=this.shadowRoot.querySelector(\"#contents\"),o=n=>{t===n.animationName&&(i.removeEventListener(\"animationend\",o),i.removeEventListener(\"animationcancel\",o),this.animating=!1,e(n.type===\"animationcancel\"))};i.addEventListener(\"animationend\",o),i.addEventListener(\"animationcancel\",o),i.style.animationName=t,this.animating=!0}))}renderTheme(t){const{color:e,scale:i,lang:o,theme:n}=this.theme;return b`\n            <sp-theme\n                theme=${h(n)}\n                color=${h(e)}\n                scale=${h(i)}\n                lang=${h(o)}\n                part=\"theme\"\n            >\n                ${t}\n            </sp-theme>\n        `}render(){const t=b`\n            <div id=\"contents\">\n                <slot @slotchange=${this.onSlotChange}></slot>\n            </div>\n        `;return this.hasTheme?this.renderTheme(t):t}static create(t){const e=new d;return t.content&&e.open(t),e}async getUpdateComplete(){const t=[super.getUpdateComplete(),this.stealOverlayContentPromise];t.push(this.contentAnimationPromise),typeof this.overlayContent.updateComplete!=\"undefined\"&&t.push(this.overlayContent.updateComplete);const[e]=await Promise.all(t);return e}disconnectedCallback(){document.removeEventListener(\"sp-update-overlays\",this.updateOverlayPosition),super.disconnectedCallback()}};export let ActiveOverlay=d;p([c()],ActiveOverlay.prototype,\"_state\",2),p([c({reflect:!0,type:Boolean})],ActiveOverlay.prototype,\"animating\",2),p([c({reflect:!0})],ActiveOverlay.prototype,\"placement\",2),p([c({attribute:!1})],ActiveOverlay.prototype,\"theme\",2),p([c({attribute:!1})],ActiveOverlay.prototype,\"receivesFocus\",2);\n//# sourceMappingURL=ActiveOverlay.js.map\n","\"use strict\";const t=1e3,s=1e3;export class OverlayTimer{constructor(e={}){this.warmUpDelay=1e3;this.coolDownDelay=1e3;this.isWarm=!1;this.timeout=0;Object.assign(this,e)}async openTimer(e){if(this.cancelCooldownTimer(),!this.component||e!==this.component)return this.component&&(this.close(this.component),this.cancelCooldownTimer()),this.component=e,this.isWarm?!1:(this.promise=new Promise(o=>{this.resolve=o,this.timeout=window.setTimeout(()=>{this.resolve&&(this.resolve(!1),this.isWarm=!0)},this.warmUpDelay)}),this.promise);if(this.promise)return this.promise;throw new Error(\"Inconsistent state\")}close(e){this.component&&this.component===e&&(this.resetCooldownTimer(),this.timeout>0&&(clearTimeout(this.timeout),this.timeout=0),this.resolve&&(this.resolve(!0),delete this.resolve),delete this.promise,delete this.component)}resetCooldownTimer(){this.isWarm&&(this.cooldownTimeout&&window.clearTimeout(this.cooldownTimeout),this.cooldownTimeout=window.setTimeout(()=>{this.isWarm=!1,delete this.cooldownTimeout},this.coolDownDelay))}cancelCooldownTimer(){this.cooldownTimeout&&window.clearTimeout(this.cooldownTimeout),delete this.cooldownTimeout}}\n//# sourceMappingURL=overlay-timer.js.map\n","\"use strict\";import{ActiveOverlay as e}from\"./src/ActiveOverlay.js\";customElements.define(\"active-overlay\",e);\n//# sourceMappingURL=active-overlay.js.map\n","\"use strict\";import{ActiveOverlay as g}from\"./ActiveOverlay.js\";import{OverlayTimer as f}from\"./overlay-timer.js\";import\"../active-overlay.js\";import{findOverlaysRootedInOverlay as p,parentOverlayOf as v}from\"./overlay-utils.js\";import{getDeepElementFromPoint as b}from\"@spectrum-web-components/shared/src/get-deep-element-from-point.js\";function C(s){return s.button===0}function O(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function h(){return new Promise(s=>requestAnimationFrame(()=>s()))}export class OverlayStack{constructor(){this.overlays=[];this.preventMouseRootClose=!1;this.root=document.body;this.handlingResize=!1;this.overlayTimer=new f;this.canTabTrap=!0;this.trappingInited=!1;this._eventsAreBound=!1;this._bodyMarginsApplied=!1;this.forwardContextmenuEvent=async e=>{var o;const t=this.overlays[this.overlays.length-1];!this.trappingInited||t.interaction!==\"modal\"||e.target!==this.overlayHolder||(e.stopPropagation(),e.preventDefault(),await this.closeTopOverlay(),(o=b(e.clientX,e.clientY))==null||o.dispatchEvent(new MouseEvent(\"contextmenu\",e)))};this.handleOverlayClose=e=>{const{root:t}=e;!t||this.closeOverlaysForRoot(t)};this.handleMouseCapture=e=>{const t=this.topOverlay;if(!e.target||!t||!t.overlayContent||O(e)||!C(e)){this.preventMouseRootClose=!0;return}if(e.target instanceof Node){if(e.composedPath().indexOf(t.overlayContent)>=0){this.preventMouseRootClose=!0;return}this.preventMouseRootClose=!1}};this._doesNotCloseOnFirstClick=!1;this.handleMouse=e=>{var i;if(this._doesNotCloseOnFirstClick){this._doesNotCloseOnFirstClick=!1;return}if(this.preventMouseRootClose||e.defaultPrevented)return;const t=[];let o=this.overlays.length;for(;o&&t.length===0;){o-=1;const a=this.overlays[o],l=e.composedPath();(!l.includes(a.trigger)||a.interaction!==\"hover\")&&!l.includes(a.overlayContent)&&t.push(a)}let r=(i=this.topOverlay)==null?void 0:i.root,n=v(r);for(;r&&n;)t.push(n),n=v(r),r=n==null?void 0:n.root;n&&t.push(n),t.forEach(a=>this.hideAndCloseOverlay(a))};this.handleKeydown=e=>{e.code===\"Escape\"&&this.closeTopOverlay()};this.handleResize=()=>{this.handlingResize||(this.handlingResize=!0,requestAnimationFrame(async()=>{const e=this.overlays.map(t=>t.updateOverlayPosition());await Promise.all(e),this.handlingResize=!1}))};this.initTabTrapping()}initTabTrapping(){if(document.readyState===\"loading\"){document.addEventListener(\"readystatechange\",()=>{this.initTabTrapping()},{once:!0});return}if(this.trappingInited)return;if(this.trappingInited=!0,this.document.body.shadowRoot){this.canTabTrap=!1;return}if(this.document.body.attachShadow({mode:\"open\"}),!this.document.body.shadowRoot)return;const e=this.document.body.shadowRoot;e.innerHTML=`\n            <style>\n            :host {\n                position: relative;\n            }\n            #actual {\n                position: relative;\n                height: calc(100% - var(--swc-body-margins-block, 0px));\n                z-index: 0;\n                min-height: calc(100vh - var(--swc-body-margins-block, 0px));\n            }\n            #holder {\n                display: none;\n                align-items: center;\n                justify-content: center;\n                flex-flow: column;\n                width: 100%;\n                height: 100%;\n                position: absolute;\n                top: 0;\n                left: 0;\n            }\n            [name=\"open\"]::slotted(*) {\n                pointer-events: all;\n            }\n            #actual[aria-hidden] + #holder {\n                display: flex;\n            }\n            </style>\n            <div id=\"actual\"><slot></slot></div>\n            <div id=\"holder\"><slot name=\"open\"></slot></div>\n        `,this.tabTrapper=e.querySelector(\"#actual\"),this.overlayHolder=e.querySelector(\"#holder\"),this.tabTrapper.attachShadow({mode:\"open\"}),this.tabTrapper.shadowRoot&&(this.tabTrapper.shadowRoot.innerHTML=\"<slot></slot>\"),this.overlayHolder.addEventListener(\"contextmenu\",this.forwardContextmenuEvent,!0),requestAnimationFrame(()=>{this.applyBodyMargins(),new ResizeObserver(()=>{this.applyBodyMargins()}).observe(document.body)})}applyBodyMargins(){const{marginLeft:e,marginRight:t,marginTop:o,marginBottom:r}=getComputedStyle(document.body),n=parseFloat(e)===0&&parseFloat(t)===0&&parseFloat(o)===0&&parseFloat(r)===0;n&&!this._bodyMarginsApplied||(this.tabTrapper.style.setProperty(\"--swc-body-margins-inline\",`calc(${e} + ${t})`),this.tabTrapper.style.setProperty(\"--swc-body-margins-block\",`calc(${o} + ${r})`),this._bodyMarginsApplied=!n)}startTabTrapping(){this.initTabTrapping(),this.canTabTrap&&(this.tabTrapper.tabIndex=-1,this.tabTrapper.setAttribute(\"aria-hidden\",\"true\"))}stopTabTrapping(){!this.canTabTrap||!this.trappingInited||(this.tabTrapper.removeAttribute(\"tabindex\"),this.tabTrapper.removeAttribute(\"aria-hidden\"))}get document(){return this.root.ownerDocument||document}get topOverlay(){return this.overlays.slice(-1)[0]}findOverlayForContent(e){for(const t of this.overlays)if(e===t.overlayContent)return t}addEventListeners(){this._eventsAreBound||(this._eventsAreBound=!0,this.document.addEventListener(\"click\",this.handleMouseCapture,!0),this.document.addEventListener(\"click\",this.handleMouse),this.document.addEventListener(\"keydown\",this.handleKeydown),this.document.addEventListener(\"sp-overlay-close\",this.handleOverlayClose),window.addEventListener(\"resize\",this.handleResize))}isClickOverlayActiveForTrigger(e){return this.overlays.some(t=>e===t.trigger&&t.interaction===\"click\")}async openOverlay(e){if(this.addEventListeners(),this.findOverlayForContent(e.content))return!1;e.notImmediatelyClosable&&(this._doesNotCloseOnFirstClick=!0),e.interaction===\"modal\"&&this.startTabTrapping();const t=e.content,{trigger:o}=e;if(t.overlayWillOpenCallback&&t.overlayWillOpenCallback({trigger:o}),e.delayed){const a=[this.overlayTimer.openTimer(e.content)];e.abortPromise&&a.push(e.abortPromise);const l=await Promise.race(a);if(l)return t.overlayOpenCancelledCallback&&t.overlayOpenCancelledCallback({trigger:o}),l}if(e.root&&this.closeOverlaysForRoot(e.root),e.interaction===\"click\")this.closeAllHoverOverlays();else if(e.interaction===\"hover\"&&this.isClickOverlayActiveForTrigger(e.trigger))return!0;const r=g.create(e);this.overlays.length&&this.overlays[this.overlays.length-1].obscure(r.interaction),document.body.appendChild(r),await h(),this.overlays.push(r),await r.updateComplete,this.addOverlayEventListeners(r),typeof t.open!=\"undefined\"&&(await h(),t.open=!0);let n=()=>{};if(t.overlayOpenCallback){const{trigger:i}=r,{overlayOpenCallback:a}=t;n=async()=>await a({trigger:i})}return await r.openCallback(n),!1}addOverlayEventListeners(e){switch(e.addEventListener(\"close\",()=>{this.hideAndCloseOverlay(e,!0)}),e.interaction){case\"replace\":this.addReplaceOverlayEventListeners(e);break;case\"inline\":this.addInlineOverlayEventListeners(e);break}}addReplaceOverlayEventListeners(e){e.addEventListener(\"keydown\",t=>{const{code:o}=t;o===\"Tab\"&&(t.stopPropagation(),this.closeOverlay(e.overlayContent),e.tabbingAway=!0,e.trigger.focus(),e.trigger.dispatchEvent(new KeyboardEvent(\"keydown\",t)))})}addInlineOverlayEventListeners(e){e.trigger.addEventListener(\"keydown\",e.handleInlineTriggerKeydown),e.addEventListener(\"keydown\",t=>{const{code:o,shiftKey:r}=t;if(o!==\"Tab\")return;if(e.tabbingAway=!0,r){const i=document.createElement(\"span\");i.tabIndex=-1,e.trigger.hasAttribute(\"slot\")&&(i.slot=e.trigger.slot),e.trigger.insertAdjacentElement(\"afterend\",i),i.focus(),i.remove();return}t.stopPropagation();const n=e.trigger;typeof n.open!=\"undefined\"&&(n.open=!1),this.closeOverlay(e.overlayContent),e.trigger.focus()})}closeOverlay(e){this.overlayTimer.close(e),requestAnimationFrame(()=>{const t=this.findOverlayForContent(e),o=[t];o.push(...p(t,this.overlays)),o.forEach(r=>this.hideAndCloseOverlay(r))})}closeAllHoverOverlays(){for(const e of this.overlays)e.interaction===\"hover\"&&this.hideAndCloseOverlay(e,!1)}closeOverlaysForRoot(e){const t=[];for(const o of this.overlays)o.root&&o.root===e&&(t.push(o),t.push(...p(o,this.overlays)));t.forEach(o=>this.hideAndCloseOverlay(o,!0,!0))}async manageFocusAfterCloseWhenOverlaysRemain(e,t){const o=this.overlays[this.overlays.length-1];if(o.feature(),o.interaction===\"modal\"||o.hasModalRoot){if(e)return;await(t||o).focus()}else this.stopTabTrapping()}manageFocusAfterCloseWhenLastOverlay(e){this.stopTabTrapping();const t=e.interaction===\"modal\",o=e.receivesFocus===\"auto\",r=e.interaction===\"replace\",n=e.interaction===\"inline\",i=(r||n)&&!e.tabbingAway;if(e.tabbingAway=!1,!t&&!o&&!i)return;const l=e.overlayContent.getRootNode().activeElement;let d,c;const u=()=>e.overlayContent.contains(l),y=()=>(d=e.trigger.getRootNode(),c=d.activeElement,d.contains(c)),m=()=>d.host&&d.host===c;(t||u()||y()||m())&&e.trigger.focus()}async hideAndCloseOverlay(e,t,o){if(!e)return;const r=e.overlayContent;if(typeof r.overlayWillCloseCallback!=\"undefined\"){const{trigger:i}=e;if(r.overlayWillCloseCallback({trigger:i}))return}if(await e.hide(t),typeof r.open!=\"undefined\"&&(r.open=!1),r.overlayCloseCallback){const{trigger:i}=e;await r.overlayCloseCallback({trigger:i})}if(e.state!=\"dispose\")return;const n=this.overlays.indexOf(e);n>=0&&this.overlays.splice(n,1),this.overlays.length?await this.manageFocusAfterCloseWhenOverlaysRemain(o||e.interaction===\"hover\",e.trigger):this.manageFocusAfterCloseWhenLastOverlay(e),await e.updateComplete,e.remove(),e.dispose(),e.trigger.dispatchEvent(new CustomEvent(\"sp-closed\",{bubbles:!0,composed:!0,cancelable:!0,detail:{interaction:e.interaction}}))}closeTopOverlay(){return this.hideAndCloseOverlay(this.topOverlay,!0)}}\n//# sourceMappingURL=overlay-stack.js.map\n","\"use strict\";import{OverlayStack as m}from\"./overlay-stack.js\";const r=class{constructor(e,t,n){this.isOpen=!1;this.owner=e,this.overlayElement=n,this.interaction=t}static async open(e,t,n,i){const a=new r(e,t,n);return await a.open(i),()=>{a.close()}}static update(){const e=new CustomEvent(\"sp-update-overlays\",{bubbles:!0,composed:!0,cancelable:!0});document.dispatchEvent(e)}async open({abortPromise:e,delayed:t,offset:n=0,placement:i=\"top\",receivesFocus:a,notImmediatelyClosable:s,virtualTrigger:c,root:p}){if(this.isOpen)return!0;t===void 0&&(t=this.overlayElement.hasAttribute(\"delayed\"));const l={color:void 0,scale:void 0,lang:void 0,theme:void 0},u=new CustomEvent(\"sp-query-theme\",{bubbles:!0,composed:!0,detail:l,cancelable:!0});this.owner.dispatchEvent(u);const o={},v=new CustomEvent(\"sp-overlay-query\",{bubbles:!0,composed:!0,detail:o,cancelable:!0});return this.overlayElement.dispatchEvent(v),await r.overlayStack.openOverlay({abortPromise:e,content:this.overlayElement,contentTip:o.overlayContentTipElement,delayed:t,offset:n,placement:i,trigger:this.owner,interaction:this.interaction,theme:l,receivesFocus:a,root:p,notImmediatelyClosable:s,virtualTrigger:c,...o}),this.isOpen=!0,!0}close(){r.overlayStack.closeOverlay(this.overlayElement)}};export let Overlay=r;Overlay.overlayStack=new m;\n//# sourceMappingURL=overlay.js.map\n","\"use strict\";export const getDeepElementFromPoint=(o,t)=>{let e=document.elementFromPoint(o,t);for(;e!=null&&e.shadowRoot;){const n=e.shadowRoot.elementFromPoint(o,t);if(!n||n===e)break;e=n}return e};\n//# sourceMappingURL=get-deep-element-from-point.js.map\n"],"names":["css","el","closest","closestOverlay","getRootNode","host","parentOverlayOf","rootNode","findOverlaysRootedInOverlay","rootOverlay","activeOverlays","overlay","root","overlays","push","t","split","e","n","includes","r","i","o","a","reference","l","floating","s","c","x","width","f","y","height","u","m","g","d","p","top","right","bottom","left","platform","rects","elements","strategy","boundary","rootBoundary","elementContext","altBoundary","padding","h","getClippingRect","element","isElement","contextElement","getDocumentElement","w","convertOffsetParentRelativeRectToViewportRelativeRect","rect","offsetParent","getOffsetParent","Math","min","max","name","options","[object Object]","placement","getDimensions","v","b","R","A","P","T","clientHeight","clientWidth","O","L","D","k","E","C","data","centerOffset","replace","main","cross","start","end","reduce","concat","middlewareData","initialPlacement","mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","flipAlignment","flip","overflows","isRTL","every","index","reset","map","filter","sort","alignmentAxis","limiter","fn","apply","availableHeight","availableWidth","document","location","alert","setInterval","window","ownerDocument","defaultView","getComputedStyle","nodeName","toLowerCase","navigator","userAgentData","brands","brand","version","join","userAgent","HTMLElement","Element","ShadowRoot","overflow","overflowX","overflowY","display","test","transform","perspective","willChange","some","contain","round","getBoundingClientRect","offsetWidth","offsetHeight","visualViewport","offsetLeft","offsetTop","Node","documentElement","scrollLeft","scrollTop","pageXOffset","pageYOffset","clientLeft","clientTop","assignedSlot","parentNode","position","W","H","body","scrollWidth","scrollHeight","direction","N","contains","S","getElementRects","getClientRects","Array","from","async","middleware","length","initial","states","idle","on","active","hiding","dispose","disposed","stateTransition","state","event","stateMachine","getFallbackPlacements","_a","left-start","left-end","right-start","right-end","top-start","top-end","bottom-start","bottom-end","_ActiveOverlay","constructor","super","this","contentAnimationPromise","Promise","resolve","resolveContentAnimationPromise","_state","animating","theme","tabbingAway","offset","skidding","interaction","positionAnimationFrame","willNotifyClosed","isConstrained","updateOverlayPosition","cleanup","dispatchEvent","num","devicePixelRatio","dpr","fonts","ready","flipMiddleware","virtualTrigger","shift","size","floor","actualHeight","initialHeight","maxHeight","Object","assign","style","maxWidth","appliedHeight","overlayContentTip","arrow","trigger","roundByDPR","getAttribute","setAttribute","overlayContent","arrowX","arrowY","handleInlineTriggerKeydown","code","shiftKey","stopPropagation","preventDefault","focus","stealOverlayContentPromise","res","stealOverlayContentResolver","nextState","removeAttribute","firstFocusableIn","firstFocusable","updateComplete","activeElement","hasTheme","color","scale","lang","styles","hasModalRoot","_modalRoot","tabIndex","parentOverlay","slot","feature","nextOverlayInteraction","obscure","hasUpdated","stealOverlayContent","setProperty","innerHeight","addEventListener","applyContentAnimation","lifecycleCallback","receivesFocus","bubbles","composed","cancelable","detail","openDetail","extractDetail","content","contentTip","timeout","clearTimeout","removeEventListener","returnOverlayContent","originalPlacement","restoreContent","reparentChildren","prepareCallback","slotName","ancestorScroll","ancestorResize","elementResize","animationFrame","forEach","passive","ResizeObserver","observe","requestAnimationFrame","disconnect","cancelAnimationFrame","autoUpdate","animated","placeOverlay","schedulePositionUpdate","animation","shadowRoot","querySelector","doneHandler","animationName","contents","type","ifDefined","html","onSlotChange","renderTheme","details","open","getUpdateComplete","actions","complete","all","disconnectedCallback","__decorateClass","property","ActiveOverlay","prototype","reflect","Boolean","attribute","warmUpDelay","coolDownDelay","isWarm","component","cancelCooldownTimer","close","promise","setTimeout","resetCooldownTimer","cooldownTimeout","customElements","define","owner","overlayElement","isOpen","overlayUpdateEvent","abortPromise","delayed","notImmediatelyClosable","hasAttribute","queryThemeEvent","queryThemeDetail","queryOverlayDetailEvent","overlayDetailQuery","overlayStack","openOverlay","overlayContentTipElement","_Overlay","closeOverlay","Overlay","preventMouseRootClose","handlingResize","overlayTimer","canTabTrap","trappingInited","_eventsAreBound","_bodyMarginsApplied","forwardContextmenuEvent","topOverlay","target","overlayHolder","closeTopOverlay","elementFromPoint","innerTarget","clientX","clientY","closeOverlaysForRoot","handleMouseCapture","metaKey","altKey","ctrlKey","hasModifier","button","isLeftClick","composedPath","indexOf","_doesNotCloseOnFirstClick","handleMouse","defaultPrevented","overlaysToClose","path","hideAndCloseOverlay","handleKeydown","handleResize","promises","initTabTrapping","readyState","once","attachShadow","mode","innerHTML","tabTrapper","applyBodyMargins","marginLeft","marginRight","marginTop","marginBottom","allZero","parseFloat","slice","item","handleOverlayClose","addEventListeners","findOverlayForContent","startTabTrapping","contentWithLifecycle","overlayWillOpenCallback","openTimer","race","cancelled","overlayOpenCancelledCallback","closeAllHoverOverlays","isClickOverlayActiveForTrigger","create","activeOverlay","appendChild","addOverlayEventListeners","overlayOpenCallback","cb","openCallback","addReplaceOverlayEventListeners","addInlineOverlayEventListeners","createElement","returnFocusElement","insertAdjacentElement","remove","triggerWithLifecycle","overlayFromContent","returnBeforeFocus","previousTrigger","stopTabTrapping","isReceivesFocus","isReplace","isInline","isTabbingAwayFromInlineOrReplace","isModal","triggerActiveElement","overlayContentActiveElement","triggerRoot","overlayWillCloseCallback","hide","overlayCloseCallback","splice","manageFocusAfterCloseWhenOverlaysRemain","manageFocusAfterCloseWhenLastOverlay"],"mappings":"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"}