{"version":3,"file":"29456afc.js","sources":["../../../packages/iconset/stories/icons-demo.js"],"sourcesContent":["import { __decorate } from \"tslib\";\nimport { css, html, SpectrumElement, } from '@spectrum-web-components/base';\nimport { customElement, property, } from '@spectrum-web-components/base/src/decorators.js';\nimport { ifDefined } from '@spectrum-web-components/base/src/directives.js';\nimport '@spectrum-web-components/search/sp-search.js';\nimport '@spectrum-web-components/field-label/sp-field-label.js';\nimport bodyStyles from '@spectrum-web-components/styles/body.js';\nimport '@spectrum-web-components/icon/sp-icon.js';\nimport '@spectrum-web-components/help-text/sp-help-text.js';\nlet DelayedReady = class DelayedReady extends SpectrumElement {\n    render() {\n        return html `\n            <slot @slotchange=${this.handleSlotchange}></slot>\n        `;\n    }\n    firstUpdated() {\n        this._delayedReady = new Promise((res) => (this._resolveDelayedReady = res));\n    }\n    async getUpdateComplete() {\n        const complete = (await super.getUpdateComplete());\n        await this._delayedReady;\n        return complete;\n    }\n    handleSlotchange({ target, }) {\n        if (target.assignedElements({ flatten: true }).length) {\n            requestAnimationFrame(() => {\n                this._resolveDelayedReady();\n            });\n        }\n    }\n};\nDelayedReady = __decorate([\n    customElement('delayed-ready')\n], DelayedReady);\nexport { DelayedReady };\nlet IconsDemo = class IconsDemo extends SpectrumElement {\n    constructor() {\n        super();\n        this.name = 'ui';\n        this.package = '';\n        this.size = 'm';\n        this.search = '';\n        this.icons = [];\n        this.iconset = [];\n        this.iconset = [];\n        this.handleIconSetAdded = this.handleIconSetAdded.bind(this);\n    }\n    connectedCallback() {\n        super.connectedCallback();\n        window.addEventListener('sp-iconset-added', this.handleIconSetAdded);\n    }\n    disconnectedCallback() {\n        window.removeEventListener('sp-iconset-added', this.handleIconSetAdded);\n        super.disconnectedCallback();\n    }\n    handleIconSetAdded(event) {\n        const { iconset } = event.detail;\n        this.iconset = iconset.getIconList();\n        this.requestUpdate();\n    }\n    static get styles() {\n        return [\n            ...bodyStyles,\n            css `\n                :host {\n                    display: grid;\n                    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));\n                    gap: 20px;\n                    align-items: flex-start;\n                }\n                .icon {\n                    display: flex;\n                    flex-direction: column;\n                    align-items: center;\n                    text-align: center;\n                    border-radius: var(\n                        --spectrum-alias-focus-ring-gap,\n                        var(--spectrum-global-dimension-static-size-25)\n                    );\n                }\n                :host([package]) .icon {\n                    cursor: pointer;\n                }\n                sp-icon {\n                    margin-bottom: 10px;\n                }\n                .search {\n                    grid-column-start: 1;\n                    grid-column-end: -1;\n                }\n                .icon[tabindex]:focus {\n                    outline: none;\n                }\n                .icon[tabindex]:focus-visible {\n                    outline: var(--spectrum-alias-focus-ring-size) solid\n                        var(--spectrum-alias-focus-ring-color);\n                    outline-offset: calc(\n                        var(\n                                --spectrum-alias-focus-ring-gap,\n                                var(--spectrum-global-dimension-static-size-25)\n                            ) * 2\n                    );\n                }\n            `,\n        ];\n    }\n    handleKeydown(event, tag) {\n        const { code } = event;\n        if (code !== 'Enter' && code !== 'NumpadEnter' && code !== 'Space') {\n            return;\n        }\n        event.preventDefault();\n        this.shouldCopy(tag);\n    }\n    shouldCopy(tag) {\n        if (!this.package)\n            return;\n        const conditionedTag = tag.slice(1, tag.length - 1);\n        const importURL = `import '@spectrum-web-components/${this.package}/icons/${conditionedTag}.js';`;\n        this.dispatchEvent(new CustomEvent('copy-text', {\n            bubbles: true,\n            composed: true,\n            detail: {\n                message: 'Import statement copied to clipboard!',\n                text: importURL,\n            },\n        }));\n    }\n    updateSearch(event) {\n        event.stopPropagation();\n        this.search = event.target.value;\n    }\n    submit(event) {\n        event.stopPropagation();\n        this.updateSearch(event);\n    }\n    renderSearch() {\n        const matchingIcons = this.search\n            ? this.icons.filter((icon) => icon.name.toLowerCase().search(this.search) !== -1)\n            : this.icons;\n        return html `\n            <div class=\"search\" part=\"search\">\n                <sp-field-label for=\"search\">Spectrum icons:</sp-field-label>\n                <sp-search\n                    id=\"search\"\n                    @keydown=${this.updateSearch}\n                    @input=${this.updateSearch}\n                    @submit=${this.submit}\n                    .value=${this.search}\n                    label=\"Search for icons\"\n                    autocomplete=\"off\"\n                >\n                    <sp-help-text slot=\"help-text\">\n                        Showing ${matchingIcons.length} of ${this.icons.length}\n                        available icons.\n                    </sp-help-text>\n                </sp-search>\n            </div>\n            ${matchingIcons.map((icon) => {\n            return html `\n                    <bdo\n                        class=\"icon\"\n                        part=\"icon\"\n                        dir=\"ltr\"\n                        class=\"icon\"\n                        @click=${() => this.shouldCopy(icon.tag)}\n                        @keydown=${(event) => this.handleKeydown(event, icon.tag)}\n                        tabindex=${ifDefined(this.package ? '0' : undefined)}\n                    >\n                        ${icon.story(this.size)} ${icon.tag}\n                    </bdo>\n                `;\n        })}\n        `;\n    }\n    render() {\n        return html `\n            ${this.icons.length\n            ? this.renderSearch()\n            : html `\n                      <slot></slot>\n                  `}\n            ${this.iconset.map((icon) => html `\n                    <bdo class=\"icon\" dir=\"ltr\">\n                        <sp-icon\n                            size=\"xl\"\n                            name=${`${this.name}:${icon}`}\n                        ></sp-icon>\n                        ${icon}\n                    </bdo>\n                `)}\n        `;\n    }\n};\n__decorate([\n    property()\n], IconsDemo.prototype, \"name\", void 0);\n__decorate([\n    property()\n], IconsDemo.prototype, \"package\", void 0);\n__decorate([\n    property()\n], IconsDemo.prototype, \"size\", void 0);\n__decorate([\n    property()\n], IconsDemo.prototype, \"search\", void 0);\n__decorate([\n    property({ attribute: false })\n], IconsDemo.prototype, \"icons\", void 0);\nIconsDemo = __decorate([\n    customElement('icons-demo')\n], IconsDemo);\nexport { IconsDemo };\n//# sourceMappingURL=icons-demo.js.map"],"names":["DelayedReady","render","this","handleSlotchange","firstUpdated","_delayedReady","res","_resolveDelayedReady","[object Object]","getUpdateComplete","target","assignedElements","flatten","length","requestAnimationFrame","customElement","IconsDemo","constructor","super","iconset","handleIconSetAdded","bind","connectedCallback","window","addEventListener","disconnectedCallback","removeEventListener","event","detail","getIconList","requestUpdate","styles","bodyStyles","css","handleKeydown","tag","code","preventDefault","shouldCopy","package","slice","conditionedTag","dispatchEvent","bubbles","composed","message","text","importURL","updateSearch","stopPropagation","search","value","submit","renderSearch","icons","filter","icon","name","toLowerCase","matchingIcons","map","ifDefined","undefined","story","size","html","__decorate","property","attribute"],"mappings":"mSAgCaA,MAAb,gBAIcC,SACN,QAAW,sBACaC,KAAKC,4BAIvBC,eACNF,KAAKG,cAAgB,aAChBC,GAASJ,KAAKK,qBAAuBD,IAIbE,0BAC7B,oBAA8BC,oBAE9B,kBADWJ,gBAIRF,kBAAiBO,OACpBA,IAEIA,EAAOC,iBAAiB,CAAEC,SAAS,IAAQC,QAC3CC,uBAAsB,KAClBZ,KAAKK,4BA3BRP,KADZe,EAAc,kBACFf,GAkCAgB,MAAb,gBAqBIC,cACIC,QApBGhB,UAAO,KAGPA,aAAU,GAGVA,UAAO,IAGPA,YAAS,GAGTA,WAID,GAEEA,aAAoB,GAGxBA,KAAKiB,QAAU,GACfjB,KAAKkB,mBAAqBlB,KAAKkB,mBAAmBC,KAAKnB,MAEpDoB,oBACHJ,MAAMI,oBACNC,OAAOC,iBAAiB,mBAAoBtB,KAAKkB,oBAE9CK,uBACHF,OAAOG,oBAAoB,mBAAoBxB,KAAKkB,oBACpDF,MAAMO,uBAEHL,mBAAmBO,GACtB,MAAMR,QAAEA,GAAYQ,EAAMC,OAC1B1B,KAAKiB,QAAUA,EAAQU,cACvB3B,KAAK4B,gBAEeC,oBACpB,MAAO,IACAC,EACHC,CAAG,wpBA2CHC,cAAcP,EAAsBQ,GACxC,MAAMC,KAAEA,GAAST,EACJ,UAATS,GAA6B,gBAATA,GAAmC,UAATA,IAGlDT,EAAMU,iBACNnC,KAAKoC,WAAWH,IAGZG,WAAWH,GACf,IAAKjC,KAAKqC,QAAS,OACnB,QAAuBJ,EAAIK,MAAM,EAAGL,EAAItB,OAAS,KAC/B,oCAAoCX,KAAKqC,iBAAiBE,SAC5EvC,KAAKwC,cACD,gBAAgB,YAAa,CACzBC,SAAS,EACTC,UAAU,EACVhB,OAAQ,CACJiB,QAAS,wCACTC,KAAMC,MAKdC,aAAarB,GACjBA,EAAMsB,kBACN/C,KAAKgD,OAASvB,EAAMjB,OAAOyC,MAEvBC,OAAOzB,GACXA,EAAMsB,kBACN/C,KAAK8C,aAAarB,GAEd0B,eACJ,QAAsBnD,KAAKgD,OACrBhD,KAAKoD,MAAMC,QACNC,IAA0D,IAAjDA,EAAKC,KAAKC,cAAcR,OAAOhD,KAAKgD,UAElDhD,KAAKoD,MACX,QAAW,mIAKYpD,KAAK8C,yBACP9C,KAAK8C,0BACJ9C,KAAKkD,mBACNlD,KAAKgD,8FAKAS,EAAc9C,aAAaX,KAAKoD,MAAMzC,2DAK1D8C,EAAcC,KAAKJ,IACN,gEAMM,IAAMtD,KAAKoC,WAAWkB,EAAKrB,mBACxBR,GACRzB,KAAKgC,cAAcP,EAAO6B,EAAKrB,mBACxB0B,EAAU3D,KAAKqC,QAAU,SAAMuB,OAExCN,EAAKO,MAAM7D,KAAK8D,SAASR,EAAKrB,gBAM1ClC,SACN,QAAW,GACLC,KAAKoD,MAAMzC,OACPX,KAAKmD,eACLY,CAAI,mBAGR/D,KAAKiB,QAAQyC,KACVJ,GAASS,CAAI,wDAIK,GAAG/D,KAAKuD,QAAQD,kBAEzBA,gBA3KtBU,GADCC,gCAIDD,GADCC,mCAIDD,GADCC,gCAIDD,GADCC,kCAIDD,GADCC,EAAS,CAAEC,WAAW,iCAbdpD,KADZD,EAAc,eACFC"}