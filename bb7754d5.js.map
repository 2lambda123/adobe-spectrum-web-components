{"version":3,"file":"bb7754d5.js","sources":["../../../packages/iconset/stories/icons-demo.js"],"sourcesContent":["import { __decorate } from \"tslib\";\nimport { css, html, SpectrumElement, } from '@spectrum-web-components/base';\nimport { customElement, property, } from '@spectrum-web-components/base/src/decorators.js';\nimport { ifDefined } from '@spectrum-web-components/base/src/directives.js';\nimport '@spectrum-web-components/search/sp-search.js';\nimport '@spectrum-web-components/field-label/sp-field-label.js';\nimport bodyStyles from '@spectrum-web-components/styles/body.js';\nimport '@spectrum-web-components/icon/sp-icon.js';\nlet DelayedReady = class DelayedReady extends SpectrumElement {\n    render() {\n        return html `\n            <slot @slotchange=${this.handleSlotchange}></slot>\n        `;\n    }\n    firstUpdated() {\n        this._delayedReady = new Promise((res) => (this._resolveDelayedReady = res));\n    }\n    async getUpdateComplete() {\n        const complete = (await super.getUpdateComplete());\n        await this._delayedReady;\n        return complete;\n    }\n    handleSlotchange({ target, }) {\n        if (target.assignedElements({ flatten: true }).length) {\n            requestAnimationFrame(() => {\n                this._resolveDelayedReady();\n            });\n        }\n    }\n};\nDelayedReady = __decorate([\n    customElement('delayed-ready')\n], DelayedReady);\nexport { DelayedReady };\nlet IconsDemo = class IconsDemo extends SpectrumElement {\n    constructor() {\n        super();\n        this.name = 'ui';\n        this.package = '';\n        this.size = 'm';\n        this.search = '';\n        this.icons = [];\n        this.iconset = [];\n        this.iconset = [];\n        this.handleIconSetAdded = this.handleIconSetAdded.bind(this);\n    }\n    connectedCallback() {\n        super.connectedCallback();\n        window.addEventListener('sp-iconset-added', this.handleIconSetAdded);\n    }\n    disconnectedCallback() {\n        window.removeEventListener('sp-iconset-added', this.handleIconSetAdded);\n        super.disconnectedCallback();\n    }\n    handleIconSetAdded(event) {\n        const { iconset } = event.detail;\n        this.iconset = iconset.getIconList();\n        this.requestUpdate();\n    }\n    static get styles() {\n        return [\n            ...bodyStyles,\n            css `\n                :host {\n                    display: grid;\n                    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));\n                    gap: 20px;\n                    align-items: flex-start;\n                }\n                .icon {\n                    display: flex;\n                    flex-direction: column;\n                    align-items: center;\n                    text-align: center;\n                    border-radius: var(\n                        --spectrum-alias-focus-ring-gap,\n                        var(--spectrum-global-dimension-static-size-25)\n                    );\n                }\n                :host([package]) .icon {\n                    cursor: pointer;\n                }\n                sp-icon {\n                    margin-bottom: 10px;\n                }\n                .search {\n                    grid-column-start: 1;\n                    grid-column-end: -1;\n                }\n                .icon[tabindex]:focus {\n                    outline: none;\n                }\n                .icon[tabindex]:focus-visible {\n                    outline: var(--spectrum-alias-focus-ring-size) solid\n                        var(--spectrum-alias-focus-ring-color);\n                    outline-offset: calc(\n                        var(\n                                --spectrum-alias-focus-ring-gap,\n                                var(--spectrum-global-dimension-static-size-25)\n                            ) * 2\n                    );\n                }\n            `,\n        ];\n    }\n    handleKeydown(event, tag) {\n        const { code } = event;\n        if (code !== 'Enter' && code !== 'NumpadEnter' && code !== 'Space') {\n            return;\n        }\n        event.preventDefault();\n        this.shouldCopy(tag);\n    }\n    shouldCopy(tag) {\n        if (!this.package)\n            return;\n        const conditionedTag = tag.slice(1, tag.length - 1);\n        const importURL = `import '@spectrum-web-components/${this.package}/icons/${conditionedTag}.js';`;\n        this.dispatchEvent(new CustomEvent('copy-text', {\n            bubbles: true,\n            composed: true,\n            detail: {\n                text: importURL,\n            },\n        }));\n    }\n    updateSearch(event) {\n        event.stopPropagation();\n        this.search = event.target.value;\n    }\n    submit(event) {\n        event.stopPropagation();\n        this.updateSearch(event);\n    }\n    renderSearch() {\n        const matchingIcons = this.search\n            ? this.icons.filter((icon) => icon.name.toLowerCase().search(this.search) !== -1)\n            : this.icons;\n        return html `\n            <div class=\"search\" part=\"search\">\n                <sp-field-label for=\"search\">Spectrum icons:</sp-field-label>\n                <sp-search\n                    id=\"search\"\n                    @keydown=${this.updateSearch}\n                    @input=${this.updateSearch}\n                    @submit=${this.submit}\n                    .value=${this.search}\n                    label=\"Search for icons\"\n                    autocomplete=\"off\"\n                ></sp-search>\n                <p class=\"spectrum-Body spectrum-Body--sizeM\">\n                    Showing ${matchingIcons.length} of ${this.icons.length}\n                    available icons.\n                </p>\n            </div>\n            ${matchingIcons.map((icon) => {\n            return html `\n                    <bdo\n                        class=\"icon\"\n                        part=\"icon\"\n                        dir=\"ltr\"\n                        class=\"icon\"\n                        @click=${() => this.shouldCopy(icon.tag)}\n                        @keydown=${(event) => this.handleKeydown(event, icon.tag)}\n                        tabindex=${ifDefined(this.package ? '0' : undefined)}\n                    >\n                        ${icon.story(this.size)} ${icon.tag}\n                    </bdo>\n                `;\n        })}\n        `;\n    }\n    render() {\n        return html `\n            ${this.icons.length\n            ? this.renderSearch()\n            : html `\n                      <slot></slot>\n                  `}\n            ${this.iconset.map((icon) => html `\n                    <bdo class=\"icon\" dir=\"ltr\">\n                        <sp-icon\n                            size=\"xl\"\n                            name=${`${this.name}:${icon}`}\n                        ></sp-icon>\n                        ${icon}\n                    </bdo>\n                `)}\n        `;\n    }\n};\n__decorate([\n    property()\n], IconsDemo.prototype, \"name\", void 0);\n__decorate([\n    property()\n], IconsDemo.prototype, \"package\", void 0);\n__decorate([\n    property()\n], IconsDemo.prototype, \"size\", void 0);\n__decorate([\n    property()\n], IconsDemo.prototype, \"search\", void 0);\n__decorate([\n    property({ attribute: false })\n], IconsDemo.prototype, \"icons\", void 0);\nIconsDemo = __decorate([\n    customElement('icons-demo')\n], IconsDemo);\nexport { IconsDemo };\n//# sourceMappingURL=icons-demo.js.map"],"names":["DelayedReady","[object Object]","html","this","handleSlotchange","_delayedReady","Promise","res","_resolveDelayedReady","complete","getUpdateComplete","target","assignedElements","flatten","length","requestAnimationFrame","__decorate","customElement","IconsDemo","SpectrumElement","super","name","icons","iconset","handleIconSetAdded","connectedCallback","window","removeEventListener","disconnectedCallback","event","detail","requestUpdate","styles"],"mappings":"mSAiCa,IAAAA,EAAb,gBAIcC,SACN,OAAOC,CAAI,sBAAAC,KAAAC,4BAEVH,eACJE,KAAAE,cAAA,IAAAC,SAAAC,GAAAJ,KAAAK,qBAAAD,IAGqBN,0BAGrB,MAAAQ,cAAAC,oBAGG,gCAAMD,EAENR,kBAAOU,OAAQA,IAClBA,EAAAC,iBAAA,CAAAC,SAAA,IAAAC,QAEMC,6DAgDPf,EAACgB,EAAA,CACJC,EAAA,kBAvEYjB,GAAA,IAAAkB,EAuEZ,cAAAC,EAvEYlB,cA0EbmB,QAqBIjB,KAAAkB,KAAA,kDAbOlB,KAAAmB,MAAO,GAGPnB,KAAAoB,QAAS,GAGTpB,KAAAoB,WAMCpB,KAAAqB,sDAIJvB,oBACHmB,MAAAK,wFAGGxB,uBACHyB,OAAAC,oBAAA,mBAAAxB,KAAAqB,oBACMJ,MAAAQ,uBAmBH3B,mBAAM4B,GAaT,MAAAN,QAAAA,GAAAM,EAAAC,oCAGG3B,KAAA4B,gBAGKC,oBACR,MAAA"}