{"version":3,"file":"0542fa8e.js","sources":["../../../packages/overlay/src/active-overlay.css.js","../../../packages/overlay/src/overlay-utils.js","../../../node_modules/@floating-ui/core/dist/floating-ui.core.browser.min.mjs","../../../node_modules/@floating-ui/dom/dist/floating-ui.dom.browser.min.mjs","../../../packages/overlay/src/ActiveOverlay.js","../../../packages/overlay/src/overlay-timer.js","../../../packages/overlay/active-overlay.js","../../../packages/overlay/src/overlay.js","../../../packages/overlay/src/overlay-stack.js","../../../packages/shared/src/get-deep-element-from-point.js"],"sourcesContent":["\"use strict\";import{css as t}from\"@spectrum-web-components/base\";const e=t`\n@keyframes sp-overlay-fade-in{0%{opacity:0;transform:var(--sp-overlay-from)}to{opacity:1;transform:translate(0)}}@keyframes sp-overlay-fade-out{0%{opacity:1;transform:translate(0)}to{opacity:0;transform:var(--sp-overlay-from)}}:host{display:inline-block;left:-9999em;pointer-events:none;position:absolute;top:-9999em;z-index:1000}:host(:focus){outline:none}:host([placement=none]){height:100vh;height:-webkit-fill-available;height:fill-available;left:0;max-height:var(--swc-visual-viewport-height);position:fixed;top:0}#contents,sp-theme{height:100%}#contents{--swc-overlay-animation-distance:var(\n--spectrum-picker-m-texticon-popover-offset-y,var(--spectrum-global-dimension-size-75)\n);animation-duration:var(\n--swc-test-duration,var(--spectrum-global-animation-duration-200,.16s)\n);animation-timing-function:var(\n--spectrum-global-animation-ease-out,ease-out\n);box-sizing:border-box;display:inline-block;opacity:1;pointer-events:none;visibility:visible}:host([actual-placement*=top]) #contents{--sp-overlay-from:translateY(var(--spectrum-global-dimension-size-75));align-items:flex-end;display:inline-flex;padding-top:var(--swc-overlay-animation-distance)}:host([actual-placement*=right]) #contents{--sp-overlay-from:translateX(calc(var(--spectrum-global-dimension-size-75)*-1));padding-right:var(--swc-overlay-animation-distance)}:host([actual-placement*=bottom]) #contents{--sp-overlay-from:translateY(calc(var(--spectrum-global-dimension-size-75)*-1));padding-bottom:var(--swc-overlay-animation-distance)}:host([actual-placement*=left]) #contents{--sp-overlay-from:translateX(var(--spectrum-global-dimension-size-75));padding-left:var(--swc-overlay-animation-distance)}:host([animating]) ::slotted(*){pointer-events:none}:host(:not([animating])) ::slotted(*){pointer-events:auto}#contents ::slotted(*){position:relative}\n`;export default e;\n//# sourceMappingURL=active-overlay.css.js.map\n","\"use strict\";export const parentOverlayOf=e=>{if(!e)return null;const o=e.closest(\"active-overlay\");if(o)return o;const t=e.getRootNode();return t.host?parentOverlayOf(t.host):null},findOverlaysRootedInOverlay=(e,o)=>{const t=[];if(!e)return[];for(const r of o)!r.root||parentOverlayOf(r.root)===e&&(t.push(r),t.push(...findOverlaysRootedInOverlay(r,o)));return t};\n//# sourceMappingURL=overlay-utils.js.map\n","function t(t){return t.split(\"-\")[0]}function e(t){return t.split(\"-\")[1]}function n(e){return[\"top\",\"bottom\"].includes(t(e))?\"x\":\"y\"}function r(t){return\"y\"===t?\"height\":\"width\"}function i(i,o,a){let{reference:l,floating:s}=i;const c=l.x+l.width/2-s.width/2,f=l.y+l.height/2-s.height/2,u=n(o),m=r(u),g=l[m]/2-s[m]/2,d=\"x\"===u;let p;switch(t(o)){case\"top\":p={x:c,y:l.y-s.height};break;case\"bottom\":p={x:c,y:l.y+l.height};break;case\"right\":p={x:l.x+l.width,y:f};break;case\"left\":p={x:l.x-s.width,y:f};break;default:p={x:l.x,y:l.y}}switch(e(o)){case\"start\":p[u]-=g*(a&&d?-1:1);break;case\"end\":p[u]+=g*(a&&d?-1:1)}return p}const o=async(t,e,n)=>{const{placement:r=\"bottom\",strategy:o=\"absolute\",middleware:a=[],platform:l}=n,s=await(null==l.isRTL?void 0:l.isRTL(e));let c=await l.getElementRects({reference:t,floating:e,strategy:o}),{x:f,y:u}=i(c,r,s),m=r,g={};for(let n=0;n<a.length;n++){const{name:d,fn:p}=a[n],{x:h,y:y,data:x,reset:w}=await p({x:f,y:u,initialPlacement:r,placement:m,strategy:o,middlewareData:g,rects:c,platform:l,elements:{reference:t,floating:e}});f=null!=h?h:f,u=null!=y?y:u,g={...g,[d]:{...g[d],...x}},w&&(\"object\"==typeof w&&(w.placement&&(m=w.placement),w.rects&&(c=!0===w.rects?await l.getElementRects({reference:t,floating:e,strategy:o}):w.rects),({x:f,y:u}=i(c,m,s))),n=-1)}return{x:f,y:u,placement:m,strategy:o,middlewareData:g}};function a(t){return\"number\"!=typeof t?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(t):{top:t,right:t,bottom:t,left:t}}function l(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}async function s(t,e){var n;void 0===e&&(e={});const{x:r,y:i,platform:o,rects:s,elements:c,strategy:f}=t,{boundary:u=\"clippingAncestors\",rootBoundary:m=\"viewport\",elementContext:g=\"floating\",altBoundary:d=!1,padding:p=0}=e,h=a(p),y=c[d?\"floating\"===g?\"reference\":\"floating\":g],x=l(await o.getClippingRect({element:null==(n=await(null==o.isElement?void 0:o.isElement(y)))||n?y:y.contextElement||await(null==o.getDocumentElement?void 0:o.getDocumentElement(c.floating)),boundary:u,rootBoundary:m,strategy:f})),w=l(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({rect:\"floating\"===g?{...s.floating,x:r,y:i}:s.reference,offsetParent:await(null==o.getOffsetParent?void 0:o.getOffsetParent(c.floating)),strategy:f}):s[g]);return{top:x.top-w.top+h.top,bottom:w.bottom-x.bottom+h.bottom,left:x.left-w.left+h.left,right:w.right-x.right+h.right}}const c=Math.min,f=Math.max;function u(t,e,n){return f(t,c(e,n))}const m=t=>({name:\"arrow\",options:t,async fn(i){const{element:o,padding:l=0}=null!=t?t:{},{x:s,y:c,placement:f,rects:m,platform:g}=i;if(null==o)return{};const d=a(l),p={x:s,y:c},h=n(f),y=e(f),x=r(h),w=await g.getDimensions(o),v=\"y\"===h?\"top\":\"left\",b=\"y\"===h?\"bottom\":\"right\",R=m.reference[x]+m.reference[h]-p[h]-m.floating[x],A=p[h]-m.reference[h],P=await(null==g.getOffsetParent?void 0:g.getOffsetParent(o));let T=P?\"y\"===h?P.clientHeight||0:P.clientWidth||0:0;0===T&&(T=m.floating[x]);const O=R/2-A/2,D=d[v],L=T-w[x]-d[b],k=T/2-w[x]/2+O,E=u(D,k,L),C=(\"start\"===y?d[v]:d[b])>0&&k!==E&&m.reference[x]<=m.floating[x];return{[h]:p[h]-(C?k<D?D-k:L-k:0),data:{[h]:E,centerOffset:k-E}}}}),g={left:\"right\",right:\"left\",bottom:\"top\",top:\"bottom\"};function d(t){return t.replace(/left|right|bottom|top/g,(t=>g[t]))}function p(t,i,o){void 0===o&&(o=!1);const a=e(t),l=n(t),s=r(l);let c=\"x\"===l?a===(o?\"end\":\"start\")?\"right\":\"left\":\"start\"===a?\"bottom\":\"top\";return i.reference[s]>i.floating[s]&&(c=d(c)),{main:c,cross:d(c)}}const h={start:\"end\",end:\"start\"};function y(t){return t.replace(/start|end/g,(t=>h[t]))}const x=[\"top\",\"right\",\"bottom\",\"left\"],w=x.reduce(((t,e)=>t.concat(e,e+\"-start\",e+\"-end\")),[]);const v=function(n){return void 0===n&&(n={}),{name:\"autoPlacement\",options:n,async fn(r){var i,o,a,l,c;const{x:f,y:u,rects:m,middlewareData:g,placement:d,platform:h,elements:x}=r,{alignment:v=null,allowedPlacements:b=w,autoAlignment:R=!0,...A}=n,P=function(n,r,i){return(n?[...i.filter((t=>e(t)===n)),...i.filter((t=>e(t)!==n))]:i.filter((e=>t(e)===e))).filter((t=>!n||e(t)===n||!!r&&y(t)!==t))}(v,R,b),T=await s(r,A),O=null!=(i=null==(o=g.autoPlacement)?void 0:o.index)?i:0,D=P[O];if(null==D)return{};const{main:L,cross:k}=p(D,m,await(null==h.isRTL?void 0:h.isRTL(x.floating)));if(d!==D)return{x:f,y:u,reset:{placement:P[0]}};const E=[T[t(D)],T[L],T[k]],C=[...null!=(a=null==(l=g.autoPlacement)?void 0:l.overflows)?a:[],{placement:D,overflows:E}],H=P[O+1];if(H)return{data:{index:O+1,overflows:C},reset:{placement:H}};const B=C.slice().sort(((t,e)=>t.overflows[0]-e.overflows[0])),V=null==(c=B.find((t=>{let{overflows:e}=t;return e.every((t=>t<=0))})))?void 0:c.placement,F=null!=V?V:B[0].placement;return F!==d?{data:{index:O+1,overflows:C},reset:{placement:F}}:{}}}};const b=function(e){return void 0===e&&(e={}),{name:\"flip\",options:e,async fn(n){var r;const{placement:i,middlewareData:o,rects:a,initialPlacement:l,platform:c,elements:f}=n,{mainAxis:u=!0,crossAxis:m=!0,fallbackPlacements:g,fallbackStrategy:h=\"bestFit\",flipAlignment:x=!0,...w}=e,v=t(i),b=g||(v===l||!x?[d(l)]:function(t){const e=d(t);return[y(t),e,y(e)]}(l)),R=[l,...b],A=await s(n,w),P=[];let T=(null==(r=o.flip)?void 0:r.overflows)||[];if(u&&P.push(A[v]),m){const{main:t,cross:e}=p(i,a,await(null==c.isRTL?void 0:c.isRTL(f.floating)));P.push(A[t],A[e])}if(T=[...T,{placement:i,overflows:P}],!P.every((t=>t<=0))){var O,D;const t=(null!=(O=null==(D=o.flip)?void 0:D.index)?O:0)+1,e=R[t];if(e)return{data:{index:t,overflows:T},reset:{placement:e}};let n=\"bottom\";switch(h){case\"bestFit\":{var L;const t=null==(L=T.map((t=>[t,t.overflows.filter((t=>t>0)).reduce(((t,e)=>t+e),0)])).sort(((t,e)=>t[1]-e[1]))[0])?void 0:L[0].placement;t&&(n=t);break}case\"initialPlacement\":n=l}if(i!==n)return{reset:{placement:n}}}return{}}}};function R(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function A(t){return x.some((e=>t[e]>=0))}const P=function(t){let{strategy:e=\"referenceHidden\",...n}=void 0===t?{}:t;return{name:\"hide\",async fn(t){const{rects:r}=t;switch(e){case\"referenceHidden\":{const e=R(await s(t,{...n,elementContext:\"reference\"}),r.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:A(e)}}}case\"escaped\":{const e=R(await s(t,{...n,altBoundary:!0}),r.floating);return{data:{escapedOffsets:e,escaped:A(e)}}}default:return{}}}}};const T=function(r){return void 0===r&&(r=0),{name:\"offset\",options:r,async fn(i){const{x:o,y:a}=i,l=await async function(r,i){const{placement:o,platform:a,elements:l}=r,s=await(null==a.isRTL?void 0:a.isRTL(l.floating)),c=t(o),f=e(o),u=\"x\"===n(o),m=[\"left\",\"top\"].includes(c)?-1:1,g=s&&u?-1:1,d=\"function\"==typeof i?i(r):i;let{mainAxis:p,crossAxis:h,alignmentAxis:y}=\"number\"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return f&&\"number\"==typeof y&&(h=\"end\"===f?-1*y:y),u?{x:h*g,y:p*m}:{x:p*m,y:h*g}}(i,r);return{x:o+l.x,y:a+l.y,data:l}}}};function O(t){return\"x\"===t?\"y\":\"x\"}const D=function(e){return void 0===e&&(e={}),{name:\"shift\",options:e,async fn(r){const{x:i,y:o,placement:a}=r,{mainAxis:l=!0,crossAxis:c=!1,limiter:f={fn:t=>{let{x:e,y:n}=t;return{x:e,y:n}}},...m}=e,g={x:i,y:o},d=await s(r,m),p=n(t(a)),h=O(p);let y=g[p],x=g[h];if(l){const t=\"y\"===p?\"bottom\":\"right\";y=u(y+d[\"y\"===p?\"top\":\"left\"],y,y-d[t])}if(c){const t=\"y\"===h?\"bottom\":\"right\";x=u(x+d[\"y\"===h?\"top\":\"left\"],x,x-d[t])}const w=f.fn({...r,[p]:y,[h]:x});return{...w,data:{x:w.x-i,y:w.y-o}}}}},L=function(e){return void 0===e&&(e={}),{options:e,fn(r){const{x:i,y:o,placement:a,rects:l,middlewareData:s}=r,{offset:c=0,mainAxis:f=!0,crossAxis:u=!0}=e,m={x:i,y:o},g=n(a),d=O(g);let p=m[g],h=m[d];const y=\"function\"==typeof c?c({...l,placement:a}):c,x=\"number\"==typeof y?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(f){const t=\"y\"===g?\"height\":\"width\",e=l.reference[g]-l.floating[t]+x.mainAxis,n=l.reference[g]+l.reference[t]-x.mainAxis;p<e?p=e:p>n&&(p=n)}if(u){var w,v,b,R;const e=\"y\"===g?\"width\":\"height\",n=[\"top\",\"left\"].includes(t(a)),r=l.reference[d]-l.floating[e]+(n&&null!=(w=null==(v=s.offset)?void 0:v[d])?w:0)+(n?0:x.crossAxis),i=l.reference[d]+l.reference[e]+(n?0:null!=(b=null==(R=s.offset)?void 0:R[d])?b:0)-(n?x.crossAxis:0);h<r?h=r:h>i&&(h=i)}return{[g]:p,[d]:h}}}},k=function(n){return void 0===n&&(n={}),{name:\"size\",options:n,async fn(r){const{placement:i,rects:o,platform:a,elements:l}=r,{apply:c,...u}=n,m=await s(r,u),g=t(i),d=e(i);let p,h;\"top\"===g||\"bottom\"===g?(p=g,h=d===(await(null==a.isRTL?void 0:a.isRTL(l.floating))?\"start\":\"end\")?\"left\":\"right\"):(h=g,p=\"end\"===d?\"top\":\"bottom\");const y=f(m.left,0),x=f(m.right,0),w=f(m.top,0),v=f(m.bottom,0),b={availableHeight:o.floating.height-([\"left\",\"right\"].includes(i)?2*(0!==w||0!==v?w+v:f(m.top,m.bottom)):m[p]),availableWidth:o.floating.width-([\"top\",\"bottom\"].includes(i)?2*(0!==y||0!==x?y+x:f(m.left,m.right)):m[h])},R=await a.getDimensions(l.floating);null==c||c({...r,...b});const A=await a.getDimensions(l.floating);return R.width!==A.width||R.height!==A.height?{reset:{rects:!0}}:{}}}},E=function(e){return void 0===e&&(e={}),{name:\"inline\",options:e,async fn(r){var i;const{placement:o,elements:s,rects:u,platform:m,strategy:g}=r,{padding:d=2,x:p,y:h}=e,y=l(m.convertOffsetParentRelativeRectToViewportRelativeRect?await m.convertOffsetParentRelativeRectToViewportRelativeRect({rect:u.reference,offsetParent:await(null==m.getOffsetParent?void 0:m.getOffsetParent(s.floating)),strategy:g}):u.reference),x=null!=(i=await(null==m.getClientRects?void 0:m.getClientRects(s.reference)))?i:[],w=a(d);const v=await m.getElementRects({reference:{getBoundingClientRect:function(){var e;if(2===x.length&&x[0].left>x[1].right&&null!=p&&null!=h)return null!=(e=x.find((t=>p>t.left-w.left&&p<t.right+w.right&&h>t.top-w.top&&h<t.bottom+w.bottom)))?e:y;if(x.length>=2){if(\"x\"===n(o)){const e=x[0],n=x[x.length-1],r=\"top\"===t(o),i=e.top,a=n.bottom,l=r?e.left:n.left,s=r?e.right:n.right;return{top:i,bottom:a,left:l,right:s,width:s-l,height:a-i,x:l,y:i}}const e=\"left\"===t(o),r=f(...x.map((t=>t.right))),i=c(...x.map((t=>t.left))),a=x.filter((t=>e?t.left===i:t.right===r)),l=a[0].top,s=a[a.length-1].bottom;return{top:l,bottom:s,left:i,right:r,width:r-i,height:s-l,x:i,y:l}}return y}},floating:s.floating,strategy:g});return u.reference.x!==v.reference.x||u.reference.y!==v.reference.y||u.reference.width!==v.reference.width||u.reference.height!==v.reference.height?{reset:{rects:v}}:{}}}};export{m as arrow,v as autoPlacement,o as computePosition,s as detectOverflow,b as flip,P as hide,E as inline,L as limitShift,T as offset,l as rectToClientRect,D as shift,k as size};\n","import{rectToClientRect as t,computePosition as e}from\"@floating-ui/core\";export{arrow,autoPlacement,detectOverflow,flip,hide,inline,limitShift,offset,shift,size}from\"@floating-ui/core\";function n(t){return t&&t.document&&t.location&&t.alert&&t.setInterval}function o(t){if(null==t)return window;if(!n(t)){const e=t.ownerDocument;return e&&e.defaultView||window}return t}function i(t){return o(t).getComputedStyle(t)}function r(t){return n(t)?\"\":t?(t.nodeName||\"\").toLowerCase():\"\"}function l(){const t=navigator.userAgentData;return null!=t&&t.brands?t.brands.map((t=>t.brand+\"/\"+t.version)).join(\" \"):navigator.userAgent}function c(t){return t instanceof o(t).HTMLElement}function f(t){return t instanceof o(t).Element}function s(t){if(\"undefined\"==typeof ShadowRoot)return!1;return t instanceof o(t).ShadowRoot||t instanceof ShadowRoot}function u(t){const{overflow:e,overflowX:n,overflowY:o}=i(t);return/auto|scroll|overlay|hidden/.test(e+o+n)}function d(t){return[\"table\",\"td\",\"th\"].includes(r(t))}function h(t){const e=/firefox/i.test(l()),n=i(t);return\"none\"!==n.transform||\"none\"!==n.perspective||\"paint\"===n.contain||[\"transform\",\"perspective\"].includes(n.willChange)||e&&\"filter\"===n.willChange||e&&!!n.filter&&\"none\"!==n.filter}function a(){return!/^((?!chrome|android).)*safari/i.test(l())}const g=Math.min,p=Math.max,m=Math.round;function w(t,e,n){var i,r,l,s;void 0===e&&(e=!1),void 0===n&&(n=!1);const u=t.getBoundingClientRect();let d=1,h=1;e&&c(t)&&(d=t.offsetWidth>0&&m(u.width)/t.offsetWidth||1,h=t.offsetHeight>0&&m(u.height)/t.offsetHeight||1);const g=f(t)?o(t):window,p=!a()&&n,w=(u.left+(p&&null!=(i=null==(r=g.visualViewport)?void 0:r.offsetLeft)?i:0))/d,v=(u.top+(p&&null!=(l=null==(s=g.visualViewport)?void 0:s.offsetTop)?l:0))/h,y=u.width/d,x=u.height/h;return{width:y,height:x,top:v,right:w+y,bottom:v+x,left:w,x:w,y:v}}function v(t){return(e=t,(e instanceof o(e).Node?t.ownerDocument:t.document)||window.document).documentElement;var e}function y(t){return f(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function x(t){return w(v(t)).left+y(t).scrollLeft}function b(t,e,n){const o=c(e),i=v(e),l=w(t,o&&function(t){const e=w(t);return m(e.width)!==t.offsetWidth||m(e.height)!==t.offsetHeight}(e),\"fixed\"===n);let f={scrollLeft:0,scrollTop:0};const s={x:0,y:0};if(o||!o&&\"fixed\"!==n)if((\"body\"!==r(e)||u(i))&&(f=y(e)),c(e)){const t=w(e,!0);s.x=t.x+e.clientLeft,s.y=t.y+e.clientTop}else i&&(s.x=x(i));return{x:l.left+f.scrollLeft-s.x,y:l.top+f.scrollTop-s.y,width:l.width,height:l.height}}function L(t){return\"html\"===r(t)?t:t.assignedSlot||t.parentNode||(s(t)?t.host:null)||v(t)}function R(t){return c(t)&&\"fixed\"!==getComputedStyle(t).position?t.offsetParent:null}function T(t){const e=o(t);let n=R(t);for(;n&&d(n)&&\"static\"===getComputedStyle(n).position;)n=R(n);return n&&(\"html\"===r(n)||\"body\"===r(n)&&\"static\"===getComputedStyle(n).position&&!h(n))?e:n||function(t){let e=L(t);for(s(e)&&(e=e.host);c(e)&&![\"html\",\"body\"].includes(r(e));){if(h(e))return e;e=e.parentNode}return null}(t)||e}function W(t){if(c(t))return{width:t.offsetWidth,height:t.offsetHeight};const e=w(t);return{width:e.width,height:e.height}}function E(t){const e=L(t);return[\"html\",\"body\",\"#document\"].includes(r(e))?t.ownerDocument.body:c(e)&&u(e)?e:E(e)}function H(t,e){var n;void 0===e&&(e=[]);const i=E(t),r=i===(null==(n=t.ownerDocument)?void 0:n.body),l=o(i),c=r?[l].concat(l.visualViewport||[],u(i)?i:[]):i,f=e.concat(c);return r?f:f.concat(H(c))}function C(e,n,r){return\"viewport\"===n?t(function(t,e){const n=o(t),i=v(t),r=n.visualViewport;let l=i.clientWidth,c=i.clientHeight,f=0,s=0;if(r){l=r.width,c=r.height;const t=a();(t||!t&&\"fixed\"===e)&&(f=r.offsetLeft,s=r.offsetTop)}return{width:l,height:c,x:f,y:s}}(e,r)):f(n)?function(t,e){const n=w(t,!1,\"fixed\"===e),o=n.top+t.clientTop,i=n.left+t.clientLeft;return{top:o,left:i,x:i,y:o,right:i+t.clientWidth,bottom:o+t.clientHeight,width:t.clientWidth,height:t.clientHeight}}(n,r):t(function(t){var e;const n=v(t),o=y(t),r=null==(e=t.ownerDocument)?void 0:e.body,l=p(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),c=p(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0);let f=-o.scrollLeft+x(t);const s=-o.scrollTop;return\"rtl\"===i(r||n).direction&&(f+=p(n.clientWidth,r?r.clientWidth:0)-l),{width:l,height:c,x:f,y:s}}(v(e)))}function S(t){const e=H(t),n=[\"absolute\",\"fixed\"].includes(i(t).position)&&c(t)?T(t):t;return f(n)?e.filter((t=>f(t)&&function(t,e){const n=null==e.getRootNode?void 0:e.getRootNode();if(t.contains(e))return!0;if(n&&s(n)){let n=e;do{if(n&&t===n)return!0;n=n.parentNode||n.host}while(n)}return!1}(t,n)&&\"body\"!==r(t))):[]}const D={getClippingRect:function(t){let{element:e,boundary:n,rootBoundary:o,strategy:i}=t;const r=[...\"clippingAncestors\"===n?S(e):[].concat(n),o],l=r[0],c=r.reduce(((t,n)=>{const o=C(e,n,i);return t.top=p(o.top,t.top),t.right=g(o.right,t.right),t.bottom=g(o.bottom,t.bottom),t.left=p(o.left,t.left),t}),C(e,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{rect:e,offsetParent:n,strategy:o}=t;const i=c(n),l=v(n);if(n===l)return e;let f={scrollLeft:0,scrollTop:0};const s={x:0,y:0};if((i||!i&&\"fixed\"!==o)&&((\"body\"!==r(n)||u(l))&&(f=y(n)),c(n))){const t=w(n,!0);s.x=t.x+n.clientLeft,s.y=t.y+n.clientTop}return{...e,x:e.x-f.scrollLeft+s.x,y:e.y-f.scrollTop+s.y}},isElement:f,getDimensions:W,getOffsetParent:T,getDocumentElement:v,getElementRects:t=>{let{reference:e,floating:n,strategy:o}=t;return{reference:b(e,T(n),o),floating:{...W(n),x:0,y:0}}},getClientRects:t=>Array.from(t.getClientRects()),isRTL:t=>\"rtl\"===i(t).direction};function N(t,e,n,o){void 0===o&&(o={});const{ancestorScroll:i=!0,ancestorResize:r=!0,elementResize:l=!0,animationFrame:c=!1}=o,s=i&&!c,u=r&&!c,d=s||u?[...f(t)?H(t):[],...H(e)]:[];d.forEach((t=>{s&&t.addEventListener(\"scroll\",n,{passive:!0}),u&&t.addEventListener(\"resize\",n)}));let h,a=null;l&&(a=new ResizeObserver(n),f(t)&&!c&&a.observe(t),a.observe(e));let g=c?w(t):null;return c&&function e(){const o=w(t);!g||o.x===g.x&&o.y===g.y&&o.width===g.width&&o.height===g.height||n();g=o,h=requestAnimationFrame(e)}(),l||n(),()=>{var t;d.forEach((t=>{s&&t.removeEventListener(\"scroll\",n),u&&t.removeEventListener(\"resize\",n)})),null==(t=a)||t.disconnect(),a=null,c&&cancelAnimationFrame(h)}}const z=(t,n,o)=>e(t,n,{platform:D,...o});export{N as autoUpdate,z as computePosition,H as getOverflowAncestors};\n","\"use strict\";var R=Object.defineProperty;var A=Object.getOwnPropertyDescriptor;var p=(s,a,t,e)=>{for(var i=e>1?void 0:e?A(a,t):a,o=s.length-1,n;o>=0;o--)(n=s[o])&&(i=(e?n(a,t,i):n(i))||i);return e&&i&&R(a,t,i),i};import{html as b,SpectrumElement as x}from\"@spectrum-web-components/base\";import{ifDefined as h}from\"@spectrum-web-components/base/src/directives.js\";import{property as c}from\"@spectrum-web-components/base/src/decorators.js\";import{reparentChildren as S}from\"@spectrum-web-components/shared/src/reparent-children.js\";import{firstFocusableIn as H}from\"@spectrum-web-components/shared/src/first-focusable-in.js\";import L from\"./active-overlay.css.js\";import{parentOverlayOf as y}from\"./overlay-utils.js\";import{arrow as F,computePosition as I,flip as C,offset as M,shift as k,size as D}from\"@floating-ui/dom\";const P={initial:\"idle\",states:{idle:{on:{active:\"active\"}},active:{on:{hiding:\"hiding\",idle:\"idle\"}},hiding:{on:{dispose:\"dispose\"}},dispose:{on:{disposed:\"disposed\"}},disposed:{on:{}}}},T=(s,a)=>s?a&&P.states[s].on[a]||s:P.initial,_=s=>{var t;return(t={left:[\"right\",\"bottom\",\"top\"],\"left-start\":[\"right-start\",\"bottom\",\"top\"],\"left-end\":[\"right-end\",\"bottom\",\"top\"],right:[\"left\",\"bottom\",\"top\"],\"right-start\":[\"left-start\",\"bottom\",\"top\"],\"right-end\":[\"left-end\",\"bottom\",\"top\"],top:[\"bottom\",\"left\",\"right\"],\"top-start\":[\"bottom-start\",\"left\",\"right\"],\"top-end\":[\"bottom-end\",\"left\",\"right\"],bottom:[\"top\",\"left\",\"right\"],\"bottom-start\":[\"top-start\",\"left\",\"right\"],\"bottom-end\":[\"top-end\",\"left\",\"right\"]}[s])!=null?t:[s]},u=class extends x{constructor(){super();this._state=T();this.animating=!1;this.theme={};this.tabbingAway=!1;this.offset=6;this.skidding=0;this.interaction=\"hover\";this.positionAnimationFrame=0;this.willNotifyClosed=!1;this.isConstrained=!1;this.updateOverlayPosition=async()=>{if(!this.placement||this.placement===\"none\")return;await(document.fonts?document.fonts.ready:Promise.resolve());function t(l){const r=window.devicePixelRatio||1;return Math.round(l*r)/r||-1e4}const e=8,i=100,o=this.virtualTrigger?C({padding:e,fallbackPlacements:_(this.placement)}):C({padding:e}),n=[M({mainAxis:this.offset,crossAxis:this.skidding}),k({padding:e}),o,D({padding:e,apply:({availableWidth:l,availableHeight:r,rects:{floating:O}})=>{const f=Math.max(i,Math.floor(r)),m=O.height;this.initialHeight=!this.isConstrained&&!this.virtualTrigger?m:this.initialHeight||m,this.isConstrained=m<this.initialHeight||f<=m;const g=this.isConstrained?`${f}px`:\"\";Object.assign(this.style,{maxWidth:`${Math.floor(l)}px`,maxHeight:g,height:g})}})];this.overlayContentTip&&n.push(F({element:this.overlayContentTip}));const{x:w,y:E,placement:d,middlewareData:v}=await I(this.virtualTrigger||this.trigger,this,{placement:this.placement,middleware:n});if(Object.assign(this.style,{top:\"0px\",left:\"0px\",transform:`translate(${t(w)}px, ${t(E)}px)`}),d!==this.getAttribute(\"actual-placement\")&&(this.setAttribute(\"actual-placement\",d),this.overlayContent.setAttribute(\"placement\",d)),this.overlayContentTip&&v.arrow){const{x:l,y:r}=v.arrow;Object.assign(this.overlayContentTip.style,{left:l!=null?`${t(l)}px`:\"\",top:r!=null?`${t(r)}px`:\"\",right:\"\",bottom:\"\"})}};this.handleInlineTriggerKeydown=t=>{const{code:e,shiftKey:i}=t;if(e===\"Tab\"){if(i){this.tabbingAway=!0,this.dispatchEvent(new Event(\"close\"));return}t.stopPropagation(),t.preventDefault(),this.focus()}};this.stealOverlayContentPromise=Promise.resolve();this.stealOverlayContentPromise=new Promise(t=>this.stealOverlayContentResolver=t)}get state(){return this._state}set state(t){const e=T(this.state,t);e!==this.state&&(this._state=e,this.state===\"active\"||this.state===\"hiding\"?this.setAttribute(\"state\",this.state):this.removeAttribute(\"state\"))}async focus(){const t=H(this);if(t){t.updateComplete&&await t.updateComplete;const e=this.getRootNode().activeElement;(e===this||!this.contains(e))&&t.focus()}else super.focus();this.removeAttribute(\"tabindex\")}get hasTheme(){return!!this.theme.color||!!this.theme.scale||!!this.theme.lang}static get styles(){return[L]}get hasModalRoot(){return!!this._modalRoot}feature(){this.contains(document.activeElement)||(this.tabIndex=-1);const t=y(this.trigger);t&&t.slot===\"open\"&&(this._modalRoot=t._modalRoot||t),(this.interaction===\"modal\"||this._modalRoot)&&(this.slot=\"open\",this.interaction===\"modal\"&&this.setAttribute(\"aria-modal\",\"true\"),this._modalRoot&&(t==null||t.feature()))}obscure(t){if(this.slot&&t===\"modal\"){if(this.removeAttribute(\"slot\"),this.removeAttribute(\"aria-modal\"),this.interaction!==\"modal\"){const e=y(this.trigger);return this._modalRoot=e==null?void 0:e.obscure(t),this._modalRoot}return this}}async willUpdate(){if(this.hasUpdated||!this.overlayContent||!this.trigger)return;this.stealOverlayContent(this.overlayContent),this.state=\"active\",this.feature(),this.placement===\"none\"?this.style.setProperty(\"--swc-visual-viewport-height\",`${window.innerHeight}px`):this.placement&&(await this.updateOverlayPosition(),document.addEventListener(\"sp-update-overlays\",this.updateOverlayPosition),window.addEventListener(\"scroll\",this.updateOverlayPosition));const t=[];this.placement&&this.placement!==\"none\"&&t.push(this.applyContentAnimation(\"sp-overlay-fade-in\")),typeof this.overlayContent.updateComplete!=\"undefined\"&&t.push(this.overlayContent.updateComplete),this.childrenReady=Promise.all(t)}async openCallback(t){await this.updateComplete,this.receivesFocus&&await this.focus(),await t(),this.trigger.dispatchEvent(new CustomEvent(\"sp-opened\",{bubbles:!0,composed:!0,cancelable:!0,detail:{interaction:this.interaction}}))}open(t){this.extractDetail(t)}extractDetail(t){this.overlayContent=t.content,this.overlayContentTip=t.contentTip,this.trigger=t.trigger,this.virtualTrigger=t.virtualTrigger,this.placement=t.placement,this.offset=t.offset,this.skidding=t.skidding||0,this.interaction=t.interaction,this.theme=t.theme,this.receivesFocus=t.receivesFocus,this.root=t.root}dispose(){this.state===\"dispose\"&&(this.timeout&&(clearTimeout(this.timeout),delete this.timeout),this.trigger.removeEventListener(\"keydown\",this.handleInlineTriggerKeydown),this.returnOverlayContent(),this.state=\"disposed\",this.willNotifyClosed&&(this.overlayContent.dispatchEvent(new Event(\"sp-overlay-closed\")),this.willNotifyClosed=!1))}stealOverlayContent(t){this.originalPlacement=t.getAttribute(\"placement\"),this.restoreContent=S([t],this,{position:\"beforeend\",prepareCallback:e=>{const i=e.slot,o=e.placement;return e.removeAttribute(\"slot\"),n=>{n.slot=i,n.placement=o}}}),this.stealOverlayContentResolver()}returnOverlayContent(){if(!this.restoreContent)return;const[t]=this.restoreContent();this.restoreContent=void 0,this.willNotifyClosed=!0,this.originalPlacement&&(t.setAttribute(\"placement\",this.originalPlacement),delete this.originalPlacement)}async hide(t=!0){this.state=\"hiding\",t&&await this.applyContentAnimation(\"sp-overlay-fade-out\"),this.state=\"dispose\"}schedulePositionUpdate(){cancelAnimationFrame(this.positionAnimationFrame),this.positionAnimationFrame=requestAnimationFrame(()=>this.updateOverlayPosition())}onSlotChange(){this.schedulePositionUpdate()}applyContentAnimation(t){return this.placement===\"none\"?Promise.resolve(!0):new Promise(e=>{const i=this.shadowRoot.querySelector(\"#contents\"),o=n=>{t===n.animationName&&(i.removeEventListener(\"animationend\",o),i.removeEventListener(\"animationcancel\",o),this.animating=!1,e(n.type===\"animationcancel\"))};i.addEventListener(\"animationend\",o),i.addEventListener(\"animationcancel\",o),i.style.animationName=t,this.animating=!0})}renderTheme(t){const{color:e,scale:i,lang:o,theme:n}=this.theme;return b`\n            <sp-theme\n                theme=${h(n)}\n                color=${h(e)}\n                scale=${h(i)}\n                lang=${h(o)}\n                part=\"theme\"\n            >\n                ${t}\n            </sp-theme>\n        `}render(){const t=b`\n            <div id=\"contents\">\n                <slot @slotchange=${this.onSlotChange}></slot>\n            </div>\n        `;return this.hasTheme?this.renderTheme(t):t}static create(t){const e=new u;return t.content&&e.open(t),e}async getUpdateComplete(){const t=[super.getUpdateComplete(),this.stealOverlayContentPromise];this.childrenReady&&t.push(this.childrenReady);const[e]=await Promise.all(t);return e}disconnectedCallback(){document.removeEventListener(\"sp-update-overlays\",this.updateOverlayPosition),window.removeEventListener(\"scroll\",this.updateOverlayPosition),super.disconnectedCallback()}};export let ActiveOverlay=u;p([c()],ActiveOverlay.prototype,\"_state\",2),p([c({reflect:!0,type:Boolean})],ActiveOverlay.prototype,\"animating\",2),p([c({reflect:!0})],ActiveOverlay.prototype,\"placement\",2),p([c({attribute:!1})],ActiveOverlay.prototype,\"theme\",2),p([c({attribute:!1})],ActiveOverlay.prototype,\"receivesFocus\",2);\n//# sourceMappingURL=ActiveOverlay.js.map\n","\"use strict\";const t=1e3,s=1e3;export class OverlayTimer{constructor(e={}){this.warmUpDelay=1e3;this.coolDownDelay=1e3;this.isWarm=!1;this.timeout=0;Object.assign(this,e)}async openTimer(e){if(this.cancelCooldownTimer(),!this.component||e!==this.component)return this.component&&(this.close(this.component),this.cancelCooldownTimer()),this.component=e,this.isWarm?!1:(this.promise=new Promise(o=>{this.resolve=o,this.timeout=window.setTimeout(()=>{this.resolve&&(this.resolve(!1),this.isWarm=!0)},this.warmUpDelay)}),this.promise);if(this.promise)return this.promise;throw new Error(\"Inconsistent state\")}close(e){this.component&&this.component===e&&(this.resetCooldownTimer(),this.timeout>0&&(clearTimeout(this.timeout),this.timeout=0),this.resolve&&(this.resolve(!0),delete this.resolve),delete this.promise,delete this.component)}resetCooldownTimer(){this.isWarm&&(this.cooldownTimeout&&window.clearTimeout(this.cooldownTimeout),this.cooldownTimeout=window.setTimeout(()=>{this.isWarm=!1,delete this.cooldownTimeout},this.coolDownDelay))}cancelCooldownTimer(){this.cooldownTimeout&&window.clearTimeout(this.cooldownTimeout),delete this.cooldownTimeout}}\n//# sourceMappingURL=overlay-timer.js.map\n","\"use strict\";import{ActiveOverlay as e}from\"./src/ActiveOverlay.js\";customElements.define(\"active-overlay\",e);\n//# sourceMappingURL=active-overlay.js.map\n","\"use strict\";import{OverlayStack as m}from\"./overlay-stack.js\";const r=class{constructor(e,t,n){this.isOpen=!1;this.owner=e,this.overlayElement=n,this.interaction=t}static async open(e,t,n,i){const a=new r(e,t,n);return await a.open(i),()=>{a.close()}}static update(){const e=new CustomEvent(\"sp-update-overlays\",{bubbles:!0,composed:!0,cancelable:!0});document.dispatchEvent(e)}async open({abortPromise:e,delayed:t,offset:n=0,placement:i=\"top\",receivesFocus:a,notImmediatelyClosable:s,virtualTrigger:c,root:p}){if(this.isOpen)return!0;t===void 0&&(t=this.overlayElement.hasAttribute(\"delayed\"));const l={color:void 0,scale:void 0,lang:void 0,theme:void 0},u=new CustomEvent(\"sp-query-theme\",{bubbles:!0,composed:!0,detail:l,cancelable:!0});this.owner.dispatchEvent(u);const o={},v=new CustomEvent(\"sp-overlay-query\",{bubbles:!0,composed:!0,detail:o,cancelable:!0});return this.overlayElement.dispatchEvent(v),await r.overlayStack.openOverlay({abortPromise:e,content:this.overlayElement,contentTip:o.overlayContentTipElement,delayed:t,offset:n,placement:i,trigger:this.owner,interaction:this.interaction,theme:l,receivesFocus:a,root:p,notImmediatelyClosable:s,virtualTrigger:c,...o}),this.isOpen=!0,!0}close(){r.overlayStack.closeOverlay(this.overlayElement)}};export let Overlay=r;Overlay.overlayStack=new m;\n//# sourceMappingURL=overlay.js.map\n","\"use strict\";import{ActiveOverlay as m}from\"./ActiveOverlay.js\";import{OverlayTimer as f}from\"./overlay-timer.js\";import\"../active-overlay.js\";import{findOverlaysRootedInOverlay as c,parentOverlayOf as p}from\"./overlay-utils.js\";import{getDeepElementFromPoint as g}from\"@spectrum-web-components/shared/src/get-deep-element-from-point.js\";function b(a){return a.button===0}function C(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}export class OverlayStack{constructor(){this.overlays=[];this.preventMouseRootClose=!1;this.root=document.body;this.handlingResize=!1;this.overlayTimer=new f;this.canTabTrap=!0;this.trappingInited=!1;this._eventsAreBound=!1;this._bodyMarginsApplied=!1;this.forwardContextmenuEvent=async e=>{var o;const t=this.overlays[this.overlays.length-1];!this.trappingInited||t.interaction!==\"modal\"||e.target!==this.overlayHolder||(e.stopPropagation(),e.preventDefault(),await this.closeTopOverlay(),(o=g(e.clientX,e.clientY))==null||o.dispatchEvent(new MouseEvent(\"contextmenu\",e)))};this.handleOverlayClose=e=>{const{root:t}=e;!t||this.closeOverlaysForRoot(t)};this.handleMouseCapture=e=>{const t=this.topOverlay;if(!e.target||!t||!t.overlayContent||C(e)||!b(e)){this.preventMouseRootClose=!0;return}if(e.target instanceof Node){if(e.composedPath().indexOf(t.overlayContent)>=0){this.preventMouseRootClose=!0;return}this.preventMouseRootClose=!1}};this._doesNotCloseOnFirstClick=!1;this.handleMouse=e=>{var n;if(this._doesNotCloseOnFirstClick){this._doesNotCloseOnFirstClick=!1;return}if(this.preventMouseRootClose||e.defaultPrevented)return;this.closeTopOverlay();const t=[];let o=(n=this.topOverlay)==null?void 0:n.root,r=p(o);for(;o&&r;)t.push(r),r=p(o),o=r==null?void 0:r.root;r&&t.push(r),t.forEach(i=>this.hideAndCloseOverlay(i))};this.handleKeydown=e=>{e.code===\"Escape\"&&this.closeTopOverlay()};this.handleResize=()=>{this.handlingResize||(this.handlingResize=!0,requestAnimationFrame(async()=>{const e=this.overlays.map(t=>t.updateOverlayPosition());await Promise.all(e),this.handlingResize=!1}))}}initTabTrapping(){if(this.trappingInited)return;if(this.trappingInited=!0,this.document.body.shadowRoot){this.canTabTrap=!1;return}if(this.document.body.attachShadow({mode:\"open\"}),!this.document.body.shadowRoot)return;const e=this.document.body.shadowRoot;e.innerHTML=`\n            <style>\n            :host {\n                position: relative;\n            }\n            #actual {\n                position: relative;\n                height: calc(100% - var(--swc-body-margins-block, 0px));\n                z-index: 0;\n                min-height: calc(100vh - var(--swc-body-margins-block, 0px));\n            }\n            #holder {\n                display: none;\n                align-items: center;\n                justify-content: center;\n                flex-flow: column;\n                width: 100%;\n                height: 100%;\n                position: absolute;\n                top: 0;\n                left: 0;\n            }\n            [name=\"open\"]::slotted(*) {\n                pointer-events: all;\n            }\n            #actual[aria-hidden] + #holder {\n                display: flex;\n            }\n            </style>\n            <div id=\"actual\"><slot></slot></div>\n            <div id=\"holder\"><slot name=\"open\"></slot></div>\n        `,this.tabTrapper=e.querySelector(\"#actual\"),this.overlayHolder=e.querySelector(\"#holder\"),this.tabTrapper.attachShadow({mode:\"open\"}),this.tabTrapper.shadowRoot&&(this.tabTrapper.shadowRoot.innerHTML=\"<slot></slot>\"),this.overlayHolder.addEventListener(\"contextmenu\",this.forwardContextmenuEvent,!0),requestAnimationFrame(()=>{this.applyBodyMargins(),new ResizeObserver(()=>{this.applyBodyMargins()}).observe(document.body)})}applyBodyMargins(){const{marginLeft:e,marginRight:t,marginTop:o,marginBottom:r}=getComputedStyle(document.body),n=parseFloat(e)===0&&parseFloat(t)===0&&parseFloat(o)===0&&parseFloat(r)===0;n&&!this._bodyMarginsApplied||(this.tabTrapper.style.setProperty(\"--swc-body-margins-inline\",`calc(${e} + ${t})`),this.tabTrapper.style.setProperty(\"--swc-body-margins-block\",`calc(${o} + ${r})`),this._bodyMarginsApplied=!n)}startTabTrapping(){this.initTabTrapping(),this.canTabTrap&&(this.tabTrapper.tabIndex=-1,this.tabTrapper.setAttribute(\"aria-hidden\",\"true\"))}stopTabTrapping(){!this.canTabTrap||!this.trappingInited||(this.tabTrapper.removeAttribute(\"tabindex\"),this.tabTrapper.removeAttribute(\"aria-hidden\"))}get document(){return this.root.ownerDocument||document}get topOverlay(){return this.overlays.slice(-1)[0]}findOverlayForContent(e){for(const t of this.overlays)if(e===t.overlayContent)return t}addEventListeners(){this._eventsAreBound||(this._eventsAreBound=!0,this.document.addEventListener(\"click\",this.handleMouseCapture,!0),this.document.addEventListener(\"click\",this.handleMouse),this.document.addEventListener(\"keydown\",this.handleKeydown),this.document.addEventListener(\"sp-overlay-close\",this.handleOverlayClose),window.addEventListener(\"resize\",this.handleResize))}isClickOverlayActiveForTrigger(e){return this.overlays.some(t=>e===t.trigger&&t.interaction===\"click\")}async openOverlay(e){if(this.addEventListeners(),this.findOverlayForContent(e.content))return!1;e.notImmediatelyClosable&&(this._doesNotCloseOnFirstClick=!0),e.interaction===\"modal\"&&this.startTabTrapping();const t=e.content;if(t.overlayWillOpenCallback){const{trigger:r}=e;t.overlayWillOpenCallback({trigger:r})}if(e.delayed){const n=[this.overlayTimer.openTimer(e.content)];e.abortPromise&&n.push(e.abortPromise);const i=await Promise.race(n);if(i){if(t.overlayOpenCancelledCallback){const{trigger:d}=e;t.overlayOpenCancelledCallback({trigger:d})}return i}}if(e.root&&this.closeOverlaysForRoot(e.root),e.interaction===\"click\")this.closeAllHoverOverlays();else if(e.interaction===\"hover\"&&this.isClickOverlayActiveForTrigger(e.trigger))return!0;const o=m.create(e);return this.overlays.length&&this.overlays[this.overlays.length-1].obscure(o.interaction),document.body.appendChild(o),new Promise(r=>requestAnimationFrame(r)).then(async()=>{this.overlays.push(o),await o.updateComplete,this.addOverlayEventListeners(o),typeof t.open!=\"undefined\"&&(t.open=!0);let r=()=>{};if(t.overlayOpenCallback){const{trigger:n}=o,{overlayOpenCallback:i}=t;r=async()=>await i({trigger:n})}return await o.openCallback(r),!1})}addOverlayEventListeners(e){switch(e.addEventListener(\"close\",()=>{this.hideAndCloseOverlay(e,!0)}),e.interaction){case\"replace\":this.addReplaceOverlayEventListeners(e);break;case\"inline\":this.addInlineOverlayEventListeners(e);break}}addReplaceOverlayEventListeners(e){e.addEventListener(\"keydown\",t=>{const{code:o}=t;o===\"Tab\"&&(t.stopPropagation(),this.closeOverlay(e.overlayContent),e.tabbingAway=!0,e.trigger.focus(),e.trigger.dispatchEvent(new KeyboardEvent(\"keydown\",t)))})}addInlineOverlayEventListeners(e){e.trigger.addEventListener(\"keydown\",e.handleInlineTriggerKeydown),e.addEventListener(\"keydown\",t=>{const{code:o,shiftKey:r}=t;if(o!==\"Tab\")return;if(e.tabbingAway=!0,r){const i=document.createElement(\"span\");i.tabIndex=-1,e.trigger.hasAttribute(\"slot\")&&(i.slot=e.trigger.slot),e.trigger.insertAdjacentElement(\"afterend\",i),i.focus(),i.remove();return}t.stopPropagation();const n=e.trigger;typeof n.open!=\"undefined\"&&(n.open=!1),this.closeOverlay(e.overlayContent),e.trigger.focus()})}closeOverlay(e){this.overlayTimer.close(e),requestAnimationFrame(()=>{const t=this.findOverlayForContent(e),o=[t];o.push(...c(t,this.overlays)),o.forEach(r=>this.hideAndCloseOverlay(r))})}closeAllHoverOverlays(){for(const e of this.overlays)e.interaction===\"hover\"&&this.hideAndCloseOverlay(e,!1)}closeOverlaysForRoot(e){const t=[];for(const o of this.overlays)o.root&&o.root===e&&(t.push(o),t.push(...c(o,this.overlays)));t.forEach(o=>this.hideAndCloseOverlay(o,!0,!0))}async manageFocusAfterCloseWhenOverlaysRemain(e,t){const o=this.overlays[this.overlays.length-1];if(o.feature(),o.interaction===\"modal\"||o.hasModalRoot){if(e)return;await(t||o).focus()}else this.stopTabTrapping()}manageFocusAfterCloseWhenLastOverlay(e){this.stopTabTrapping();const t=e.interaction===\"modal\",o=e.receivesFocus===\"auto\",r=e.interaction===\"replace\",n=e.interaction===\"inline\",i=(r||n)&&!e.tabbingAway;if(e.tabbingAway=!1,!t&&!o&&!i)return;const v=e.overlayContent.getRootNode().activeElement;let s,l;const h=()=>e.overlayContent.contains(v),u=()=>(s=e.trigger.getRootNode(),l=s.activeElement,s.contains(l)),y=()=>s.host&&s.host===l;(t||h()||u()||y())&&e.trigger.focus()}async hideAndCloseOverlay(e,t,o){if(!e)return;const r=e.overlayContent;if(typeof r.overlayWillCloseCallback!=\"undefined\"){const{trigger:i}=e;if(r.overlayWillCloseCallback({trigger:i}))return}if(await e.hide(t),typeof r.open!=\"undefined\"&&(r.open=!1),r.overlayCloseCallback){const{trigger:i}=e;await r.overlayCloseCallback({trigger:i})}if(e.state!=\"dispose\")return;const n=this.overlays.indexOf(e);n>=0&&this.overlays.splice(n,1),this.overlays.length?await this.manageFocusAfterCloseWhenOverlaysRemain(o||e.interaction===\"hover\",e.trigger):this.manageFocusAfterCloseWhenLastOverlay(e),e.remove(),e.dispose(),e.trigger.dispatchEvent(new CustomEvent(\"sp-closed\",{bubbles:!0,composed:!0,cancelable:!0,detail:{interaction:e.interaction}}))}closeTopOverlay(){return this.hideAndCloseOverlay(this.topOverlay,!0)}}\n//# sourceMappingURL=overlay-stack.js.map\n","\"use strict\";export const getDeepElementFromPoint=(o,t)=>{let e=document.elementFromPoint(o,t);for(;e!=null&&e.shadowRoot;){const n=e.shadowRoot.elementFromPoint(o,t);if(!n||n===e)break;e=n}return e};\n//# sourceMappingURL=get-deep-element-from-point.js.map\n"],"names":["css","parentOverlayOf","el","closest","closestOverlay","rootNode","getRootNode","host","findOverlaysRootedInOverlay","rootOverlay","activeOverlays","overlay","o","root","overlays","push","t","split","e","n","includes","r","i","a","reference","l","floating","s","c","x","width","f","y","height","u","m","g","d","p","top","right","bottom","left","async","platform","rects","elements","strategy","boundary","rootBoundary","elementContext","altBoundary","padding","h","getClippingRect","element","isElement","contextElement","getDocumentElement","w","convertOffsetParentRelativeRectToViewportRelativeRect","rect","offsetParent","getOffsetParent","Math","min","max","name","options","[object Object]","placement","getDimensions","v","b","R","A","P","T","clientHeight","clientWidth","O","D","L","k","E","C","data","centerOffset","replace","main","cross","start","end","reduce","concat","middlewareData","initialPlacement","mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","flipAlignment","flip","overflows","isRTL","every","index","reset","map","filter","sort","alignmentAxis","limiter","fn","apply","availableHeight","availableWidth","document","location","alert","setInterval","window","ownerDocument","defaultView","getComputedStyle","nodeName","toLowerCase","navigator","userAgentData","brands","brand","version","join","userAgent","HTMLElement","Element","ShadowRoot","overflow","overflowX","overflowY","test","transform","perspective","contain","willChange","round","getBoundingClientRect","offsetWidth","offsetHeight","visualViewport","offsetLeft","offsetTop","Node","documentElement","scrollLeft","scrollTop","pageXOffset","pageYOffset","clientLeft","clientTop","assignedSlot","parentNode","position","W","body","H","scrollWidth","scrollHeight","direction","S","contains","getElementRects","getClientRects","Array","from","z","middleware","length","initial","states","idle","on","active","hiding","dispose","disposed","stateTransition","state","event","stateMachine","getFallbackPlacements","_a","left-start","left-end","right-start","right-end","top-start","top-end","bottom-start","bottom-end","_ActiveOverlay","SpectrumElement","constructor","super","this","_state","animating","theme","tabbingAway","offset","skidding","interaction","positionAnimationFrame","willNotifyClosed","isConstrained","updateOverlayPosition","num","dpr","devicePixelRatio","fonts","ready","Promise","resolve","REQUIRED_DISTANCE_TO_EDGE","flipMiddleware","virtualTrigger","shift","size","maxHeight","floor","actualHeight","initialHeight","Object","assign","style","maxWidth","appliedHeight","overlayContentTip","arrow","I","trigger","roundByDPR","getAttribute","setAttribute","overlayContent","arrowX","arrowY","handleInlineTriggerKeydown","code","shiftKey","dispatchEvent","stopPropagation","preventDefault","focus","stealOverlayContentPromise","res","stealOverlayContentResolver","nextState","removeAttribute","firstFocusableIn","firstFocusable","updateComplete","activeElement","hasTheme","color","scale","lang","styles","hasModalRoot","_modalRoot","tabIndex","parentOverlay","slot","feature","nextOverlayInteraction","obscure","hasUpdated","stealOverlayContent","setProperty","innerHeight","addEventListener","actions","applyContentAnimation","childrenReady","all","lifecycleCallback","receivesFocus","CustomEvent","bubbles","composed","cancelable","detail","openDetail","extractDetail","content","contentTip","timeout","clearTimeout","removeEventListener","returnOverlayContent","Event","originalPlacement","restoreContent","reparentChildren","prepareCallback","slotName","animated","cancelAnimationFrame","requestAnimationFrame","schedulePositionUpdate","animation","shadowRoot","querySelector","doneHandler","animationName","contents","type","html","ifDefined","onSlotChange","renderTheme","details","open","getUpdateComplete","complete","disconnectedCallback","ActiveOverlay","__decorateClass","property","prototype","reflect","Boolean","attribute","OverlayTimer","warmUpDelay","coolDownDelay","isWarm","component","cancelCooldownTimer","close","promise","setTimeout","Error","resetCooldownTimer","cooldownTimeout","customElements","define","owner","overlayElement","isOpen","overlayUpdateEvent","abortPromise","delayed","notImmediatelyClosable","hasAttribute","queryThemeDetail","queryThemeEvent","overlayDetailQuery","queryOverlayDetailEvent","overlayStack","openOverlay","overlayContentTipElement","_Overlay","closeOverlay","Overlay","preventMouseRootClose","handlingResize","overlayTimer","canTabTrap","trappingInited","_eventsAreBound","_bodyMarginsApplied","forwardContextmenuEvent","topOverlay","target","overlayHolder","closeTopOverlay","elementFromPoint","innerTarget","clientX","clientY","MouseEvent","handleOverlayClose","closeOverlaysForRoot","handleMouseCapture","metaKey","altKey","ctrlKey","hasModifier","button","isLeftClick","composedPath","indexOf","_doesNotCloseOnFirstClick","handleMouse","defaultPrevented","overlaysToClose","forEach","hideAndCloseOverlay","handleKeydown","handleResize","promises","attachShadow","mode","innerHTML","tabTrapper","applyBodyMargins","ResizeObserver","observe","marginLeft","marginRight","marginTop","marginBottom","allZero","parseFloat","initTabTrapping","slice","item","some","addEventListeners","findOverlayForContent","startTabTrapping","contentWithLifecycle","overlayWillOpenCallback","openTimer","race","cancelled","overlayOpenCancelledCallback","closeAllHoverOverlays","isClickOverlayActiveForTrigger","create","activeOverlay","appendChild","then","addOverlayEventListeners","cb","overlayOpenCallback","openCallback","addReplaceOverlayEventListeners","addInlineOverlayEventListeners","returnFocusElement","createElement","insertAdjacentElement","remove","triggerWithLifecycle","overlayFromContent","returnBeforeFocus","previousTrigger","stopTabTrapping","isReceivesFocus","isReplace","isInline","isTabbingAwayFromInlineOrReplace","isModal","triggerActiveElement","overlayContentActiveElement","triggerRoot","overlayWillCloseCallback","hide","overlayCloseCallback","splice","manageFocusAfterCloseWhenOverlaysRemain","manageFocusAfterCloseWhenLastOverlay"],"mappings":"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"}