{"version":3,"file":"e13c5e3e.js","sources":["../../../packages/overlay/src/active-overlay.css.js","../../../packages/overlay/src/overlay-utils.js","../../../node_modules/@floating-ui/core/dist/floating-ui.core.browser.min.mjs","../../../node_modules/@floating-ui/dom/dist/floating-ui.dom.browser.min.mjs","../../../packages/overlay/src/ActiveOverlay.js","../../../packages/overlay/src/overlay-timer.js","../../../packages/overlay/active-overlay.js","../../../packages/overlay/src/overlay-stack.js","../../../packages/overlay/src/overlay.js","../../../tools/shared/src/get-deep-element-from-point.js"],"sourcesContent":["\"use strict\";import{css as t}from\"@spectrum-web-components/base\";const e=t`\n@keyframes sp-overlay-fade-in{0%{opacity:0;transform:var(--sp-overlay-from)}to{opacity:1;transform:translate(0)}}@keyframes sp-overlay-fade-out{0%{opacity:1;transform:translate(0)}to{opacity:0;transform:var(--sp-overlay-from)}}:host{display:inline-block;left:-9999em;max-height:100%;pointer-events:none;position:fixed;top:-9999em;z-index:1000}:host(:focus){outline:none}:host([placement=none]){height:100vh;height:100dvh;height:-webkit-fill-available;height:fill-available;left:0;position:fixed;top:0}#contents,sp-theme{height:100%}#contents{--swc-overlay-animation-distance:var(\n--spectrum-picker-m-texticon-popover-offset-y,var(--spectrum-global-dimension-size-75)\n);animation-duration:var(\n--swc-test-duration,var(--spectrum-global-animation-duration-200,.16s)\n);animation-timing-function:var(\n--spectrum-global-animation-ease-out,ease-out\n);box-sizing:border-box;display:inline-block;opacity:1;pointer-events:none;visibility:visible}:host([actual-placement*=top]) #contents{--sp-overlay-from:translateY(var(--spectrum-global-dimension-size-75));align-items:flex-end;display:inline-flex;padding-top:var(--swc-overlay-animation-distance)}:host([actual-placement*=right]) #contents{--sp-overlay-from:translateX(calc(var(--spectrum-global-dimension-size-75)*-1));padding-right:var(--swc-overlay-animation-distance)}:host([actual-placement*=bottom]) #contents{--sp-overlay-from:translateY(calc(var(--spectrum-global-dimension-size-75)*-1));padding-bottom:var(--swc-overlay-animation-distance)}:host([actual-placement*=left]) #contents{--sp-overlay-from:translateX(var(--spectrum-global-dimension-size-75));padding-left:var(--swc-overlay-animation-distance)}:host([animating]) ::slotted(*){pointer-events:none}:host(:not([animating])) ::slotted(*){pointer-events:auto}#contents ::slotted(*){position:relative}\n`;export default e;\n//# sourceMappingURL=active-overlay.css.js.map\n","\"use strict\";export const parentOverlayOf=e=>{if(!e)return null;const o=e.closest(\"active-overlay\");if(o)return o;const t=e.getRootNode();return t.host?parentOverlayOf(t.host):null},findOverlaysRootedInOverlay=(e,o)=>{const t=[];if(!e)return[];for(const r of o)r.root&&parentOverlayOf(r.root)===e&&(t.push(r),t.push(...findOverlaysRootedInOverlay(r,o)));return t};\n//# sourceMappingURL=overlay-utils.js.map\n","function t(t){return t.split(\"-\")[1]}function e(t){return\"y\"===t?\"height\":\"width\"}function n(t){return t.split(\"-\")[0]}function o(t){return[\"top\",\"bottom\"].includes(n(t))?\"x\":\"y\"}function r(r,i,a){let{reference:l,floating:s}=r;const c=l.x+l.width/2-s.width/2,f=l.y+l.height/2-s.height/2,u=o(i),m=e(u),g=l[m]/2-s[m]/2,d=\"x\"===u;let p;switch(n(i)){case\"top\":p={x:c,y:l.y-s.height};break;case\"bottom\":p={x:c,y:l.y+l.height};break;case\"right\":p={x:l.x+l.width,y:f};break;case\"left\":p={x:l.x-s.width,y:f};break;default:p={x:l.x,y:l.y}}switch(t(i)){case\"start\":p[u]-=g*(a&&d?-1:1);break;case\"end\":p[u]+=g*(a&&d?-1:1)}return p}const i=async(t,e,n)=>{const{placement:o=\"bottom\",strategy:i=\"absolute\",middleware:a=[],platform:l}=n,s=a.filter(Boolean),c=await(null==l.isRTL?void 0:l.isRTL(e));let f=await l.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:m}=r(f,o,c),g=o,d={},p=0;for(let n=0;n<s.length;n++){const{name:a,fn:h}=s[n],{x:y,y:x,data:w,reset:v}=await h({x:u,y:m,initialPlacement:o,placement:g,strategy:i,middlewareData:d,rects:f,platform:l,elements:{reference:t,floating:e}});u=null!=y?y:u,m=null!=x?x:m,d={...d,[a]:{...d[a],...w}},v&&p<=50&&(p++,\"object\"==typeof v&&(v.placement&&(g=v.placement),v.rects&&(f=!0===v.rects?await l.getElementRects({reference:t,floating:e,strategy:i}):v.rects),({x:u,y:m}=r(f,g,c))),n=-1)}return{x:u,y:m,placement:g,strategy:i,middlewareData:d}};function a(t){return\"number\"!=typeof t?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(t):{top:t,right:t,bottom:t,left:t}}function l(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}async function s(t,e){var n;void 0===e&&(e={});const{x:o,y:r,platform:i,rects:s,elements:c,strategy:f}=t,{boundary:u=\"clippingAncestors\",rootBoundary:m=\"viewport\",elementContext:g=\"floating\",altBoundary:d=!1,padding:p=0}=e,h=a(p),y=c[d?\"floating\"===g?\"reference\":\"floating\":g],x=l(await i.getClippingRect({element:null==(n=await(null==i.isElement?void 0:i.isElement(y)))||n?y:y.contextElement||await(null==i.getDocumentElement?void 0:i.getDocumentElement(c.floating)),boundary:u,rootBoundary:m,strategy:f})),w=\"floating\"===g?{...s.floating,x:o,y:r}:s.reference,v=await(null==i.getOffsetParent?void 0:i.getOffsetParent(c.floating)),b=await(null==i.isElement?void 0:i.isElement(v))&&await(null==i.getScale?void 0:i.getScale(v))||{x:1,y:1},R=l(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({rect:w,offsetParent:v,strategy:f}):w);return{top:(x.top-R.top+h.top)/b.y,bottom:(R.bottom-x.bottom+h.bottom)/b.y,left:(x.left-R.left+h.left)/b.x,right:(R.right-x.right+h.right)/b.x}}const c=Math.min,f=Math.max;function u(t,e,n){return f(t,c(e,n))}const m=n=>({name:\"arrow\",options:n,async fn(r){const{element:i,padding:l=0}=n||{},{x:s,y:c,placement:f,rects:m,platform:g}=r;if(null==i)return{};const d=a(l),p={x:s,y:c},h=o(f),y=e(h),x=await g.getDimensions(i),w=\"y\"===h?\"top\":\"left\",v=\"y\"===h?\"bottom\":\"right\",b=m.reference[y]+m.reference[h]-p[h]-m.floating[y],R=p[h]-m.reference[h],A=await(null==g.getOffsetParent?void 0:g.getOffsetParent(i));let P=A?\"y\"===h?A.clientHeight||0:A.clientWidth||0:0;0===P&&(P=m.floating[y]);const T=b/2-R/2,O=d[w],D=P-x[y]-d[v],E=P/2-x[y]/2+T,L=u(O,E,D),k=null!=t(f)&&E!=L&&m.reference[y]/2-(E<O?d[w]:d[v])-x[y]/2<0;return{[h]:p[h]-(k?E<O?O-E:D-E:0),data:{[h]:L,centerOffset:E-L}}}}),g=[\"top\",\"right\",\"bottom\",\"left\"],d=g.reduce(((t,e)=>t.concat(e,e+\"-start\",e+\"-end\")),[]),p={left:\"right\",right:\"left\",bottom:\"top\",top:\"bottom\"};function h(t){return t.replace(/left|right|bottom|top/g,(t=>p[t]))}function y(n,r,i){void 0===i&&(i=!1);const a=t(n),l=o(n),s=e(l);let c=\"x\"===l?a===(i?\"end\":\"start\")?\"right\":\"left\":\"start\"===a?\"bottom\":\"top\";return r.reference[s]>r.floating[s]&&(c=h(c)),{main:c,cross:h(c)}}const x={start:\"end\",end:\"start\"};function w(t){return t.replace(/start|end/g,(t=>x[t]))}const v=function(e){return void 0===e&&(e={}),{name:\"autoPlacement\",options:e,async fn(o){var r,i,a;const{rects:l,middlewareData:c,placement:f,platform:u,elements:m}=o,{crossAxis:g=!1,alignment:p,allowedPlacements:h=d,autoAlignment:x=!0,...v}=e,b=void 0!==p||h===d?function(e,o,r){return(e?[...r.filter((n=>t(n)===e)),...r.filter((n=>t(n)!==e))]:r.filter((t=>n(t)===t))).filter((n=>!e||t(n)===e||!!o&&w(n)!==n))}(p||null,x,h):h,R=await s(o,v),A=(null==(r=c.autoPlacement)?void 0:r.index)||0,P=b[A];if(null==P)return{};const{main:T,cross:O}=y(P,l,await(null==u.isRTL?void 0:u.isRTL(m.floating)));if(f!==P)return{reset:{placement:b[0]}};const D=[R[n(P)],R[T],R[O]],E=[...(null==(i=c.autoPlacement)?void 0:i.overflows)||[],{placement:P,overflows:D}],L=b[A+1];if(L)return{data:{index:A+1,overflows:E},reset:{placement:L}};const k=E.map((e=>{const n=t(e.placement);return[e.placement,n&&g?e.overflows.slice(0,2).reduce(((t,e)=>t+e),0):e.overflows[0],e.overflows]})).sort(((t,e)=>t[1]-e[1])),B=(null==(a=k.filter((e=>e[2].slice(0,t(e[0])?2:3).every((t=>t<=0))))[0])?void 0:a[0])||k[0][0];return B!==f?{data:{index:A+1,overflows:E},reset:{placement:B}}:{}}}};const b=function(e){return void 0===e&&(e={}),{name:\"flip\",options:e,async fn(o){var r;const{placement:i,middlewareData:a,rects:l,initialPlacement:c,platform:f,elements:u}=o,{mainAxis:m=!0,crossAxis:g=!0,fallbackPlacements:d,fallbackStrategy:p=\"bestFit\",fallbackAxisSideDirection:x=\"none\",flipAlignment:v=!0,...b}=e,R=n(i),A=n(c)===c,P=await(null==f.isRTL?void 0:f.isRTL(u.floating)),T=d||(A||!v?[h(c)]:function(t){const e=h(t);return[w(t),e,w(e)]}(c));d||\"none\"===x||T.push(...function(e,o,r,i){const a=t(e);let l=function(t,e,n){const o=[\"left\",\"right\"],r=[\"right\",\"left\"],i=[\"top\",\"bottom\"],a=[\"bottom\",\"top\"];switch(t){case\"top\":case\"bottom\":return n?e?r:o:e?o:r;case\"left\":case\"right\":return e?i:a;default:return[]}}(n(e),\"start\"===r,i);return a&&(l=l.map((t=>t+\"-\"+a)),o&&(l=l.concat(l.map(w)))),l}(c,v,x,P));const O=[c,...T],D=await s(o,b),E=[];let L=(null==(r=a.flip)?void 0:r.overflows)||[];if(m&&E.push(D[R]),g){const{main:t,cross:e}=y(i,l,P);E.push(D[t],D[e])}if(L=[...L,{placement:i,overflows:E}],!E.every((t=>t<=0))){var k,B;const t=((null==(k=a.flip)?void 0:k.index)||0)+1,e=O[t];if(e)return{data:{index:t,overflows:L},reset:{placement:e}};let n=null==(B=L.filter((t=>t.overflows[0]<=0)).sort(((t,e)=>t.overflows[1]-e.overflows[1]))[0])?void 0:B.placement;if(!n)switch(p){case\"bestFit\":{var C;const t=null==(C=L.map((t=>[t.placement,t.overflows.filter((t=>t>0)).reduce(((t,e)=>t+e),0)])).sort(((t,e)=>t[1]-e[1]))[0])?void 0:C[0];t&&(n=t);break}case\"initialPlacement\":n=c}if(i!==n)return{reset:{placement:n}}}return{}}}};function R(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function A(t){return g.some((e=>t[e]>=0))}const P=function(t){return void 0===t&&(t={}),{name:\"hide\",options:t,async fn(e){const{strategy:n=\"referenceHidden\",...o}=t,{rects:r}=e;switch(n){case\"referenceHidden\":{const t=R(await s(e,{...o,elementContext:\"reference\"}),r.reference);return{data:{referenceHiddenOffsets:t,referenceHidden:A(t)}}}case\"escaped\":{const t=R(await s(e,{...o,altBoundary:!0}),r.floating);return{data:{escapedOffsets:t,escaped:A(t)}}}default:return{}}}}},T=function(t){return void 0===t&&(t={}),{name:\"inline\",options:t,async fn(e){const{placement:r,elements:i,rects:s,platform:u,strategy:m}=e,{padding:g=2,x:d,y:p}=t,h=l(u.convertOffsetParentRelativeRectToViewportRelativeRect?await u.convertOffsetParentRelativeRectToViewportRelativeRect({rect:s.reference,offsetParent:await(null==u.getOffsetParent?void 0:u.getOffsetParent(i.floating)),strategy:m}):s.reference),y=await(null==u.getClientRects?void 0:u.getClientRects(i.reference))||[],x=a(g);const w=await u.getElementRects({reference:{getBoundingClientRect:function(){if(2===y.length&&y[0].left>y[1].right&&null!=d&&null!=p)return y.find((t=>d>t.left-x.left&&d<t.right+x.right&&p>t.top-x.top&&p<t.bottom+x.bottom))||h;if(y.length>=2){if(\"x\"===o(r)){const t=y[0],e=y[y.length-1],o=\"top\"===n(r),i=t.top,a=e.bottom,l=o?t.left:e.left,s=o?t.right:e.right;return{top:i,bottom:a,left:l,right:s,width:s-l,height:a-i,x:l,y:i}}const t=\"left\"===n(r),e=f(...y.map((t=>t.right))),i=c(...y.map((t=>t.left))),a=y.filter((n=>t?n.left===i:n.right===e)),l=a[0].top,s=a[a.length-1].bottom;return{top:l,bottom:s,left:i,right:e,width:e-i,height:s-l,x:i,y:l}}return h}},floating:i.floating,strategy:m});return s.reference.x!==w.reference.x||s.reference.y!==w.reference.y||s.reference.width!==w.reference.width||s.reference.height!==w.reference.height?{reset:{rects:w}}:{}}}};const O=function(e){return void 0===e&&(e=0),{name:\"offset\",options:e,async fn(r){const{x:i,y:a}=r,l=await async function(e,r){const{placement:i,platform:a,elements:l}=e,s=await(null==a.isRTL?void 0:a.isRTL(l.floating)),c=n(i),f=t(i),u=\"x\"===o(i),m=[\"left\",\"top\"].includes(c)?-1:1,g=s&&u?-1:1,d=\"function\"==typeof r?r(e):r;let{mainAxis:p,crossAxis:h,alignmentAxis:y}=\"number\"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return f&&\"number\"==typeof y&&(h=\"end\"===f?-1*y:y),u?{x:h*g,y:p*m}:{x:p*m,y:h*g}}(r,e);return{x:i+l.x,y:a+l.y,data:l}}}};function D(t){return\"x\"===t?\"y\":\"x\"}const E=function(t){return void 0===t&&(t={}),{name:\"shift\",options:t,async fn(e){const{x:r,y:i,placement:a}=e,{mainAxis:l=!0,crossAxis:c=!1,limiter:f={fn:t=>{let{x:e,y:n}=t;return{x:e,y:n}}},...m}=t,g={x:r,y:i},d=await s(e,m),p=o(n(a)),h=D(p);let y=g[p],x=g[h];if(l){const t=\"y\"===p?\"bottom\":\"right\";y=u(y+d[\"y\"===p?\"top\":\"left\"],y,y-d[t])}if(c){const t=\"y\"===h?\"bottom\":\"right\";x=u(x+d[\"y\"===h?\"top\":\"left\"],x,x-d[t])}const w=f.fn({...e,[p]:y,[h]:x});return{...w,data:{x:w.x-r,y:w.y-i}}}}},L=function(t){return void 0===t&&(t={}),{options:t,fn(e){const{x:r,y:i,placement:a,rects:l,middlewareData:s}=e,{offset:c=0,mainAxis:f=!0,crossAxis:u=!0}=t,m={x:r,y:i},g=o(a),d=D(g);let p=m[g],h=m[d];const y=\"function\"==typeof c?c(e):c,x=\"number\"==typeof y?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(f){const t=\"y\"===g?\"height\":\"width\",e=l.reference[g]-l.floating[t]+x.mainAxis,n=l.reference[g]+l.reference[t]-x.mainAxis;p<e?p=e:p>n&&(p=n)}if(u){var w,v;const t=\"y\"===g?\"width\":\"height\",e=[\"top\",\"left\"].includes(n(a)),o=l.reference[d]-l.floating[t]+(e&&(null==(w=s.offset)?void 0:w[d])||0)+(e?0:x.crossAxis),r=l.reference[d]+l.reference[t]+(e?0:(null==(v=s.offset)?void 0:v[d])||0)-(e?x.crossAxis:0);h<o?h=o:h>r&&(h=r)}return{[g]:p,[d]:h}}}},k=function(e){return void 0===e&&(e={}),{name:\"size\",options:e,async fn(r){const{placement:i,rects:a,platform:l,elements:u}=r,{apply:m=(()=>{}),...g}=e,d=await s(r,g),p=n(i),h=t(i),y=\"x\"===o(i),{width:x,height:w}=a.floating;let v,b;\"top\"===p||\"bottom\"===p?(v=p,b=h===(await(null==l.isRTL?void 0:l.isRTL(u.floating))?\"start\":\"end\")?\"left\":\"right\"):(b=p,v=\"end\"===h?\"top\":\"bottom\");const R=w-d[v],A=x-d[b];let P=R,T=A;if(y?T=c(x-d.right-d.left,A):P=c(w-d.bottom-d.top,R),!r.middlewareData.shift&&!h){const t=f(d.left,0),e=f(d.right,0),n=f(d.top,0),o=f(d.bottom,0);y?T=x-2*(0!==t||0!==e?t+e:f(d.left,d.right)):P=w-2*(0!==n||0!==o?n+o:f(d.top,d.bottom))}await m({...r,availableWidth:T,availableHeight:P});const O=await l.getDimensions(u.floating);return x!==O.width||w!==O.height?{reset:{rects:!0}}:{}}}};export{m as arrow,v as autoPlacement,i as computePosition,s as detectOverflow,b as flip,P as hide,T as inline,L as limitShift,O as offset,l as rectToClientRect,E as shift,k as size};\n","import{rectToClientRect as t,computePosition as e}from\"@floating-ui/core\";export{arrow,autoPlacement,detectOverflow,flip,hide,inline,limitShift,offset,shift,size}from\"@floating-ui/core\";function n(t){var e;return(null==(e=t.ownerDocument)?void 0:e.defaultView)||window}function o(t){return n(t).getComputedStyle(t)}const i=Math.min,r=Math.max,l=Math.round;function c(t){const e=o(t);let n=parseFloat(e.width),i=parseFloat(e.height);const r=t.offsetWidth,c=t.offsetHeight,s=l(n)!==r||l(i)!==c;return s&&(n=r,i=c),{width:n,height:i,fallback:s}}function s(t){return h(t)?(t.nodeName||\"\").toLowerCase():\"\"}let f;function u(){if(f)return f;const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?(f=t.brands.map((t=>t.brand+\"/\"+t.version)).join(\" \"),f):navigator.userAgent}function a(t){return t instanceof n(t).HTMLElement}function d(t){return t instanceof n(t).Element}function h(t){return t instanceof n(t).Node}function p(t){if(\"undefined\"==typeof ShadowRoot)return!1;return t instanceof n(t).ShadowRoot||t instanceof ShadowRoot}function g(t){const{overflow:e,overflowX:n,overflowY:i,display:r}=o(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&![\"inline\",\"contents\"].includes(r)}function m(t){return[\"table\",\"td\",\"th\"].includes(s(t))}function y(t){const e=/firefox/i.test(u()),n=o(t),i=n.backdropFilter||n.WebkitBackdropFilter;return\"none\"!==n.transform||\"none\"!==n.perspective||!!i&&\"none\"!==i||e&&\"filter\"===n.willChange||e&&!!n.filter&&\"none\"!==n.filter||[\"transform\",\"perspective\"].some((t=>n.willChange.includes(t)))||[\"paint\",\"layout\",\"strict\",\"content\"].some((t=>{const e=n.contain;return null!=e&&e.includes(t)}))}function x(){return/^((?!chrome|android).)*safari/i.test(u())}function w(t){return[\"html\",\"body\",\"#document\"].includes(s(t))}function v(t){return d(t)?t:t.contextElement}const b={x:1,y:1};function L(t){const e=v(t);if(!a(e))return b;const n=e.getBoundingClientRect(),{width:o,height:i,fallback:r}=c(e);let s=(r?l(n.width):n.width)/o,f=(r?l(n.height):n.height)/i;return s&&Number.isFinite(s)||(s=1),f&&Number.isFinite(f)||(f=1),{x:s,y:f}}function E(t,e,o,i){var r,l;void 0===e&&(e=!1),void 0===o&&(o=!1);const c=t.getBoundingClientRect(),s=v(t);let f=b;e&&(i?d(i)&&(f=L(i)):f=L(t));const u=s?n(s):window,a=x()&&o;let h=(c.left+(a&&(null==(r=u.visualViewport)?void 0:r.offsetLeft)||0))/f.x,p=(c.top+(a&&(null==(l=u.visualViewport)?void 0:l.offsetTop)||0))/f.y,g=c.width/f.x,m=c.height/f.y;if(s){const t=n(s),e=i&&d(i)?n(i):i;let o=t.frameElement;for(;o&&i&&e!==t;){const t=L(o),e=o.getBoundingClientRect(),i=getComputedStyle(o);e.x+=(o.clientLeft+parseFloat(i.paddingLeft))*t.x,e.y+=(o.clientTop+parseFloat(i.paddingTop))*t.y,h*=t.x,p*=t.y,g*=t.x,m*=t.y,h+=e.x,p+=e.y,o=n(o).frameElement}}return{width:g,height:m,top:p,right:h+g,bottom:p+m,left:h,x:h,y:p}}function R(t){return((h(t)?t.ownerDocument:t.document)||window.document).documentElement}function T(t){return d(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function C(t){return E(R(t)).left+T(t).scrollLeft}function F(t){if(\"html\"===s(t))return t;const e=t.assignedSlot||t.parentNode||p(t)&&t.host||R(t);return p(e)?e.host:e}function W(t){const e=F(t);return w(e)?e.ownerDocument.body:a(e)&&g(e)?e:W(e)}function D(t,e){var o;void 0===e&&(e=[]);const i=W(t),r=i===(null==(o=t.ownerDocument)?void 0:o.body),l=n(i);return r?e.concat(l,l.visualViewport||[],g(i)?i:[]):e.concat(i,D(i))}function S(e,i,l){let c;if(\"viewport\"===i)c=function(t,e){const o=n(t),i=R(t),r=o.visualViewport;let l=i.clientWidth,c=i.clientHeight,s=0,f=0;if(r){l=r.width,c=r.height;const t=x();(!t||t&&\"fixed\"===e)&&(s=r.offsetLeft,f=r.offsetTop)}return{width:l,height:c,x:s,y:f}}(e,l);else if(\"document\"===i)c=function(t){const e=R(t),n=T(t),i=t.ownerDocument.body,l=r(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),c=r(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let s=-n.scrollLeft+C(t);const f=-n.scrollTop;return\"rtl\"===o(i).direction&&(s+=r(e.clientWidth,i.clientWidth)-l),{width:l,height:c,x:s,y:f}}(R(e));else if(d(i))c=function(t,e){const n=E(t,!0,\"fixed\"===e),o=n.top+t.clientTop,i=n.left+t.clientLeft,r=a(t)?L(t):{x:1,y:1};return{width:t.clientWidth*r.x,height:t.clientHeight*r.y,x:i*r.x,y:o*r.y}}(i,l);else{const t={...i};if(x()){var s,f;const o=n(e);t.x-=(null==(s=o.visualViewport)?void 0:s.offsetLeft)||0,t.y-=(null==(f=o.visualViewport)?void 0:f.offsetTop)||0}c=t}return t(c)}function A(t,e){return a(t)&&\"fixed\"!==o(t).position?e?e(t):t.offsetParent:null}function H(t,e){const i=n(t);let r=A(t,e);for(;r&&m(r)&&\"static\"===o(r).position;)r=A(r,e);return r&&(\"html\"===s(r)||\"body\"===s(r)&&\"static\"===o(r).position&&!y(r))?i:r||function(t){let e=F(t);for(;a(e)&&!w(e);){if(y(e))return e;e=F(e)}return null}(t)||i}function V(t,e,n){const o=a(e),i=R(e),r=E(t,!0,\"fixed\"===n,e);let l={scrollLeft:0,scrollTop:0};const c={x:0,y:0};if(o||!o&&\"fixed\"!==n)if((\"body\"!==s(e)||g(i))&&(l=T(e)),a(e)){const t=E(e,!0);c.x=t.x+e.clientLeft,c.y=t.y+e.clientTop}else i&&(c.x=C(i));return{x:r.left+l.scrollLeft-c.x,y:r.top+l.scrollTop-c.y,width:r.width,height:r.height}}const O={getClippingRect:function(t){let{element:e,boundary:n,rootBoundary:l,strategy:c}=t;const f=\"clippingAncestors\"===n?function(t,e){const n=e.get(t);if(n)return n;let i=D(t).filter((t=>d(t)&&\"body\"!==s(t))),r=null;const l=\"fixed\"===o(t).position;let c=l?F(t):t;for(;d(c)&&!w(c);){const t=o(c),e=y(c);(l?e||r:e||\"static\"!==t.position||!r||![\"absolute\",\"fixed\"].includes(r.position))?r=t:i=i.filter((t=>t!==c)),c=F(c)}return e.set(t,i),i}(e,this._c):[].concat(n),u=[...f,l],a=u[0],h=u.reduce(((t,n)=>{const o=S(e,n,c);return t.top=r(o.top,t.top),t.right=i(o.right,t.right),t.bottom=i(o.bottom,t.bottom),t.left=r(o.left,t.left),t}),S(e,a,c));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{rect:e,offsetParent:n,strategy:o}=t;const i=a(n),r=R(n);if(n===r)return e;let l={scrollLeft:0,scrollTop:0},c={x:1,y:1};const f={x:0,y:0};if((i||!i&&\"fixed\"!==o)&&((\"body\"!==s(n)||g(r))&&(l=T(n)),a(n))){const t=E(n);c=L(n),f.x=t.x+n.clientLeft,f.y=t.y+n.clientTop}return{width:e.width*c.x,height:e.height*c.y,x:e.x*c.x-l.scrollLeft*c.x+f.x,y:e.y*c.y-l.scrollTop*c.y+f.y}},isElement:d,getDimensions:function(t){return a(t)?c(t):t.getBoundingClientRect()},getOffsetParent:H,getDocumentElement:R,getScale:L,async getElementRects(t){let{reference:e,floating:n,strategy:o}=t;const i=this.getOffsetParent||H,r=this.getDimensions;return{reference:V(e,await i(n),o),floating:{x:0,y:0,...await r(n)}}},getClientRects:t=>Array.from(t.getClientRects()),isRTL:t=>\"rtl\"===o(t).direction};function P(t,e,n,o){void 0===o&&(o={});const{ancestorScroll:i=!0,ancestorResize:r=!0,elementResize:l=!0,animationFrame:c=!1}=o,s=i&&!c,f=s||r?[...d(t)?D(t):t.contextElement?D(t.contextElement):[],...D(e)]:[];f.forEach((t=>{s&&t.addEventListener(\"scroll\",n,{passive:!0}),r&&t.addEventListener(\"resize\",n)}));let u,a=null;if(l){let o=!0;a=new ResizeObserver((()=>{o||n(),o=!1})),d(t)&&!c&&a.observe(t),d(t)||!t.contextElement||c||a.observe(t.contextElement),a.observe(e)}let h=c?E(t):null;return c&&function e(){const o=E(t);!h||o.x===h.x&&o.y===h.y&&o.width===h.width&&o.height===h.height||n();h=o,u=requestAnimationFrame(e)}(),n(),()=>{var t;f.forEach((t=>{s&&t.removeEventListener(\"scroll\",n),r&&t.removeEventListener(\"resize\",n)})),null==(t=a)||t.disconnect(),a=null,c&&cancelAnimationFrame(u)}}const z=(t,n,o)=>{const i=new Map,r={platform:O,...o},l={...r.platform,_c:i};return e(t,n,{...r,platform:l})};export{P as autoUpdate,z as computePosition,D as getOverflowAncestors,O as platform};\n","\"use strict\";var A=Object.defineProperty;var R=Object.getOwnPropertyDescriptor;var p=(s,a,t,e)=>{for(var i=e>1?void 0:e?R(a,t):a,o=s.length-1,n;o>=0;o--)(n=s[o])&&(i=(e?n(a,t,i):n(i))||i);return e&&i&&A(a,t,i),i};import{html as y,SpectrumElement as x}from\"@spectrum-web-components/base\";import{ifDefined as h}from\"@spectrum-web-components/base/src/directives.js\";import{property as c}from\"@spectrum-web-components/base/src/decorators.js\";import{reparentChildren as S}from\"@spectrum-web-components/shared/src/reparent-children.js\";import{firstFocusableIn as H}from\"@spectrum-web-components/shared/src/first-focusable-in.js\";import F from\"./active-overlay.css.js\";import{parentOverlayOf as b}from\"./overlay-utils.js\";import{arrow as I,autoUpdate as L,computePosition as M,flip as C,offset as D,shift as _,size as k}from\"@floating-ui/dom\";const P={initial:\"idle\",states:{idle:{on:{active:\"active\"}},active:{on:{hiding:\"hiding\",idle:\"idle\"}},hiding:{on:{dispose:\"dispose\"}},dispose:{on:{disposed:\"disposed\"}},disposed:{on:{}}}},T=(s,a)=>s?a&&P.states[s].on[a]||s:P.initial,U=s=>{var t;return(t={left:[\"right\",\"bottom\",\"top\"],\"left-start\":[\"right-start\",\"bottom\",\"top\"],\"left-end\":[\"right-end\",\"bottom\",\"top\"],right:[\"left\",\"bottom\",\"top\"],\"right-start\":[\"left-start\",\"bottom\",\"top\"],\"right-end\":[\"left-end\",\"bottom\",\"top\"],top:[\"bottom\",\"left\",\"right\"],\"top-start\":[\"bottom-start\",\"left\",\"right\"],\"top-end\":[\"bottom-end\",\"left\",\"right\"],bottom:[\"top\",\"left\",\"right\"],\"bottom-start\":[\"top-start\",\"left\",\"right\"],\"bottom-end\":[\"top-end\",\"left\",\"right\"]}[s])!=null?t:[s]},u=class extends x{constructor(){super();this.contentAnimationPromise=Promise.resolve(!0);this.resolveContentAnimationPromise=()=>{};this._state=T();this.animating=!1;this.theme={};this.tabbingAway=!1;this.offset=6;this.skidding=0;this.interaction=\"hover\";this.positionAnimationFrame=0;this.willNotifyClosed=!1;this.isConstrained=!1;this.updateOverlayPosition=()=>{if(this.interaction!==\"modal\"&&this.cleanup){this.dispatchEvent(new Event(\"close\"));return}this.setOverlayPosition()};this.resetOverlayPosition=()=>{this.style.removeProperty(\"max-height\"),this.style.removeProperty(\"height\"),this.initialHeight=void 0,this.isConstrained=!1,this.offsetHeight,this.setOverlayPosition()};this.setOverlayPosition=async()=>{if(!this.placement||this.placement===\"none\")return;await(document.fonts?document.fonts.ready:Promise.resolve());function t(l){const r=window.devicePixelRatio||1;return Math.round(l*r)/r||-1e4}const e=8,i=100,o=this.virtualTrigger?C({padding:e,fallbackPlacements:U(this.placement)}):C({padding:e}),n=[D({mainAxis:this.offset,crossAxis:this.skidding}),_({padding:e}),o,k({padding:e,apply:({availableWidth:l,availableHeight:r,rects:{floating:E}})=>{const f=Math.max(i,Math.floor(r)),m=E.height;this.initialHeight=!this.isConstrained&&!this.virtualTrigger?m:this.initialHeight||m,this.isConstrained=m<this.initialHeight||f<=m;const g=this.isConstrained?`${f}px`:\"\";Object.assign(this.style,{maxWidth:`${Math.floor(l)}px`,maxHeight:g,height:g})}})];this.overlayContentTip&&n.push(I({element:this.overlayContentTip}));const{x:O,y:w,placement:d,middlewareData:v}=await M(this.virtualTrigger||this.trigger,this,{placement:this.placement,middleware:n,strategy:\"fixed\"});if(Object.assign(this.style,{top:\"0px\",left:\"0px\",transform:`translate(${t(O)}px, ${t(w)}px)`}),d!==this.getAttribute(\"actual-placement\")&&(this.setAttribute(\"actual-placement\",d),this.overlayContent.setAttribute(\"placement\",d)),this.overlayContentTip&&v.arrow){const{x:l,y:r}=v.arrow;Object.assign(this.overlayContentTip.style,{left:l!=null?`${t(l)}px`:\"\",top:r!=null?`${t(r)}px`:\"\",right:\"\",bottom:\"\"})}};this.handleInlineTriggerKeydown=t=>{const{code:e,shiftKey:i}=t;if(e===\"Tab\"){if(i){this.tabbingAway=!0,this.dispatchEvent(new Event(\"close\"));return}t.stopPropagation(),t.preventDefault(),this.focus()}};this.stealOverlayContentPromise=Promise.resolve();this.stealOverlayContentPromise=new Promise(t=>this.stealOverlayContentResolver=t)}get state(){return this._state}set state(t){const e=T(this.state,t);e!==this.state&&(this._state=e,this.state===\"active\"||this.state===\"hiding\"?this.setAttribute(\"state\",this.state):this.removeAttribute(\"state\"))}async focus(){const t=H(this);if(t){t.updateComplete&&await t.updateComplete;const e=this.getRootNode().activeElement;(e===this||!this.contains(e))&&t.focus()}else super.focus();this.removeAttribute(\"tabindex\")}get hasTheme(){return!!this.theme.color||!!this.theme.scale||!!this.theme.lang}static get styles(){return[F]}get hasModalRoot(){return!!this._modalRoot}feature(){this.contains(document.activeElement)||(this.tabIndex=-1);const t=b(this.trigger);t&&t.slot===\"open\"&&(this._modalRoot=t._modalRoot||t),(this.interaction===\"modal\"||this._modalRoot)&&(this.slot=\"open\",this.interaction===\"modal\"&&this.setAttribute(\"aria-modal\",\"true\"),this._modalRoot&&(t==null||t.feature()))}obscure(t){if(this.slot&&t===\"modal\"){if(this.removeAttribute(\"slot\"),this.removeAttribute(\"aria-modal\"),this.interaction!==\"modal\"){const e=b(this.trigger);return this._modalRoot=e==null?void 0:e.obscure(t),this._modalRoot}return this}}async willUpdate(){this.hasUpdated||!this.overlayContent||!this.trigger||(this.stealOverlayContent(this.overlayContent),this.state=\"active\",this.feature(),this.placement&&this.placement!==\"none\"&&(await this.updateOverlayPosition(),document.addEventListener(\"sp-update-overlays\",this.resetOverlayPosition)),this.placement&&this.placement!==\"none\"&&(this.contentAnimationPromise=this.applyContentAnimation(\"sp-overlay-fade-in\")))}async openCallback(t){await this.updateComplete,this.receivesFocus&&await this.focus(),await t(),this.trigger.dispatchEvent(new CustomEvent(\"sp-opened\",{bubbles:!0,composed:!0,cancelable:!0,detail:{interaction:this.interaction}}))}open(t){this.extractDetail(t)}extractDetail(t){this.overlayContent=t.content,this.overlayContentTip=t.contentTip,this.trigger=t.trigger,this.virtualTrigger=t.virtualTrigger,this.placement=t.placement,this.offset=t.offset,this.skidding=t.skidding||0,this.interaction=t.interaction,this.theme=t.theme,this.receivesFocus=t.receivesFocus,this.root=t.root}dispose(){this.state===\"dispose\"&&(this.timeout&&(clearTimeout(this.timeout),delete this.timeout),this.trigger.removeEventListener(\"keydown\",this.handleInlineTriggerKeydown),this.returnOverlayContent(),this.state=\"disposed\",this.willNotifyClosed&&(this.overlayContent.dispatchEvent(new Event(\"sp-overlay-closed\")),this.willNotifyClosed=!1),this.cleanup&&this.cleanup())}stealOverlayContent(t){this.originalPlacement=t.getAttribute(\"placement\"),this.restoreContent=S([t],this,{position:\"beforeend\",prepareCallback:e=>{const i=e.slot,o=e.placement;return e.removeAttribute(\"slot\"),n=>{n.slot=i,n.placement=o}}}),this.stealOverlayContentResolver()}returnOverlayContent(){if(!this.restoreContent)return;const[t]=this.restoreContent();this.restoreContent=void 0,this.willNotifyClosed=!0,this.originalPlacement&&(t.setAttribute(\"placement\",this.originalPlacement),delete this.originalPlacement)}async placeOverlay(){!this.placement||this.placement===\"none\"||(this.cleanup=L(this.virtualTrigger||this.trigger,this,this.updateOverlayPosition,{elementResize:!1}))}async hide(t=!0){this.state===\"active\"&&(this.state=\"hiding\",t&&await this.applyContentAnimation(\"sp-overlay-fade-out\"),this.state=\"dispose\")}schedulePositionUpdate(){cancelAnimationFrame(this.positionAnimationFrame),this.positionAnimationFrame=requestAnimationFrame(()=>{this.cleanup?this.updateOverlayPosition():this.placeOverlay()})}onSlotChange(){this.schedulePositionUpdate()}applyContentAnimation(t){return this.placement===\"none\"?Promise.resolve(!0):(this.resolveContentAnimationPromise(),new Promise(e=>{this.resolveContentAnimationPromise=()=>{e(!1)};const i=this.shadowRoot.querySelector(\"#contents\"),o=n=>{t===n.animationName&&(i.removeEventListener(\"animationend\",o),i.removeEventListener(\"animationcancel\",o),this.animating=!1,e(n.type===\"animationcancel\"))};i.addEventListener(\"animationend\",o),i.addEventListener(\"animationcancel\",o),i.style.animationName=t,this.animating=!0}))}renderTheme(t){const{color:e,scale:i,lang:o,theme:n}=this.theme;return y`\n            <sp-theme\n                theme=${h(n)}\n                color=${h(e)}\n                scale=${h(i)}\n                lang=${h(o)}\n                part=\"theme\"\n            >\n                ${t}\n            </sp-theme>\n        `}render(){const t=y`\n            <div id=\"contents\">\n                <slot @slotchange=${this.onSlotChange}></slot>\n            </div>\n        `;return this.hasTheme?this.renderTheme(t):t}static create(t){const e=new u;return t.content&&e.open(t),e}async getUpdateComplete(){const t=[super.getUpdateComplete(),this.stealOverlayContentPromise];t.push(this.contentAnimationPromise),typeof this.overlayContent.updateComplete!=\"undefined\"&&t.push(this.overlayContent.updateComplete);const[e]=await Promise.all(t);return e}disconnectedCallback(){document.removeEventListener(\"sp-update-overlays\",this.resetOverlayPosition),super.disconnectedCallback()}};export let ActiveOverlay=u;p([c()],ActiveOverlay.prototype,\"_state\",2),p([c({reflect:!0,type:Boolean})],ActiveOverlay.prototype,\"animating\",2),p([c({reflect:!0})],ActiveOverlay.prototype,\"placement\",2),p([c({attribute:!1})],ActiveOverlay.prototype,\"theme\",2),p([c({attribute:!1})],ActiveOverlay.prototype,\"receivesFocus\",2);\n//# sourceMappingURL=ActiveOverlay.js.map\n","\"use strict\";const t=1e3,s=1e3;export class OverlayTimer{constructor(e={}){this.warmUpDelay=1e3;this.coolDownDelay=1e3;this.isWarm=!1;this.timeout=0;Object.assign(this,e)}async openTimer(e){if(this.cancelCooldownTimer(),!this.component||e!==this.component)return this.component&&(this.close(this.component),this.cancelCooldownTimer()),this.component=e,this.isWarm?!1:(this.promise=new Promise(o=>{this.resolve=o,this.timeout=window.setTimeout(()=>{this.resolve&&(this.resolve(!1),this.isWarm=!0)},this.warmUpDelay)}),this.promise);if(this.promise)return this.promise;throw new Error(\"Inconsistent state\")}close(e){this.component&&this.component===e&&(this.resetCooldownTimer(),this.timeout>0&&(clearTimeout(this.timeout),this.timeout=0),this.resolve&&(this.resolve(!0),delete this.resolve),delete this.promise,delete this.component)}resetCooldownTimer(){this.isWarm&&(this.cooldownTimeout&&window.clearTimeout(this.cooldownTimeout),this.cooldownTimeout=window.setTimeout(()=>{this.isWarm=!1,delete this.cooldownTimeout},this.coolDownDelay))}cancelCooldownTimer(){this.cooldownTimeout&&window.clearTimeout(this.cooldownTimeout),delete this.cooldownTimeout}}\n//# sourceMappingURL=overlay-timer.js.map\n","\"use strict\";import{ActiveOverlay as e}from\"./src/ActiveOverlay.js\";customElements.define(\"active-overlay\",e);\n//# sourceMappingURL=active-overlay.js.map\n","\"use strict\";import{ActiveOverlay as g}from\"./ActiveOverlay.js\";import{OverlayTimer as f}from\"./overlay-timer.js\";import\"../active-overlay.js\";import{findOverlaysRootedInOverlay as p,parentOverlayOf as v}from\"./overlay-utils.js\";import{getDeepElementFromPoint as b}from\"@spectrum-web-components/shared/src/get-deep-element-from-point.js\";function C(s){return s.button===0}function O(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function h(){return new Promise(s=>requestAnimationFrame(()=>s()))}export class OverlayStack{constructor(){this.overlays=[];this.preventMouseRootClose=!1;this.root=document.body;this.handlingResize=!1;this.overlayTimer=new f;this.canTabTrap=!0;this.trappingInited=!1;this._eventsAreBound=!1;this._bodyMarginsApplied=!1;this.forwardContextmenuEvent=async e=>{var o;const t=this.overlays[this.overlays.length-1];!this.trappingInited||t.interaction!==\"modal\"||e.target!==this.overlayHolder||(e.stopPropagation(),e.preventDefault(),await this.closeTopOverlay(),(o=b(e.clientX,e.clientY))==null||o.dispatchEvent(new MouseEvent(\"contextmenu\",e)))};this.handleOverlayClose=e=>{const{root:t}=e;t&&this.closeOverlaysForRoot(t)};this.handleMouseCapture=e=>{const t=this.topOverlay;if(!e.target||!t||!t.overlayContent||O(e)||!C(e)){this.preventMouseRootClose=!0;return}if(e.target instanceof Node){if(e.composedPath().indexOf(t.overlayContent)>=0){this.preventMouseRootClose=!0;return}this.preventMouseRootClose=!1}};this._doesNotCloseOnFirstClick=!1;this.handleMouse=e=>{var i;if(this._doesNotCloseOnFirstClick){this._doesNotCloseOnFirstClick=!1;return}if(this.preventMouseRootClose||e.defaultPrevented)return;const t=[];let o=this.overlays.length;for(;o&&t.length===0;){o-=1;const a=this.overlays[o],l=e.composedPath();(!l.includes(a.trigger)||a.interaction!==\"hover\")&&!l.includes(a.overlayContent)&&t.push(a)}let r=(i=this.topOverlay)==null?void 0:i.root,n=v(r);for(;r&&n;)t.push(n),n=v(r),r=n==null?void 0:n.root;n&&t.push(n),t.forEach(a=>this.hideAndCloseOverlay(a))};this.handleKeydown=e=>{e.code===\"Escape\"&&this.closeTopOverlay()};this.handleResize=()=>{this.handlingResize||(this.handlingResize=!0,requestAnimationFrame(async()=>{const e=this.overlays.map(t=>t.updateOverlayPosition());await Promise.all(e),this.handlingResize=!1}))};this.initTabTrapping()}initTabTrapping(){if(document.readyState===\"loading\"){document.addEventListener(\"readystatechange\",()=>{this.initTabTrapping()},{once:!0});return}if(this.trappingInited)return;if(this.trappingInited=!0,this.document.body.shadowRoot){this.canTabTrap=!1;return}if(this.document.body.attachShadow({mode:\"open\"}),!this.document.body.shadowRoot)return;const e=this.document.body.shadowRoot;e.innerHTML=`\n            <style>\n            :host {\n                position: relative;\n            }\n            #actual {\n                position: relative;\n                height: calc(100% - var(--swc-body-margins-block, 0px));\n                z-index: 0;\n                min-height: calc(100vh - var(--swc-body-margins-block, 0px));\n            }\n            #holder {\n                display: none;\n                align-items: center;\n                justify-content: center;\n                flex-flow: column;\n                width: 100%;\n                height: 100%;\n                position: absolute;\n                top: 0;\n                left: 0;\n            }\n            [name=\"open\"]::slotted(*) {\n                pointer-events: all;\n            }\n            #actual[aria-hidden] + #holder {\n                display: flex;\n            }\n            </style>\n            <div id=\"actual\"><slot></slot></div>\n            <div id=\"holder\"><slot name=\"open\"></slot></div>\n        `,this.tabTrapper=e.querySelector(\"#actual\"),this.overlayHolder=e.querySelector(\"#holder\"),this.tabTrapper.attachShadow({mode:\"open\"}),this.tabTrapper.shadowRoot&&(this.tabTrapper.shadowRoot.innerHTML=\"<slot></slot>\"),this.overlayHolder.addEventListener(\"contextmenu\",this.forwardContextmenuEvent,!0),requestAnimationFrame(()=>{this.applyBodyMargins(),new ResizeObserver(()=>{this.applyBodyMargins()}).observe(document.body)})}applyBodyMargins(){const{marginLeft:e,marginRight:t,marginTop:o,marginBottom:r}=getComputedStyle(document.body),n=parseFloat(e)===0&&parseFloat(t)===0&&parseFloat(o)===0&&parseFloat(r)===0;n&&!this._bodyMarginsApplied||(this.tabTrapper.style.setProperty(\"--swc-body-margins-inline\",`calc(${e} + ${t})`),this.tabTrapper.style.setProperty(\"--swc-body-margins-block\",`calc(${o} + ${r})`),this._bodyMarginsApplied=!n)}startTabTrapping(){this.initTabTrapping(),this.canTabTrap&&(this.tabTrapper.tabIndex=-1,this.tabTrapper.setAttribute(\"aria-hidden\",\"true\"))}stopTabTrapping(){!this.canTabTrap||!this.trappingInited||(this.tabTrapper.removeAttribute(\"tabindex\"),this.tabTrapper.removeAttribute(\"aria-hidden\"))}get document(){return this.root.ownerDocument||document}get topOverlay(){return this.overlays.slice(-1)[0]}findOverlayForContent(e){for(const t of this.overlays)if(e===t.overlayContent)return t}addEventListeners(){this._eventsAreBound||(this._eventsAreBound=!0,this.document.addEventListener(\"click\",this.handleMouseCapture,!0),this.document.addEventListener(\"click\",this.handleMouse),this.document.addEventListener(\"keydown\",this.handleKeydown),this.document.addEventListener(\"sp-overlay-close\",this.handleOverlayClose),window.addEventListener(\"resize\",this.handleResize))}isClickOverlayActiveForTrigger(e){return this.overlays.some(t=>e===t.trigger&&t.interaction===\"click\")}async openOverlay(e){if(this.addEventListeners(),this.findOverlayForContent(e.content))return!1;e.notImmediatelyClosable&&(this._doesNotCloseOnFirstClick=!0),e.interaction===\"modal\"&&this.startTabTrapping();const t=e.content,{trigger:o}=e;if(t.overlayWillOpenCallback&&t.overlayWillOpenCallback({trigger:o}),e.delayed){const a=[this.overlayTimer.openTimer(e.content)];e.abortPromise&&a.push(e.abortPromise);const l=await Promise.race(a);if(l)return t.overlayOpenCancelledCallback&&t.overlayOpenCancelledCallback({trigger:o}),l}if(e.root&&this.closeOverlaysForRoot(e.root),e.interaction===\"click\")this.closeAllHoverOverlays();else if(e.interaction===\"hover\"&&this.isClickOverlayActiveForTrigger(e.trigger))return!0;const r=g.create(e);this.overlays.length&&this.overlays[this.overlays.length-1].obscure(r.interaction),document.body.appendChild(r),await h(),this.overlays.push(r),await r.updateComplete,this.addOverlayEventListeners(r),typeof t.open!=\"undefined\"&&(await h(),t.open=!0);let n=()=>{};if(t.overlayOpenCallback){const{trigger:i}=r,{overlayOpenCallback:a}=t;n=async()=>await a({trigger:i})}return await r.openCallback(n),!1}addOverlayEventListeners(e){switch(e.addEventListener(\"close\",()=>{this.hideAndCloseOverlay(e,!0)}),e.interaction){case\"replace\":this.addReplaceOverlayEventListeners(e);break;case\"inline\":this.addInlineOverlayEventListeners(e);break}}addReplaceOverlayEventListeners(e){e.addEventListener(\"keydown\",t=>{const{code:o}=t;o===\"Tab\"&&(t.stopPropagation(),this.closeOverlay(e.overlayContent),e.tabbingAway=!0,e.trigger.focus(),e.trigger.dispatchEvent(new KeyboardEvent(\"keydown\",t)))})}addInlineOverlayEventListeners(e){e.trigger.addEventListener(\"keydown\",e.handleInlineTriggerKeydown),e.addEventListener(\"keydown\",t=>{const{code:o,shiftKey:r}=t;if(o!==\"Tab\")return;if(e.tabbingAway=!0,r){const i=document.createElement(\"span\");i.tabIndex=-1,e.trigger.hasAttribute(\"slot\")&&(i.slot=e.trigger.slot),e.trigger.insertAdjacentElement(\"afterend\",i),i.focus(),i.remove();return}t.stopPropagation();const n=e.trigger;typeof n.open!=\"undefined\"&&(n.open=!1),this.closeOverlay(e.overlayContent),e.trigger.focus()})}closeOverlay(e){this.overlayTimer.close(e),requestAnimationFrame(()=>{const t=this.findOverlayForContent(e),o=[t];o.push(...p(t,this.overlays)),o.forEach(r=>this.hideAndCloseOverlay(r))})}closeAllHoverOverlays(){for(const e of this.overlays)e.interaction===\"hover\"&&this.hideAndCloseOverlay(e,!1)}closeOverlaysForRoot(e){const t=[];for(const o of this.overlays)o.root&&o.root===e&&(t.push(o),t.push(...p(o,this.overlays)));t.forEach(o=>this.hideAndCloseOverlay(o,!0,!0))}async manageFocusAfterCloseWhenOverlaysRemain(e,t){const o=this.overlays[this.overlays.length-1];if(o.feature(),o.interaction===\"modal\"||o.hasModalRoot){if(e)return;await(t||o).focus()}else this.stopTabTrapping()}manageFocusAfterCloseWhenLastOverlay(e){this.stopTabTrapping();const t=e.interaction===\"modal\",o=e.receivesFocus===\"auto\",r=e.interaction===\"replace\",n=e.interaction===\"inline\",i=(r||n)&&!e.tabbingAway;if(e.tabbingAway=!1,!t&&!o&&!i)return;const l=e.overlayContent.getRootNode().activeElement;let d,c;const u=()=>e.overlayContent.contains(l),y=()=>(d=e.trigger.getRootNode(),c=d.activeElement,d.contains(c)),m=()=>d.host&&d.host===c;(t||u()||y()||m())&&e.trigger.focus()}async hideAndCloseOverlay(e,t,o){if(!e)return;const r=e.overlayContent;if(typeof r.overlayWillCloseCallback!=\"undefined\"){const{trigger:i}=e;if(r.overlayWillCloseCallback({trigger:i}))return}if(await e.hide(t),typeof r.open!=\"undefined\"&&(r.open=!1),r.overlayCloseCallback){const{trigger:i}=e;await r.overlayCloseCallback({trigger:i})}if(e.state!=\"dispose\")return;const n=this.overlays.indexOf(e);n>=0&&this.overlays.splice(n,1),this.overlays.length?await this.manageFocusAfterCloseWhenOverlaysRemain(o||e.interaction===\"hover\",e.trigger):this.manageFocusAfterCloseWhenLastOverlay(e),await e.updateComplete,e.remove(),e.dispose(),e.trigger.dispatchEvent(new CustomEvent(\"sp-closed\",{bubbles:!0,composed:!0,cancelable:!0,detail:{interaction:e.interaction}}))}closeTopOverlay(){return this.hideAndCloseOverlay(this.topOverlay,!0)}}\n//# sourceMappingURL=overlay-stack.js.map\n","\"use strict\";import{OverlayStack as y}from\"./overlay-stack.js\";const n=class{constructor(e,t,r){this.isOpen=!1;this.owner=e,this.overlayElement=r,this.interaction=t}static async open(e,t,r,o){const a=new n(e,t,r);return await a.open(o),()=>{a.close()}}static update(){const e=new CustomEvent(\"sp-update-overlays\",{bubbles:!0,composed:!0,cancelable:!0});document.dispatchEvent(e)}async open({abortPromise:e,delayed:t,offset:r=0,placement:o=\"top\",receivesFocus:a,notImmediatelyClosable:l,virtualTrigger:c,root:u}){if(this.isOpen)return!0;t===void 0&&(t=this.overlayElement.hasAttribute(\"delayed\"));const s={color:void 0,scale:void 0,lang:void 0,theme:void 0},p=new CustomEvent(\"sp-query-theme\",{bubbles:!0,composed:!0,detail:s,cancelable:!0});this.owner.dispatchEvent(p);const i={},m=new CustomEvent(\"sp-overlay-query\",{bubbles:!0,composed:!0,detail:i,cancelable:!0});return this.overlayElement.dispatchEvent(m),await n.overlayStack.openOverlay({abortPromise:e,content:this.overlayElement,contentTip:i.overlayContentTipElement,delayed:t,offset:r,placement:o,trigger:this.owner,interaction:this.interaction,theme:s,receivesFocus:a,root:u,notImmediatelyClosable:l,virtualTrigger:c,...i}),this.isOpen=!0,!0}close(){n.overlayStack.closeOverlay(this.overlayElement)}};export let Overlay=n;Overlay.overlayStack=new y;\n//# sourceMappingURL=overlay.js.map\n","\"use strict\";export const getDeepElementFromPoint=(o,t)=>{let e=document.elementFromPoint(o,t);for(;e!=null&&e.shadowRoot;){const n=e.shadowRoot.elementFromPoint(o,t);if(!n||n===e)break;e=n}return e};\n//# sourceMappingURL=get-deep-element-from-point.js.map\n"],"names":["css","parentOverlayOf","el","closest","closestOverlay","getRootNode","host","rootNode","findOverlaysRootedInOverlay","rootOverlay","activeOverlays","t","overlay","root","overlays","push","split","e","n","o","includes","r","i","a","reference","l","floating","s","c","x","width","f","y","height","u","m","g","d","p","top","right","bottom","left","platform","rects","elements","strategy","boundary","rootBoundary","elementContext","altBoundary","padding","h","getClippingRect","element","isElement","contextElement","getDocumentElement","w","v","getOffsetParent","b","getScale","R","convertOffsetParentRelativeRectToViewportRelativeRect","rect","offsetParent","Math","min","max","name","options","async","placement","getDimensions","A","P","clientHeight","clientWidth","T","O","D","E","L","k","data","centerOffset","reduce","concat","replace","main","cross","start","end","middlewareData","initialPlacement","mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment","isRTL","map","flip","overflows","every","B","index","reset","filter","sort","C","alignmentAxis","limiter","fn","apply","shift","availableWidth","availableHeight","ownerDocument","defaultView","window","getComputedStyle","round","parseFloat","offsetWidth","offsetHeight","fallback","nodeName","toLowerCase","navigator","userAgentData","Array","isArray","brands","brand","version","join","userAgent","HTMLElement","Element","Node","ShadowRoot","overflow","overflowX","overflowY","display","test","backdropFilter","WebkitBackdropFilter","transform","perspective","willChange","some","contain","getBoundingClientRect","Number","isFinite","visualViewport","offsetLeft","offsetTop","frameElement","clientLeft","paddingLeft","clientTop","paddingTop","document","documentElement","scrollLeft","scrollTop","pageXOffset","pageYOffset","F","assignedSlot","parentNode","W","body","S","scrollWidth","scrollHeight","direction","position","H","V","get","set","this","_c","getClientRects","from","z","Map","middleware","Boolean","getElementRects","length","initial","states","idle","on","active","hiding","dispose","disposed","stateTransition","state","event","stateMachine","getFallbackPlacements","_a","_ActiveOverlay","constructor","super","contentAnimationPromise","Promise","resolve","resolveContentAnimationPromise","_state","animating","theme","tabbingAway","offset","skidding","interaction","positionAnimationFrame","willNotifyClosed","isConstrained","updateOverlayPosition","cleanup","dispatchEvent","setOverlayPosition","resetOverlayPosition","style","removeProperty","initialHeight","roundByDPR","num","devicePixelRatio","dpr","fonts","ready","flipMiddleware","virtualTrigger","size","maxHeight","floor","actualHeight","appliedHeight","Object","assign","maxWidth","overlayContentTip","arrow","computePosition","trigger","getAttribute","setAttribute","overlayContent","arrowX","arrowY","handleInlineTriggerKeydown","code","shiftKey","Event","stopPropagation","preventDefault","focus","stealOverlayContentPromise","res","stealOverlayContentResolver","nextState","removeAttribute","firstFocusableIn","firstFocusable","updateComplete","activeElement","contains","color","scale","lang","styles","_modalRoot","feature","tabIndex","parentOverlay","slot","obscure","nextOverlayInteraction","hasUpdated","stealOverlayContent","addEventListener","applyContentAnimation","lifecycleCallback","receivesFocus","CustomEvent","bubbles","composed","cancelable","detail","openDetail","extractDetail","content","contentTip","timeout","clearTimeout","removeEventListener","returnOverlayContent","originalPlacement","restoreContent","reparentChildren","prepareCallback","slotName","ancestorScroll","ancestorResize","elementResize","animationFrame","forEach","passive","ResizeObserver","observe","requestAnimationFrame","disconnect","cancelAnimationFrame","autoUpdate","animated","placeOverlay","onSlotChange","schedulePositionUpdate","animation","contents","shadowRoot","querySelector","doneHandler","animationName","type","renderTheme","html","ifDefined","render","hasTheme","static","details","open","getUpdateComplete","actions","complete","all","disconnectedCallback","__decorateClass","property","ActiveOverlay","prototype","reflect","attribute","OverlayTimer","warmUpDelay","coolDownDelay","isWarm","component","cancelCooldownTimer","close","promise","setTimeout","Error","resetCooldownTimer","cooldownTimeout","customElements","define","owner","overlayElement","isOpen","overlayUpdateEvent","abortPromise","delayed","notImmediatelyClosable","hasAttribute","queryThemeDetail","queryThemeEvent","overlayDetailQuery","queryOverlayDetailEvent","overlayStack","openOverlay","overlayContentTipElement","_Overlay","closeOverlay","Overlay","OverlayStack","preventMouseRootClose","handlingResize","overlayTimer","canTabTrap","trappingInited","_eventsAreBound","_bodyMarginsApplied","forwardContextmenuEvent","topOverlay","target","overlayHolder","closeTopOverlay","elementFromPoint","innerTarget","clientX","clientY","MouseEvent","closeOverlaysForRoot","handleMouseCapture","hasModifier","metaKey","altKey","ctrlKey","button","isLeftClick","composedPath","indexOf","_doesNotCloseOnFirstClick","handleMouse","defaultPrevented","overlaysToClose","path","hideAndCloseOverlay","handleKeydown","handleResize","promises","initTabTrapping","readyState","once","attachShadow","mode","innerHTML","tabTrapper","applyBodyMargins","marginLeft","marginRight","marginTop","marginBottom","allZero","setProperty","stopTabTrapping","slice","item","addEventListeners","handleOverlayClose","findOverlayForContent","startTabTrapping","contentWithLifecycle","overlayWillOpenCallback","openTimer","cancelled","race","overlayOpenCancelledCallback","closeAllHoverOverlays","isClickOverlayActiveForTrigger","create","activeOverlay","appendChild","addOverlayEventListeners","overlayOpenCallback","cb","openCallback","addReplaceOverlayEventListeners","addInlineOverlayEventListeners","returnFocusElement","createElement","insertAdjacentElement","remove","triggerWithLifecycle","overlayFromContent","returnBeforeFocus","previousTrigger","hasModalRoot","isReceivesFocus","isReplace","isInline","isTabbingAwayFromInlineOrReplace","isModal","triggerRoot","triggerActiveElement","overlayContentActiveElement","overlayWillCloseCallback","hide","overlayCloseCallback","splice","manageFocusAfterCloseWhenOverlaysRemain","manageFocusAfterCloseWhenLastOverlay"],"mappings":"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"}