{"version":3,"file":"bb2e4953.js","sources":["../../../packages/overlay/src/active-overlay.css.js","../../../packages/overlay/src/overlay-utils.js","../../../node_modules/@floating-ui/core/dist/floating-ui.core.browser.min.mjs","../../../node_modules/@floating-ui/dom/dist/floating-ui.dom.browser.min.mjs","../../../packages/overlay/src/ActiveOverlay.js","../../../packages/overlay/src/overlay-timer.js","../../../packages/overlay/active-overlay.js","../../../packages/overlay/src/overlay-stack.js","../../../packages/overlay/src/overlay.js","../../../tools/shared/src/get-deep-element-from-point.js"],"sourcesContent":["\"use strict\";import{css as t}from\"@spectrum-web-components/base\";const e=t`\n@keyframes sp-overlay-fade-in{0%{opacity:0;transform:var(--sp-overlay-from)}to{opacity:1;transform:translate(0)}}@keyframes sp-overlay-fade-out{0%{opacity:1;transform:translate(0)}to{opacity:0;transform:var(--sp-overlay-from)}}:host{display:inline-block;left:-9999em;pointer-events:none;position:fixed;top:-9999em;z-index:1000}:host(:focus){outline:none}:host([placement=none]){height:100vh;height:100dvh;height:-webkit-fill-available;height:fill-available;left:0;position:fixed;top:0}#contents,sp-theme{height:100%}#contents{--swc-overlay-animation-distance:var(\n--spectrum-picker-m-texticon-popover-offset-y,var(--spectrum-global-dimension-size-75)\n);animation-duration:var(\n--swc-test-duration,var(--spectrum-global-animation-duration-200,.16s)\n);animation-timing-function:var(\n--spectrum-global-animation-ease-out,ease-out\n);box-sizing:border-box;display:inline-block;opacity:1;pointer-events:none;visibility:visible}:host([actual-placement*=top]) #contents{--sp-overlay-from:translateY(var(--spectrum-global-dimension-size-75));align-items:flex-end;display:inline-flex;padding-top:var(--swc-overlay-animation-distance)}:host([actual-placement*=right]) #contents{--sp-overlay-from:translateX(calc(var(--spectrum-global-dimension-size-75)*-1));padding-right:var(--swc-overlay-animation-distance)}:host([actual-placement*=bottom]) #contents{--sp-overlay-from:translateY(calc(var(--spectrum-global-dimension-size-75)*-1));padding-bottom:var(--swc-overlay-animation-distance)}:host([actual-placement*=left]) #contents{--sp-overlay-from:translateX(var(--spectrum-global-dimension-size-75));padding-left:var(--swc-overlay-animation-distance)}:host([animating]) ::slotted(*){pointer-events:none}:host(:not([animating])) ::slotted(*){pointer-events:auto}#contents ::slotted(*){position:relative}\n`;export default e;\n//# sourceMappingURL=active-overlay.css.js.map\n","\"use strict\";export const parentOverlayOf=e=>{if(!e)return null;const o=e.closest(\"active-overlay\");if(o)return o;const t=e.getRootNode();return t.host?parentOverlayOf(t.host):null},findOverlaysRootedInOverlay=(e,o)=>{const t=[];if(!e)return[];for(const r of o)!r.root||parentOverlayOf(r.root)===e&&(t.push(r),t.push(...findOverlaysRootedInOverlay(r,o)));return t};\n//# sourceMappingURL=overlay-utils.js.map\n","function t(t){return t.split(\"-\")[0]}function e(t){return t.split(\"-\")[1]}function n(e){return[\"top\",\"bottom\"].includes(t(e))?\"x\":\"y\"}function r(t){return\"y\"===t?\"height\":\"width\"}function i(i,o,a){let{reference:l,floating:s}=i;const c=l.x+l.width/2-s.width/2,f=l.y+l.height/2-s.height/2,u=n(o),m=r(u),g=l[m]/2-s[m]/2,d=\"x\"===u;let p;switch(t(o)){case\"top\":p={x:c,y:l.y-s.height};break;case\"bottom\":p={x:c,y:l.y+l.height};break;case\"right\":p={x:l.x+l.width,y:f};break;case\"left\":p={x:l.x-s.width,y:f};break;default:p={x:l.x,y:l.y}}switch(e(o)){case\"start\":p[u]-=g*(a&&d?-1:1);break;case\"end\":p[u]+=g*(a&&d?-1:1)}return p}const o=async(t,e,n)=>{const{placement:r=\"bottom\",strategy:o=\"absolute\",middleware:a=[],platform:l}=n,s=a.filter(Boolean),c=await(null==l.isRTL?void 0:l.isRTL(e));let f=await l.getElementRects({reference:t,floating:e,strategy:o}),{x:u,y:m}=i(f,r,c),g=r,d={},p=0;for(let n=0;n<s.length;n++){const{name:a,fn:h}=s[n],{x:y,y:x,data:w,reset:v}=await h({x:u,y:m,initialPlacement:r,placement:g,strategy:o,middlewareData:d,rects:f,platform:l,elements:{reference:t,floating:e}});u=null!=y?y:u,m=null!=x?x:m,d={...d,[a]:{...d[a],...w}},v&&p<=50&&(p++,\"object\"==typeof v&&(v.placement&&(g=v.placement),v.rects&&(f=!0===v.rects?await l.getElementRects({reference:t,floating:e,strategy:o}):v.rects),({x:u,y:m}=i(f,g,c))),n=-1)}return{x:u,y:m,placement:g,strategy:o,middlewareData:d}};function a(t){return\"number\"!=typeof t?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(t):{top:t,right:t,bottom:t,left:t}}function l(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}async function s(t,e){var n;void 0===e&&(e={});const{x:r,y:i,platform:o,rects:s,elements:c,strategy:f}=t,{boundary:u=\"clippingAncestors\",rootBoundary:m=\"viewport\",elementContext:g=\"floating\",altBoundary:d=!1,padding:p=0}=e,h=a(p),y=c[d?\"floating\"===g?\"reference\":\"floating\":g],x=l(await o.getClippingRect({element:null==(n=await(null==o.isElement?void 0:o.isElement(y)))||n?y:y.contextElement||await(null==o.getDocumentElement?void 0:o.getDocumentElement(c.floating)),boundary:u,rootBoundary:m,strategy:f})),w=\"floating\"===g?{...s.floating,x:r,y:i}:s.reference,v=l(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({rect:w,offsetParent:await(null==o.getOffsetParent?void 0:o.getOffsetParent(c.floating)),strategy:f}):w);return{top:x.top-v.top+h.top,bottom:v.bottom-x.bottom+h.bottom,left:x.left-v.left+h.left,right:v.right-x.right+h.right}}const c=Math.min,f=Math.max;function u(t,e,n){return f(t,c(e,n))}const m=t=>({name:\"arrow\",options:t,async fn(i){const{element:o,padding:l=0}=null!=t?t:{},{x:s,y:c,placement:f,rects:m,platform:g}=i;if(null==o)return{};const d=a(l),p={x:s,y:c},h=n(f),y=e(f),x=r(h),w=await g.getDimensions(o),v=\"y\"===h?\"top\":\"left\",b=\"y\"===h?\"bottom\":\"right\",R=m.reference[x]+m.reference[h]-p[h]-m.floating[x],A=p[h]-m.reference[h],P=await(null==g.getOffsetParent?void 0:g.getOffsetParent(o));let T=P?\"y\"===h?P.clientHeight||0:P.clientWidth||0:0;0===T&&(T=m.floating[x]);const O=R/2-A/2,L=d[v],D=T-w[x]-d[b],k=T/2-w[x]/2+O,E=u(L,k,D),B=(\"start\"===y?d[v]:d[b])>0&&k!==E&&m.reference[x]<=m.floating[x];return{[h]:p[h]-(B?k<L?L-k:D-k:0),data:{[h]:E,centerOffset:k-E}}}}),g={left:\"right\",right:\"left\",bottom:\"top\",top:\"bottom\"};function d(t){return t.replace(/left|right|bottom|top/g,(t=>g[t]))}function p(t,i,o){void 0===o&&(o=!1);const a=e(t),l=n(t),s=r(l);let c=\"x\"===l?a===(o?\"end\":\"start\")?\"right\":\"left\":\"start\"===a?\"bottom\":\"top\";return i.reference[s]>i.floating[s]&&(c=d(c)),{main:c,cross:d(c)}}const h={start:\"end\",end:\"start\"};function y(t){return t.replace(/start|end/g,(t=>h[t]))}const x=[\"top\",\"right\",\"bottom\",\"left\"],w=x.reduce(((t,e)=>t.concat(e,e+\"-start\",e+\"-end\")),[]);const v=function(n){return void 0===n&&(n={}),{name:\"autoPlacement\",options:n,async fn(r){var i,o,a,l,c;const{x:f,y:u,rects:m,middlewareData:g,placement:d,platform:h,elements:x}=r,{alignment:v=null,allowedPlacements:b=w,autoAlignment:R=!0,...A}=n,P=function(n,r,i){return(n?[...i.filter((t=>e(t)===n)),...i.filter((t=>e(t)!==n))]:i.filter((e=>t(e)===e))).filter((t=>!n||e(t)===n||!!r&&y(t)!==t))}(v,R,b),T=await s(r,A),O=null!=(i=null==(o=g.autoPlacement)?void 0:o.index)?i:0,L=P[O];if(null==L)return{};const{main:D,cross:k}=p(L,m,await(null==h.isRTL?void 0:h.isRTL(x.floating)));if(d!==L)return{x:f,y:u,reset:{placement:P[0]}};const E=[T[t(L)],T[D],T[k]],B=[...null!=(a=null==(l=g.autoPlacement)?void 0:l.overflows)?a:[],{placement:L,overflows:E}],C=P[O+1];if(C)return{data:{index:O+1,overflows:B},reset:{placement:C}};const H=B.slice().sort(((t,e)=>t.overflows[0]-e.overflows[0])),V=null==(c=H.find((t=>{let{overflows:e}=t;return e.every((t=>t<=0))})))?void 0:c.placement,F=null!=V?V:H[0].placement;return F!==d?{data:{index:O+1,overflows:B},reset:{placement:F}}:{}}}};const b=function(e){return void 0===e&&(e={}),{name:\"flip\",options:e,async fn(n){var r;const{placement:i,middlewareData:o,rects:a,initialPlacement:l,platform:c,elements:f}=n,{mainAxis:u=!0,crossAxis:m=!0,fallbackPlacements:g,fallbackStrategy:h=\"bestFit\",flipAlignment:x=!0,...w}=e,v=t(i),b=g||(v===l||!x?[d(l)]:function(t){const e=d(t);return[y(t),e,y(e)]}(l)),R=[l,...b],A=await s(n,w),P=[];let T=(null==(r=o.flip)?void 0:r.overflows)||[];if(u&&P.push(A[v]),m){const{main:t,cross:e}=p(i,a,await(null==c.isRTL?void 0:c.isRTL(f.floating)));P.push(A[t],A[e])}if(T=[...T,{placement:i,overflows:P}],!P.every((t=>t<=0))){var O,L;const t=(null!=(O=null==(L=o.flip)?void 0:L.index)?O:0)+1,e=R[t];if(e)return{data:{index:t,overflows:T},reset:{placement:e}};let n=\"bottom\";switch(h){case\"bestFit\":{var D;const t=null==(D=T.map((t=>[t,t.overflows.filter((t=>t>0)).reduce(((t,e)=>t+e),0)])).sort(((t,e)=>t[1]-e[1]))[0])?void 0:D[0].placement;t&&(n=t);break}case\"initialPlacement\":n=l}if(i!==n)return{reset:{placement:n}}}return{}}}};function R(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function A(t){return x.some((e=>t[e]>=0))}const P=function(t){let{strategy:e=\"referenceHidden\",...n}=void 0===t?{}:t;return{name:\"hide\",async fn(t){const{rects:r}=t;switch(e){case\"referenceHidden\":{const e=R(await s(t,{...n,elementContext:\"reference\"}),r.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:A(e)}}}case\"escaped\":{const e=R(await s(t,{...n,altBoundary:!0}),r.floating);return{data:{escapedOffsets:e,escaped:A(e)}}}default:return{}}}}};const T=function(r){return void 0===r&&(r=0),{name:\"offset\",options:r,async fn(i){const{x:o,y:a}=i,l=await async function(r,i){const{placement:o,platform:a,elements:l}=r,s=await(null==a.isRTL?void 0:a.isRTL(l.floating)),c=t(o),f=e(o),u=\"x\"===n(o),m=[\"left\",\"top\"].includes(c)?-1:1,g=s&&u?-1:1,d=\"function\"==typeof i?i(r):i;let{mainAxis:p,crossAxis:h,alignmentAxis:y}=\"number\"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return f&&\"number\"==typeof y&&(h=\"end\"===f?-1*y:y),u?{x:h*g,y:p*m}:{x:p*m,y:h*g}}(i,r);return{x:o+l.x,y:a+l.y,data:l}}}};function O(t){return\"x\"===t?\"y\":\"x\"}const L=function(e){return void 0===e&&(e={}),{name:\"shift\",options:e,async fn(r){const{x:i,y:o,placement:a}=r,{mainAxis:l=!0,crossAxis:c=!1,limiter:f={fn:t=>{let{x:e,y:n}=t;return{x:e,y:n}}},...m}=e,g={x:i,y:o},d=await s(r,m),p=n(t(a)),h=O(p);let y=g[p],x=g[h];if(l){const t=\"y\"===p?\"bottom\":\"right\";y=u(y+d[\"y\"===p?\"top\":\"left\"],y,y-d[t])}if(c){const t=\"y\"===h?\"bottom\":\"right\";x=u(x+d[\"y\"===h?\"top\":\"left\"],x,x-d[t])}const w=f.fn({...r,[p]:y,[h]:x});return{...w,data:{x:w.x-i,y:w.y-o}}}}},D=function(e){return void 0===e&&(e={}),{options:e,fn(r){const{x:i,y:o,placement:a,rects:l,middlewareData:s}=r,{offset:c=0,mainAxis:f=!0,crossAxis:u=!0}=e,m={x:i,y:o},g=n(a),d=O(g);let p=m[g],h=m[d];const y=\"function\"==typeof c?c(r):c,x=\"number\"==typeof y?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(f){const t=\"y\"===g?\"height\":\"width\",e=l.reference[g]-l.floating[t]+x.mainAxis,n=l.reference[g]+l.reference[t]-x.mainAxis;p<e?p=e:p>n&&(p=n)}if(u){var w,v,b,R;const e=\"y\"===g?\"width\":\"height\",n=[\"top\",\"left\"].includes(t(a)),r=l.reference[d]-l.floating[e]+(n&&null!=(w=null==(v=s.offset)?void 0:v[d])?w:0)+(n?0:x.crossAxis),i=l.reference[d]+l.reference[e]+(n?0:null!=(b=null==(R=s.offset)?void 0:R[d])?b:0)-(n?x.crossAxis:0);h<r?h=r:h>i&&(h=i)}return{[g]:p,[d]:h}}}},k=function(n){return void 0===n&&(n={}),{name:\"size\",options:n,async fn(r){const{placement:i,rects:o,platform:a,elements:l}=r,{apply:c=(()=>{}),...u}=n,m=await s(r,u),g=t(i),d=e(i);let p,h;\"top\"===g||\"bottom\"===g?(p=g,h=d===(await(null==a.isRTL?void 0:a.isRTL(l.floating))?\"start\":\"end\")?\"left\":\"right\"):(h=g,p=\"end\"===d?\"top\":\"bottom\");const y=f(m.left,0),x=f(m.right,0),w=f(m.top,0),v=f(m.bottom,0),b={availableHeight:o.floating.height-([\"left\",\"right\"].includes(i)?2*(0!==w||0!==v?w+v:f(m.top,m.bottom)):m[p]),availableWidth:o.floating.width-([\"top\",\"bottom\"].includes(i)?2*(0!==y||0!==x?y+x:f(m.left,m.right)):m[h])};await c({...r,...b});const R=await a.getDimensions(l.floating);return o.floating.width!==R.width||o.floating.height!==R.height?{reset:{rects:!0}}:{}}}},E=function(e){return void 0===e&&(e={}),{name:\"inline\",options:e,async fn(r){var i;const{placement:o,elements:s,rects:u,platform:m,strategy:g}=r,{padding:d=2,x:p,y:h}=e,y=l(m.convertOffsetParentRelativeRectToViewportRelativeRect?await m.convertOffsetParentRelativeRectToViewportRelativeRect({rect:u.reference,offsetParent:await(null==m.getOffsetParent?void 0:m.getOffsetParent(s.floating)),strategy:g}):u.reference),x=null!=(i=await(null==m.getClientRects?void 0:m.getClientRects(s.reference)))?i:[],w=a(d);const v=await m.getElementRects({reference:{getBoundingClientRect:function(){var e;if(2===x.length&&x[0].left>x[1].right&&null!=p&&null!=h)return null!=(e=x.find((t=>p>t.left-w.left&&p<t.right+w.right&&h>t.top-w.top&&h<t.bottom+w.bottom)))?e:y;if(x.length>=2){if(\"x\"===n(o)){const e=x[0],n=x[x.length-1],r=\"top\"===t(o),i=e.top,a=n.bottom,l=r?e.left:n.left,s=r?e.right:n.right;return{top:i,bottom:a,left:l,right:s,width:s-l,height:a-i,x:l,y:i}}const e=\"left\"===t(o),r=f(...x.map((t=>t.right))),i=c(...x.map((t=>t.left))),a=x.filter((t=>e?t.left===i:t.right===r)),l=a[0].top,s=a[a.length-1].bottom;return{top:l,bottom:s,left:i,right:r,width:r-i,height:s-l,x:i,y:l}}return y}},floating:s.floating,strategy:g});return u.reference.x!==v.reference.x||u.reference.y!==v.reference.y||u.reference.width!==v.reference.width||u.reference.height!==v.reference.height?{reset:{rects:v}}:{}}}};export{m as arrow,v as autoPlacement,o as computePosition,s as detectOverflow,b as flip,P as hide,E as inline,D as limitShift,T as offset,l as rectToClientRect,L as shift,k as size};\n","import{rectToClientRect as t,computePosition as e}from\"@floating-ui/core\";export{arrow,autoPlacement,detectOverflow,flip,hide,inline,limitShift,offset,shift,size}from\"@floating-ui/core\";function n(t){var e;return(null==(e=t.ownerDocument)?void 0:e.defaultView)||window}function o(t){return n(t).getComputedStyle(t)}function i(t){return s(t)?(t.nodeName||\"\").toLowerCase():\"\"}function r(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map((t=>t.brand+\"/\"+t.version)).join(\" \"):navigator.userAgent}function l(t){return t instanceof n(t).HTMLElement}function c(t){return t instanceof n(t).Element}function s(t){return t instanceof n(t).Node}function f(t){if(\"undefined\"==typeof ShadowRoot)return!1;return t instanceof n(t).ShadowRoot||t instanceof ShadowRoot}function u(t){const{overflow:e,overflowX:n,overflowY:i,display:r}=o(t);return/auto|scroll|overlay|hidden/.test(e+i+n)&&![\"inline\",\"contents\"].includes(r)}function a(t){return[\"table\",\"td\",\"th\"].includes(i(t))}function d(t){const e=/firefox/i.test(r()),n=o(t),i=n.backdropFilter||n.WebkitBackdropFilter;return\"none\"!==n.transform||\"none\"!==n.perspective||!!i&&\"none\"!==i||e&&\"filter\"===n.willChange||e&&!!n.filter&&\"none\"!==n.filter||[\"transform\",\"perspective\"].some((t=>n.willChange.includes(t)))||[\"paint\",\"layout\",\"strict\",\"content\"].some((t=>{const e=n.contain;return null!=e&&e.includes(t)}))}function h(){return!/^((?!chrome|android).)*safari/i.test(r())}function g(t){return[\"html\",\"body\",\"#document\"].includes(i(t))}const m=Math.min,p=Math.max,w=Math.round;function v(t,e,o){var i,r,s,f;void 0===e&&(e=!1),void 0===o&&(o=!1);const u=t.getBoundingClientRect();let a=u,d=t,g=1,m=1;!c(t)&&t.contextElement&&(a=t.contextElement.getBoundingClientRect(),d=t.contextElement),e&&l(d)&&(g=d.offsetWidth>0&&w(a.width)/d.offsetWidth||1,m=d.offsetHeight>0&&w(a.height)/d.offsetHeight||1);const p=c(t)?n(t):window,v=!h()&&o,y=(u.left+(v&&null!=(i=null==(r=p.visualViewport)?void 0:r.offsetLeft)?i:0))/g,x=(u.top+(v&&null!=(s=null==(f=p.visualViewport)?void 0:f.offsetTop)?s:0))/m,b=u.width/g,L=u.height/m;return{width:b,height:L,top:x,right:y+b,bottom:x+L,left:y,x:y,y:x}}function y(t){return((s(t)?t.ownerDocument:t.document)||window.document).documentElement}function x(t){return c(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function b(t){return v(y(t)).left+x(t).scrollLeft}function L(t,e,n){const o=l(e),r=y(e),c=v(t,o&&function(t){const e=v(t);return w(e.width)!==t.offsetWidth||w(e.height)!==t.offsetHeight}(e),\"fixed\"===n);let s={scrollLeft:0,scrollTop:0};const f={x:0,y:0};if(o||!o&&\"fixed\"!==n)if((\"body\"!==i(e)||u(r))&&(s=x(e)),l(e)){const t=v(e,!0);f.x=t.x+e.clientLeft,f.y=t.y+e.clientTop}else r&&(f.x=b(r));return{x:c.left+s.scrollLeft-f.x,y:c.top+s.scrollTop-f.y,width:c.width,height:c.height}}function E(t){if(\"html\"===i(t))return t;const e=t.assignedSlot||t.parentNode||(f(t)?t.host:null)||y(t);return f(e)?e.host:e}function R(t){return l(t)&&\"fixed\"!==o(t).position?t.offsetParent:null}function T(t){const e=n(t);let r=R(t);for(;r&&a(r)&&\"static\"===o(r).position;)r=R(r);return r&&(\"html\"===i(r)||\"body\"===i(r)&&\"static\"===o(r).position&&!d(r))?e:r||function(t){let e=E(t);for(;l(e)&&!g(e);){if(d(e))return e;e=E(e)}return null}(t)||e}function W(t){const e=E(t);return g(e)?t.ownerDocument.body:l(e)&&u(e)?e:W(e)}function H(t,e){var o;void 0===e&&(e=[]);const i=W(t),r=i===(null==(o=t.ownerDocument)?void 0:o.body),l=n(i);return r?e.concat(l,l.visualViewport||[],u(i)?i:[]):e.concat(i,H(i))}function C(e,i,r){return\"viewport\"===i?t(function(t,e){const o=n(t),i=y(t),r=o.visualViewport;let l=i.clientWidth,c=i.clientHeight,s=0,f=0;if(r){l=r.width,c=r.height;const t=h();(t||!t&&\"fixed\"===e)&&(s=r.offsetLeft,f=r.offsetTop)}return{width:l,height:c,x:s,y:f}}(e,r)):c(i)?function(t,e){const n=v(t,!1,\"fixed\"===e),o=n.top+t.clientTop,i=n.left+t.clientLeft;return{top:o,left:i,x:i,y:o,right:i+t.clientWidth,bottom:o+t.clientHeight,width:t.clientWidth,height:t.clientHeight}}(i,r):t(function(t){var e;const n=y(t),i=x(t),r=null==(e=t.ownerDocument)?void 0:e.body,l=p(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),c=p(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0);let s=-i.scrollLeft+b(t);const f=-i.scrollTop;return\"rtl\"===o(r||n).direction&&(s+=p(n.clientWidth,r?r.clientWidth:0)-l),{width:l,height:c,x:s,y:f}}(y(e)))}const D={getClippingRect:function(t){let{element:e,boundary:n,rootBoundary:r,strategy:l}=t;const s=\"clippingAncestors\"===n?function(t){let e=H(t).filter((t=>c(t)&&\"body\"!==i(t))),n=null;const r=\"fixed\"===o(t).position;let l=r?E(t):t;for(;c(l)&&!g(l);){const t=o(l),i=d(l);(r?i||n:i||\"static\"!==t.position||!n||![\"absolute\",\"fixed\"].includes(n.position))?n=t:e=e.filter((t=>t!==l)),l=E(l)}return e}(e):[].concat(n),f=[...s,r],u=f[0],a=f.reduce(((t,n)=>{const o=C(e,n,l);return t.top=p(o.top,t.top),t.right=m(o.right,t.right),t.bottom=m(o.bottom,t.bottom),t.left=p(o.left,t.left),t}),C(e,u,l));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{rect:e,offsetParent:n,strategy:o}=t;const r=l(n),c=y(n);if(n===c)return e;let s={scrollLeft:0,scrollTop:0};const f={x:0,y:0};if((r||!r&&\"fixed\"!==o)&&((\"body\"!==i(n)||u(c))&&(s=x(n)),l(n))){const t=v(n);f.x=t.x+n.clientLeft,f.y=t.y+n.clientTop}return{...e,x:e.x-s.scrollLeft+f.x,y:e.y-s.scrollTop+f.y}},isElement:c,getDimensions:function(t){if(l(t))return{width:t.offsetWidth,height:t.offsetHeight};const e=v(t);return{width:e.width,height:e.height}},getOffsetParent:T,getDocumentElement:y,async getElementRects(t){let{reference:e,floating:n,strategy:o}=t;const i=this.getOffsetParent||T,r=this.getDimensions;return{reference:L(e,await i(n),o),floating:{x:0,y:0,...await r(n)}}},getClientRects:t=>Array.from(t.getClientRects()),isRTL:t=>\"rtl\"===o(t).direction};function A(t,e,n,o){void 0===o&&(o={});const{ancestorScroll:i=!0,ancestorResize:r=!0,elementResize:l=!0,animationFrame:s=!1}=o,f=i&&!s,u=f||r?[...c(t)?H(t):t.contextElement?H(t.contextElement):[],...H(e)]:[];u.forEach((t=>{f&&t.addEventListener(\"scroll\",n,{passive:!0}),r&&t.addEventListener(\"resize\",n)}));let a,d=null;if(l){let o=!0;d=new ResizeObserver((()=>{o||n(),o=!1})),c(t)&&!s&&d.observe(t),c(t)||!t.contextElement||s||d.observe(t.contextElement),d.observe(e)}let h=s?v(t):null;return s&&function e(){const o=v(t);!h||o.x===h.x&&o.y===h.y&&o.width===h.width&&o.height===h.height||n();h=o,a=requestAnimationFrame(e)}(),n(),()=>{var t;u.forEach((t=>{f&&t.removeEventListener(\"scroll\",n),r&&t.removeEventListener(\"resize\",n)})),null==(t=d)||t.disconnect(),d=null,s&&cancelAnimationFrame(a)}}const O=(t,n,o)=>e(t,n,{platform:D,...o});export{A as autoUpdate,O as computePosition,H as getOverflowAncestors,D as platform};\n","\"use strict\";var A=Object.defineProperty;var R=Object.getOwnPropertyDescriptor;var p=(s,a,t,e)=>{for(var i=e>1?void 0:e?R(a,t):a,o=s.length-1,n;o>=0;o--)(n=s[o])&&(i=(e?n(a,t,i):n(i))||i);return e&&i&&A(a,t,i),i};import{html as b,SpectrumElement as x}from\"@spectrum-web-components/base\";import{ifDefined as h}from\"@spectrum-web-components/base/src/directives.js\";import{property as c}from\"@spectrum-web-components/base/src/decorators.js\";import{reparentChildren as S}from\"@spectrum-web-components/shared/src/reparent-children.js\";import{firstFocusableIn as H}from\"@spectrum-web-components/shared/src/first-focusable-in.js\";import F from\"./active-overlay.css.js\";import{parentOverlayOf as y}from\"./overlay-utils.js\";import{arrow as I,autoUpdate as L,computePosition as M,flip as C,offset as D,shift as _,size as k}from\"@floating-ui/dom\";const P={initial:\"idle\",states:{idle:{on:{active:\"active\"}},active:{on:{hiding:\"hiding\",idle:\"idle\"}},hiding:{on:{dispose:\"dispose\"}},dispose:{on:{disposed:\"disposed\"}},disposed:{on:{}}}},T=(s,a)=>s?a&&P.states[s].on[a]||s:P.initial,U=s=>{var t;return(t={left:[\"right\",\"bottom\",\"top\"],\"left-start\":[\"right-start\",\"bottom\",\"top\"],\"left-end\":[\"right-end\",\"bottom\",\"top\"],right:[\"left\",\"bottom\",\"top\"],\"right-start\":[\"left-start\",\"bottom\",\"top\"],\"right-end\":[\"left-end\",\"bottom\",\"top\"],top:[\"bottom\",\"left\",\"right\"],\"top-start\":[\"bottom-start\",\"left\",\"right\"],\"top-end\":[\"bottom-end\",\"left\",\"right\"],bottom:[\"top\",\"left\",\"right\"],\"bottom-start\":[\"top-start\",\"left\",\"right\"],\"bottom-end\":[\"top-end\",\"left\",\"right\"]}[s])!=null?t:[s]},d=class extends x{constructor(){super();this.contentAnimationPromise=Promise.resolve(!0);this.resolveContentAnimationPromise=()=>{};this._state=T();this.animating=!1;this.theme={};this.tabbingAway=!1;this.offset=6;this.skidding=0;this.interaction=\"hover\";this.positionAnimationFrame=0;this.willNotifyClosed=!1;this.isConstrained=!1;this.updateOverlayPosition=()=>{if(this.interaction!==\"modal\"&&this.cleanup){this.dispatchEvent(new Event(\"close\"));return}this.setOverlayPosition()};this.setOverlayPosition=async()=>{if(!this.placement||this.placement===\"none\")return;await(document.fonts?document.fonts.ready:Promise.resolve());function t(l){const r=window.devicePixelRatio||1;return Math.round(l*r)/r||-1e4}const e=8,i=100,o=this.virtualTrigger?C({padding:e,fallbackPlacements:U(this.placement)}):C({padding:e}),n=[D({mainAxis:this.offset,crossAxis:this.skidding}),_({padding:e}),o,k({padding:e,apply:({availableWidth:l,availableHeight:r,rects:{floating:E}})=>{const f=Math.max(i,Math.floor(r)),m=E.height;this.initialHeight=!this.isConstrained&&!this.virtualTrigger?m:this.initialHeight||m,this.isConstrained=m<this.initialHeight||f<=m;const g=this.isConstrained?`${f}px`:\"\";Object.assign(this.style,{maxWidth:`${Math.floor(l)}px`,maxHeight:g,height:g})}})];this.overlayContentTip&&n.push(I({element:this.overlayContentTip}));const{x:O,y:w,placement:u,middlewareData:v}=await M(this.virtualTrigger||this.trigger,this,{placement:this.placement,middleware:n,strategy:\"fixed\"});if(Object.assign(this.style,{top:\"0px\",left:\"0px\",transform:`translate(${t(O)}px, ${t(w)}px)`}),u!==this.getAttribute(\"actual-placement\")&&(this.setAttribute(\"actual-placement\",u),this.overlayContent.setAttribute(\"placement\",u)),this.overlayContentTip&&v.arrow){const{x:l,y:r}=v.arrow;Object.assign(this.overlayContentTip.style,{left:l!=null?`${t(l)}px`:\"\",top:r!=null?`${t(r)}px`:\"\",right:\"\",bottom:\"\"})}};this.handleInlineTriggerKeydown=t=>{const{code:e,shiftKey:i}=t;if(e===\"Tab\"){if(i){this.tabbingAway=!0,this.dispatchEvent(new Event(\"close\"));return}t.stopPropagation(),t.preventDefault(),this.focus()}};this.stealOverlayContentPromise=Promise.resolve();this.stealOverlayContentPromise=new Promise(t=>this.stealOverlayContentResolver=t)}get state(){return this._state}set state(t){const e=T(this.state,t);e!==this.state&&(this._state=e,this.state===\"active\"||this.state===\"hiding\"?this.setAttribute(\"state\",this.state):this.removeAttribute(\"state\"))}async focus(){const t=H(this);if(t){t.updateComplete&&await t.updateComplete;const e=this.getRootNode().activeElement;(e===this||!this.contains(e))&&t.focus()}else super.focus();this.removeAttribute(\"tabindex\")}get hasTheme(){return!!this.theme.color||!!this.theme.scale||!!this.theme.lang}static get styles(){return[F]}get hasModalRoot(){return!!this._modalRoot}feature(){this.contains(document.activeElement)||(this.tabIndex=-1);const t=y(this.trigger);t&&t.slot===\"open\"&&(this._modalRoot=t._modalRoot||t),(this.interaction===\"modal\"||this._modalRoot)&&(this.slot=\"open\",this.interaction===\"modal\"&&this.setAttribute(\"aria-modal\",\"true\"),this._modalRoot&&(t==null||t.feature()))}obscure(t){if(this.slot&&t===\"modal\"){if(this.removeAttribute(\"slot\"),this.removeAttribute(\"aria-modal\"),this.interaction!==\"modal\"){const e=y(this.trigger);return this._modalRoot=e==null?void 0:e.obscure(t),this._modalRoot}return this}}async willUpdate(){this.hasUpdated||!this.overlayContent||!this.trigger||(this.stealOverlayContent(this.overlayContent),this.state=\"active\",this.feature(),this.placement&&this.placement!==\"none\"&&(await this.updateOverlayPosition(),document.addEventListener(\"sp-update-overlays\",this.setOverlayPosition)),this.placement&&this.placement!==\"none\"&&(this.contentAnimationPromise=this.applyContentAnimation(\"sp-overlay-fade-in\")))}async openCallback(t){await this.updateComplete,this.receivesFocus&&await this.focus(),await t(),this.trigger.dispatchEvent(new CustomEvent(\"sp-opened\",{bubbles:!0,composed:!0,cancelable:!0,detail:{interaction:this.interaction}}))}open(t){this.extractDetail(t)}extractDetail(t){this.overlayContent=t.content,this.overlayContentTip=t.contentTip,this.trigger=t.trigger,this.virtualTrigger=t.virtualTrigger,this.placement=t.placement,this.offset=t.offset,this.skidding=t.skidding||0,this.interaction=t.interaction,this.theme=t.theme,this.receivesFocus=t.receivesFocus,this.root=t.root}dispose(){this.state===\"dispose\"&&(this.timeout&&(clearTimeout(this.timeout),delete this.timeout),this.trigger.removeEventListener(\"keydown\",this.handleInlineTriggerKeydown),this.returnOverlayContent(),this.state=\"disposed\",this.willNotifyClosed&&(this.overlayContent.dispatchEvent(new Event(\"sp-overlay-closed\")),this.willNotifyClosed=!1),this.cleanup&&this.cleanup())}stealOverlayContent(t){this.originalPlacement=t.getAttribute(\"placement\"),this.restoreContent=S([t],this,{position:\"beforeend\",prepareCallback:e=>{const i=e.slot,o=e.placement;return e.removeAttribute(\"slot\"),n=>{n.slot=i,n.placement=o}}}),this.stealOverlayContentResolver()}returnOverlayContent(){if(!this.restoreContent)return;const[t]=this.restoreContent();this.restoreContent=void 0,this.willNotifyClosed=!0,this.originalPlacement&&(t.setAttribute(\"placement\",this.originalPlacement),delete this.originalPlacement)}async placeOverlay(){!this.placement||this.placement===\"none\"||(this.cleanup=L(this.virtualTrigger||this.trigger,this,this.updateOverlayPosition,{elementResize:!1}))}async hide(t=!0){this.state===\"active\"&&(this.state=\"hiding\",t&&await this.applyContentAnimation(\"sp-overlay-fade-out\"),this.state=\"dispose\")}schedulePositionUpdate(){cancelAnimationFrame(this.positionAnimationFrame),this.positionAnimationFrame=requestAnimationFrame(()=>{this.cleanup?this.updateOverlayPosition():this.placeOverlay()})}onSlotChange(){this.schedulePositionUpdate()}applyContentAnimation(t){return this.placement===\"none\"?Promise.resolve(!0):(this.resolveContentAnimationPromise(),new Promise(e=>{this.resolveContentAnimationPromise=()=>{e(!1)};const i=this.shadowRoot.querySelector(\"#contents\"),o=n=>{t===n.animationName&&(i.removeEventListener(\"animationend\",o),i.removeEventListener(\"animationcancel\",o),this.animating=!1,e(n.type===\"animationcancel\"))};i.addEventListener(\"animationend\",o),i.addEventListener(\"animationcancel\",o),i.style.animationName=t,this.animating=!0}))}renderTheme(t){const{color:e,scale:i,lang:o,theme:n}=this.theme;return b`\n            <sp-theme\n                theme=${h(n)}\n                color=${h(e)}\n                scale=${h(i)}\n                lang=${h(o)}\n                part=\"theme\"\n            >\n                ${t}\n            </sp-theme>\n        `}render(){const t=b`\n            <div id=\"contents\">\n                <slot @slotchange=${this.onSlotChange}></slot>\n            </div>\n        `;return this.hasTheme?this.renderTheme(t):t}static create(t){const e=new d;return t.content&&e.open(t),e}async getUpdateComplete(){const t=[super.getUpdateComplete(),this.stealOverlayContentPromise];t.push(this.contentAnimationPromise),typeof this.overlayContent.updateComplete!=\"undefined\"&&t.push(this.overlayContent.updateComplete);const[e]=await Promise.all(t);return e}disconnectedCallback(){document.removeEventListener(\"sp-update-overlays\",this.setOverlayPosition),super.disconnectedCallback()}};export let ActiveOverlay=d;p([c()],ActiveOverlay.prototype,\"_state\",2),p([c({reflect:!0,type:Boolean})],ActiveOverlay.prototype,\"animating\",2),p([c({reflect:!0})],ActiveOverlay.prototype,\"placement\",2),p([c({attribute:!1})],ActiveOverlay.prototype,\"theme\",2),p([c({attribute:!1})],ActiveOverlay.prototype,\"receivesFocus\",2);\n//# sourceMappingURL=ActiveOverlay.js.map\n","\"use strict\";const t=1e3,s=1e3;export class OverlayTimer{constructor(e={}){this.warmUpDelay=1e3;this.coolDownDelay=1e3;this.isWarm=!1;this.timeout=0;Object.assign(this,e)}async openTimer(e){if(this.cancelCooldownTimer(),!this.component||e!==this.component)return this.component&&(this.close(this.component),this.cancelCooldownTimer()),this.component=e,this.isWarm?!1:(this.promise=new Promise(o=>{this.resolve=o,this.timeout=window.setTimeout(()=>{this.resolve&&(this.resolve(!1),this.isWarm=!0)},this.warmUpDelay)}),this.promise);if(this.promise)return this.promise;throw new Error(\"Inconsistent state\")}close(e){this.component&&this.component===e&&(this.resetCooldownTimer(),this.timeout>0&&(clearTimeout(this.timeout),this.timeout=0),this.resolve&&(this.resolve(!0),delete this.resolve),delete this.promise,delete this.component)}resetCooldownTimer(){this.isWarm&&(this.cooldownTimeout&&window.clearTimeout(this.cooldownTimeout),this.cooldownTimeout=window.setTimeout(()=>{this.isWarm=!1,delete this.cooldownTimeout},this.coolDownDelay))}cancelCooldownTimer(){this.cooldownTimeout&&window.clearTimeout(this.cooldownTimeout),delete this.cooldownTimeout}}\n//# sourceMappingURL=overlay-timer.js.map\n","\"use strict\";import{ActiveOverlay as e}from\"./src/ActiveOverlay.js\";customElements.define(\"active-overlay\",e);\n//# sourceMappingURL=active-overlay.js.map\n","\"use strict\";import{ActiveOverlay as g}from\"./ActiveOverlay.js\";import{OverlayTimer as f}from\"./overlay-timer.js\";import\"../active-overlay.js\";import{findOverlaysRootedInOverlay as p,parentOverlayOf as v}from\"./overlay-utils.js\";import{getDeepElementFromPoint as b}from\"@spectrum-web-components/shared/src/get-deep-element-from-point.js\";function C(s){return s.button===0}function O(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function h(){return new Promise(s=>requestAnimationFrame(()=>s()))}export class OverlayStack{constructor(){this.overlays=[];this.preventMouseRootClose=!1;this.root=document.body;this.handlingResize=!1;this.overlayTimer=new f;this.canTabTrap=!0;this.trappingInited=!1;this._eventsAreBound=!1;this._bodyMarginsApplied=!1;this.forwardContextmenuEvent=async e=>{var o;const t=this.overlays[this.overlays.length-1];!this.trappingInited||t.interaction!==\"modal\"||e.target!==this.overlayHolder||(e.stopPropagation(),e.preventDefault(),await this.closeTopOverlay(),(o=b(e.clientX,e.clientY))==null||o.dispatchEvent(new MouseEvent(\"contextmenu\",e)))};this.handleOverlayClose=e=>{const{root:t}=e;!t||this.closeOverlaysForRoot(t)};this.handleMouseCapture=e=>{const t=this.topOverlay;if(!e.target||!t||!t.overlayContent||O(e)||!C(e)){this.preventMouseRootClose=!0;return}if(e.target instanceof Node){if(e.composedPath().indexOf(t.overlayContent)>=0){this.preventMouseRootClose=!0;return}this.preventMouseRootClose=!1}};this._doesNotCloseOnFirstClick=!1;this.handleMouse=e=>{var i;if(this._doesNotCloseOnFirstClick){this._doesNotCloseOnFirstClick=!1;return}if(this.preventMouseRootClose||e.defaultPrevented)return;const t=[];let o=this.overlays.length;for(;o&&t.length===0;){o-=1;const a=this.overlays[o],l=e.composedPath();(!l.includes(a.trigger)||a.interaction!==\"hover\")&&!l.includes(a.overlayContent)&&t.push(a)}let r=(i=this.topOverlay)==null?void 0:i.root,n=v(r);for(;r&&n;)t.push(n),n=v(r),r=n==null?void 0:n.root;n&&t.push(n),t.forEach(a=>this.hideAndCloseOverlay(a))};this.handleKeydown=e=>{e.code===\"Escape\"&&this.closeTopOverlay()};this.handleResize=()=>{this.handlingResize||(this.handlingResize=!0,requestAnimationFrame(async()=>{const e=this.overlays.map(t=>t.updateOverlayPosition());await Promise.all(e),this.handlingResize=!1}))};this.initTabTrapping()}initTabTrapping(){if(document.readyState===\"loading\"){document.addEventListener(\"readystatechange\",()=>{this.initTabTrapping()},{once:!0});return}if(this.trappingInited)return;if(this.trappingInited=!0,this.document.body.shadowRoot){this.canTabTrap=!1;return}if(this.document.body.attachShadow({mode:\"open\"}),!this.document.body.shadowRoot)return;const e=this.document.body.shadowRoot;e.innerHTML=`\n            <style>\n            :host {\n                position: relative;\n            }\n            #actual {\n                position: relative;\n                height: calc(100% - var(--swc-body-margins-block, 0px));\n                z-index: 0;\n                min-height: calc(100vh - var(--swc-body-margins-block, 0px));\n            }\n            #holder {\n                display: none;\n                align-items: center;\n                justify-content: center;\n                flex-flow: column;\n                width: 100%;\n                height: 100%;\n                position: absolute;\n                top: 0;\n                left: 0;\n            }\n            [name=\"open\"]::slotted(*) {\n                pointer-events: all;\n            }\n            #actual[aria-hidden] + #holder {\n                display: flex;\n            }\n            </style>\n            <div id=\"actual\"><slot></slot></div>\n            <div id=\"holder\"><slot name=\"open\"></slot></div>\n        `,this.tabTrapper=e.querySelector(\"#actual\"),this.overlayHolder=e.querySelector(\"#holder\"),this.tabTrapper.attachShadow({mode:\"open\"}),this.tabTrapper.shadowRoot&&(this.tabTrapper.shadowRoot.innerHTML=\"<slot></slot>\"),this.overlayHolder.addEventListener(\"contextmenu\",this.forwardContextmenuEvent,!0),requestAnimationFrame(()=>{this.applyBodyMargins(),new ResizeObserver(()=>{this.applyBodyMargins()}).observe(document.body)})}applyBodyMargins(){const{marginLeft:e,marginRight:t,marginTop:o,marginBottom:r}=getComputedStyle(document.body),n=parseFloat(e)===0&&parseFloat(t)===0&&parseFloat(o)===0&&parseFloat(r)===0;n&&!this._bodyMarginsApplied||(this.tabTrapper.style.setProperty(\"--swc-body-margins-inline\",`calc(${e} + ${t})`),this.tabTrapper.style.setProperty(\"--swc-body-margins-block\",`calc(${o} + ${r})`),this._bodyMarginsApplied=!n)}startTabTrapping(){this.initTabTrapping(),this.canTabTrap&&(this.tabTrapper.tabIndex=-1,this.tabTrapper.setAttribute(\"aria-hidden\",\"true\"))}stopTabTrapping(){!this.canTabTrap||!this.trappingInited||(this.tabTrapper.removeAttribute(\"tabindex\"),this.tabTrapper.removeAttribute(\"aria-hidden\"))}get document(){return this.root.ownerDocument||document}get topOverlay(){return this.overlays.slice(-1)[0]}findOverlayForContent(e){for(const t of this.overlays)if(e===t.overlayContent)return t}addEventListeners(){this._eventsAreBound||(this._eventsAreBound=!0,this.document.addEventListener(\"click\",this.handleMouseCapture,!0),this.document.addEventListener(\"click\",this.handleMouse),this.document.addEventListener(\"keydown\",this.handleKeydown),this.document.addEventListener(\"sp-overlay-close\",this.handleOverlayClose),window.addEventListener(\"resize\",this.handleResize))}isClickOverlayActiveForTrigger(e){return this.overlays.some(t=>e===t.trigger&&t.interaction===\"click\")}async openOverlay(e){if(this.addEventListeners(),this.findOverlayForContent(e.content))return!1;e.notImmediatelyClosable&&(this._doesNotCloseOnFirstClick=!0),e.interaction===\"modal\"&&this.startTabTrapping();const t=e.content,{trigger:o}=e;if(t.overlayWillOpenCallback&&t.overlayWillOpenCallback({trigger:o}),e.delayed){const a=[this.overlayTimer.openTimer(e.content)];e.abortPromise&&a.push(e.abortPromise);const l=await Promise.race(a);if(l)return t.overlayOpenCancelledCallback&&t.overlayOpenCancelledCallback({trigger:o}),l}if(e.root&&this.closeOverlaysForRoot(e.root),e.interaction===\"click\")this.closeAllHoverOverlays();else if(e.interaction===\"hover\"&&this.isClickOverlayActiveForTrigger(e.trigger))return!0;const r=g.create(e);this.overlays.length&&this.overlays[this.overlays.length-1].obscure(r.interaction),document.body.appendChild(r),await h(),this.overlays.push(r),await r.updateComplete,this.addOverlayEventListeners(r),typeof t.open!=\"undefined\"&&(await h(),t.open=!0);let n=()=>{};if(t.overlayOpenCallback){const{trigger:i}=r,{overlayOpenCallback:a}=t;n=async()=>await a({trigger:i})}return await r.openCallback(n),!1}addOverlayEventListeners(e){switch(e.addEventListener(\"close\",()=>{this.hideAndCloseOverlay(e,!0)}),e.interaction){case\"replace\":this.addReplaceOverlayEventListeners(e);break;case\"inline\":this.addInlineOverlayEventListeners(e);break}}addReplaceOverlayEventListeners(e){e.addEventListener(\"keydown\",t=>{const{code:o}=t;o===\"Tab\"&&(t.stopPropagation(),this.closeOverlay(e.overlayContent),e.tabbingAway=!0,e.trigger.focus(),e.trigger.dispatchEvent(new KeyboardEvent(\"keydown\",t)))})}addInlineOverlayEventListeners(e){e.trigger.addEventListener(\"keydown\",e.handleInlineTriggerKeydown),e.addEventListener(\"keydown\",t=>{const{code:o,shiftKey:r}=t;if(o!==\"Tab\")return;if(e.tabbingAway=!0,r){const i=document.createElement(\"span\");i.tabIndex=-1,e.trigger.hasAttribute(\"slot\")&&(i.slot=e.trigger.slot),e.trigger.insertAdjacentElement(\"afterend\",i),i.focus(),i.remove();return}t.stopPropagation();const n=e.trigger;typeof n.open!=\"undefined\"&&(n.open=!1),this.closeOverlay(e.overlayContent),e.trigger.focus()})}closeOverlay(e){this.overlayTimer.close(e),requestAnimationFrame(()=>{const t=this.findOverlayForContent(e),o=[t];o.push(...p(t,this.overlays)),o.forEach(r=>this.hideAndCloseOverlay(r))})}closeAllHoverOverlays(){for(const e of this.overlays)e.interaction===\"hover\"&&this.hideAndCloseOverlay(e,!1)}closeOverlaysForRoot(e){const t=[];for(const o of this.overlays)o.root&&o.root===e&&(t.push(o),t.push(...p(o,this.overlays)));t.forEach(o=>this.hideAndCloseOverlay(o,!0,!0))}async manageFocusAfterCloseWhenOverlaysRemain(e,t){const o=this.overlays[this.overlays.length-1];if(o.feature(),o.interaction===\"modal\"||o.hasModalRoot){if(e)return;await(t||o).focus()}else this.stopTabTrapping()}manageFocusAfterCloseWhenLastOverlay(e){this.stopTabTrapping();const t=e.interaction===\"modal\",o=e.receivesFocus===\"auto\",r=e.interaction===\"replace\",n=e.interaction===\"inline\",i=(r||n)&&!e.tabbingAway;if(e.tabbingAway=!1,!t&&!o&&!i)return;const l=e.overlayContent.getRootNode().activeElement;let d,c;const u=()=>e.overlayContent.contains(l),y=()=>(d=e.trigger.getRootNode(),c=d.activeElement,d.contains(c)),m=()=>d.host&&d.host===c;(t||u()||y()||m())&&e.trigger.focus()}async hideAndCloseOverlay(e,t,o){if(!e)return;const r=e.overlayContent;if(typeof r.overlayWillCloseCallback!=\"undefined\"){const{trigger:i}=e;if(r.overlayWillCloseCallback({trigger:i}))return}if(await e.hide(t),typeof r.open!=\"undefined\"&&(r.open=!1),r.overlayCloseCallback){const{trigger:i}=e;await r.overlayCloseCallback({trigger:i})}if(e.state!=\"dispose\")return;const n=this.overlays.indexOf(e);n>=0&&this.overlays.splice(n,1),this.overlays.length?await this.manageFocusAfterCloseWhenOverlaysRemain(o||e.interaction===\"hover\",e.trigger):this.manageFocusAfterCloseWhenLastOverlay(e),await e.updateComplete,e.remove(),e.dispose(),e.trigger.dispatchEvent(new CustomEvent(\"sp-closed\",{bubbles:!0,composed:!0,cancelable:!0,detail:{interaction:e.interaction}}))}closeTopOverlay(){return this.hideAndCloseOverlay(this.topOverlay,!0)}}\n//# sourceMappingURL=overlay-stack.js.map\n","\"use strict\";import{OverlayStack as m}from\"./overlay-stack.js\";const r=class{constructor(e,t,n){this.isOpen=!1;this.owner=e,this.overlayElement=n,this.interaction=t}static async open(e,t,n,i){const a=new r(e,t,n);return await a.open(i),()=>{a.close()}}static update(){const e=new CustomEvent(\"sp-update-overlays\",{bubbles:!0,composed:!0,cancelable:!0});document.dispatchEvent(e)}async open({abortPromise:e,delayed:t,offset:n=0,placement:i=\"top\",receivesFocus:a,notImmediatelyClosable:s,virtualTrigger:c,root:p}){if(this.isOpen)return!0;t===void 0&&(t=this.overlayElement.hasAttribute(\"delayed\"));const l={color:void 0,scale:void 0,lang:void 0,theme:void 0},u=new CustomEvent(\"sp-query-theme\",{bubbles:!0,composed:!0,detail:l,cancelable:!0});this.owner.dispatchEvent(u);const o={},v=new CustomEvent(\"sp-overlay-query\",{bubbles:!0,composed:!0,detail:o,cancelable:!0});return this.overlayElement.dispatchEvent(v),await r.overlayStack.openOverlay({abortPromise:e,content:this.overlayElement,contentTip:o.overlayContentTipElement,delayed:t,offset:n,placement:i,trigger:this.owner,interaction:this.interaction,theme:l,receivesFocus:a,root:p,notImmediatelyClosable:s,virtualTrigger:c,...o}),this.isOpen=!0,!0}close(){r.overlayStack.closeOverlay(this.overlayElement)}};export let Overlay=r;Overlay.overlayStack=new m;\n//# sourceMappingURL=overlay.js.map\n","\"use strict\";export const getDeepElementFromPoint=(o,t)=>{let e=document.elementFromPoint(o,t);for(;e!=null&&e.shadowRoot;){const n=e.shadowRoot.elementFromPoint(o,t);if(!n||n===e)break;e=n}return e};\n//# sourceMappingURL=get-deep-element-from-point.js.map\n"],"names":["css","parentOverlayOf","el","closest","closestOverlay","rootNode","getRootNode","host","findOverlaysRootedInOverlay","rootOverlay","activeOverlays","overlay","o","root","overlays","push","t","split","e","n","includes","r","i","a","reference","l","floating","s","c","x","width","f","y","height","u","m","g","d","p","top","right","bottom","left","platform","rects","elements","strategy","boundary","rootBoundary","elementContext","altBoundary","padding","h","getClippingRect","element","isElement","contextElement","getDocumentElement","w","v","convertOffsetParentRelativeRectToViewportRelativeRect","rect","offsetParent","getOffsetParent","Math","min","max","name","options","async","placement","getDimensions","b","R","A","P","T","clientHeight","clientWidth","O","L","D","k","E","B","data","centerOffset","replace","main","cross","start","end","reduce","concat","middlewareData","initialPlacement","mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","flipAlignment","flip","overflows","isRTL","every","index","reset","map","filter","sort","alignmentAxis","limiter","fn","apply","availableHeight","availableWidth","ownerDocument","defaultView","window","getComputedStyle","nodeName","toLowerCase","navigator","userAgentData","Array","isArray","brands","brand","version","join","userAgent","HTMLElement","Element","Node","ShadowRoot","overflow","overflowX","overflowY","display","test","backdropFilter","WebkitBackdropFilter","transform","perspective","willChange","some","contain","round","getBoundingClientRect","offsetWidth","offsetHeight","visualViewport","offsetLeft","offsetTop","document","documentElement","scrollLeft","scrollTop","pageXOffset","pageYOffset","clientLeft","clientTop","assignedSlot","parentNode","position","W","body","H","C","scrollWidth","scrollHeight","direction","this","getClientRects","from","middleware","Boolean","getElementRects","length","initial","states","idle","on","active","hiding","dispose","disposed","stateTransition","state","event","stateMachine","getFallbackPlacements","_a","_ActiveOverlay","SpectrumElement","constructor","super","contentAnimationPromise","Promise","resolve","resolveContentAnimationPromise","_state","animating","theme","tabbingAway","offset","skidding","interaction","positionAnimationFrame","willNotifyClosed","isConstrained","updateOverlayPosition","cleanup","dispatchEvent","Event","setOverlayPosition","num","devicePixelRatio","dpr","fonts","ready","flipMiddleware","virtualTrigger","shift","size","maxHeight","floor","actualHeight","initialHeight","appliedHeight","Object","assign","style","maxWidth","overlayContentTip","arrow","trigger","roundByDPR","getAttribute","setAttribute","overlayContent","arrowX","arrowY","handleInlineTriggerKeydown","code","shiftKey","stopPropagation","preventDefault","focus","stealOverlayContentPromise","res","stealOverlayContentResolver","nextState","removeAttribute","firstFocusable","firstFocusableIn","updateComplete","activeElement","contains","hasTheme","color","scale","lang","styles","_modalRoot","feature","tabIndex","parentOverlay","slot","nextOverlayInteraction","obscure","hasUpdated","stealOverlayContent","addEventListener","applyContentAnimation","lifecycleCallback","receivesFocus","CustomEvent","bubbles","composed","cancelable","detail","openDetail","extractDetail","content","contentTip","timeout","clearTimeout","removeEventListener","returnOverlayContent","originalPlacement","restoreContent","reparentChildren","prepareCallback","slotName","ancestorScroll","ancestorResize","elementResize","animationFrame","forEach","passive","ResizeObserver","observe","requestAnimationFrame","disconnect","cancelAnimationFrame","autoUpdate","animated","schedulePositionUpdate","placeOverlay","onSlotChange","animation","contents","shadowRoot","querySelector","doneHandler","animationName","type","renderTheme","html","ifDefined","render","static","details","open","getUpdateComplete","actions","complete","all","disconnectedCallback","__decorateClass","property","ActiveOverlay","prototype","reflect","attribute","OverlayTimer","warmUpDelay","coolDownDelay","isWarm","component","cancelCooldownTimer","close","promise","setTimeout","Error","resetCooldownTimer","cooldownTimeout","customElements","define","owner","overlayElement","isOpen","overlayUpdateEvent","abortPromise","delayed","notImmediatelyClosable","hasAttribute","queryThemeDetail","queryThemeEvent","overlayDetailQuery","queryOverlayDetailEvent","overlayStack","openOverlay","overlayContentTipElement","_Overlay","closeOverlay","Overlay","OverlayStack","preventMouseRootClose","handlingResize","overlayTimer","canTabTrap","trappingInited","_eventsAreBound","_bodyMarginsApplied","forwardContextmenuEvent","topOverlay","target","overlayHolder","closeTopOverlay","elementFromPoint","innerTarget","clientX","clientY","MouseEvent","handleOverlayClose","closeOverlaysForRoot","handleMouseCapture","hasModifier","metaKey","altKey","ctrlKey","button","isLeftClick","composedPath","indexOf","_doesNotCloseOnFirstClick","handleMouse","defaultPrevented","overlaysToClose","path","hideAndCloseOverlay","handleKeydown","handleResize","promises","initTabTrapping","readyState","once","attachShadow","mode","innerHTML","tabTrapper","applyBodyMargins","marginLeft","marginRight","marginTop","marginBottom","allZero","parseFloat","setProperty","stopTabTrapping","slice","item","addEventListeners","findOverlayForContent","startTabTrapping","contentWithLifecycle","overlayWillOpenCallback","openTimer","cancelled","race","overlayOpenCancelledCallback","closeAllHoverOverlays","isClickOverlayActiveForTrigger","create","activeOverlay","appendChild","addOverlayEventListeners","overlayOpenCallback","cb","openCallback","addReplaceOverlayEventListeners","addInlineOverlayEventListeners","returnFocusElement","createElement","insertAdjacentElement","remove","triggerWithLifecycle","overlayFromContent","returnBeforeFocus","previousTrigger","hasModalRoot","isReceivesFocus","isReplace","isInline","isTabbingAwayFromInlineOrReplace","isModal","triggerRoot","triggerActiveElement","overlayContentActiveElement","overlayWillCloseCallback","hide","overlayCloseCallback","splice","manageFocusAfterCloseWhenOverlaysRemain","manageFocusAfterCloseWhenLastOverlay"],"mappings":"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"}