{"version":3,"file":"58f9fee8.js","sources":["../../../packages/iconset/stories/icons-demo.js"],"sourcesContent":["import { __decorate } from \"tslib\";\nimport { css, html, SpectrumElement, } from '@spectrum-web-components/base';\nimport { customElement, property, } from '@spectrum-web-components/base/src/decorators.js';\nimport { ifDefined } from '@spectrum-web-components/base/src/directives.js';\nimport '@spectrum-web-components/search/sp-search.js';\nimport '@spectrum-web-components/field-label/sp-field-label.js';\nimport bodyStyles from '@spectrum-web-components/styles/body.js';\nimport '@spectrum-web-components/icon/sp-icon.js';\nimport '@spectrum-web-components/help-text/sp-help-text.js';\nlet DelayedReady = class DelayedReady extends SpectrumElement {\n    render() {\n        return html `\n            <slot @slotchange=${this.handleSlotchange}></slot>\n        `;\n    }\n    firstUpdated() {\n        this._delayedReady = new Promise((res) => (this._resolveDelayedReady = res));\n    }\n    async getUpdateComplete() {\n        const complete = (await super.getUpdateComplete());\n        await this._delayedReady;\n        return complete;\n    }\n    handleSlotchange({ target, }) {\n        if (target.assignedElements({ flatten: true }).length) {\n            requestAnimationFrame(() => {\n                this._resolveDelayedReady();\n            });\n        }\n    }\n};\nDelayedReady = __decorate([\n    customElement('delayed-ready')\n], DelayedReady);\nexport { DelayedReady };\nlet IconsDemo = class IconsDemo extends SpectrumElement {\n    constructor() {\n        super();\n        this.name = 'ui';\n        this.package = '';\n        this.size = 'm';\n        this.search = '';\n        this.icons = [];\n        this.iconset = [];\n        this.iconset = [];\n        this.handleIconSetAdded = this.handleIconSetAdded.bind(this);\n    }\n    connectedCallback() {\n        super.connectedCallback();\n        window.addEventListener('sp-iconset-added', this.handleIconSetAdded);\n    }\n    disconnectedCallback() {\n        window.removeEventListener('sp-iconset-added', this.handleIconSetAdded);\n        super.disconnectedCallback();\n    }\n    handleIconSetAdded(event) {\n        const { iconset } = event.detail;\n        this.iconset = iconset.getIconList();\n        this.requestUpdate();\n    }\n    static get styles() {\n        return [\n            ...bodyStyles,\n            css `\n                :host {\n                    display: grid;\n                    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));\n                    gap: 20px;\n                    align-items: flex-start;\n                }\n                .icon {\n                    display: flex;\n                    flex-direction: column;\n                    align-items: center;\n                    text-align: center;\n                    border-radius: var(\n                        --spectrum-alias-focus-ring-gap,\n                        var(--spectrum-global-dimension-static-size-25)\n                    );\n                }\n                :host([package]) .icon {\n                    cursor: pointer;\n                }\n                sp-icon {\n                    margin-bottom: 10px;\n                }\n                .search {\n                    grid-column-start: 1;\n                    grid-column-end: -1;\n                }\n                .icon[tabindex]:focus {\n                    outline: none;\n                }\n                .icon[tabindex]:focus-visible {\n                    outline: var(--spectrum-alias-focus-ring-size) solid\n                        var(--spectrum-alias-focus-ring-color);\n                    outline-offset: calc(\n                        var(\n                                --spectrum-alias-focus-ring-gap,\n                                var(--spectrum-global-dimension-static-size-25)\n                            ) * 2\n                    );\n                }\n            `,\n        ];\n    }\n    handleKeydown(event, tag) {\n        const { code } = event;\n        if (code !== 'Enter' && code !== 'NumpadEnter' && code !== 'Space') {\n            return;\n        }\n        event.preventDefault();\n        this.shouldCopy(tag);\n    }\n    shouldCopy(tag) {\n        if (!this.package)\n            return;\n        const conditionedTag = tag.slice(1, tag.length - 1);\n        const importURL = `import '@spectrum-web-components/${this.package}/icons/${conditionedTag}.js';`;\n        this.dispatchEvent(new CustomEvent('copy-text', {\n            bubbles: true,\n            composed: true,\n            detail: {\n                message: 'Import statement copied to clipboard!',\n                text: importURL,\n            },\n        }));\n    }\n    updateSearch(event) {\n        event.stopPropagation();\n        this.search = event.target.value;\n    }\n    submit(event) {\n        event.stopPropagation();\n        this.updateSearch(event);\n    }\n    renderSearch() {\n        const matchingIcons = this.search\n            ? this.icons.filter((icon) => icon.name.toLowerCase().search(this.search) !== -1)\n            : this.icons;\n        return html `\n            <div class=\"search\" part=\"search\">\n                <sp-field-label for=\"search\">Spectrum icons:</sp-field-label>\n                <sp-search\n                    id=\"search\"\n                    @keydown=${this.updateSearch}\n                    @input=${this.updateSearch}\n                    @submit=${this.submit}\n                    .value=${this.search}\n                    label=\"Search for icons\"\n                    autocomplete=\"off\"\n                >\n                    <sp-help-text slot=\"help-text\">\n                        Showing ${matchingIcons.length} of ${this.icons.length}\n                        available icons.\n                    </sp-help-text>\n                </sp-search>\n            </div>\n            ${matchingIcons.map((icon) => {\n            return html `\n                    <bdo\n                        class=\"icon\"\n                        part=\"icon\"\n                        dir=\"ltr\"\n                        class=\"icon\"\n                        @click=${() => this.shouldCopy(icon.tag)}\n                        @keydown=${(event) => this.handleKeydown(event, icon.tag)}\n                        tabindex=${ifDefined(this.package ? '0' : undefined)}\n                    >\n                        ${icon.story(this.size)} ${icon.tag}\n                    </bdo>\n                `;\n        })}\n        `;\n    }\n    render() {\n        return html `\n            ${this.icons.length\n            ? this.renderSearch()\n            : html `\n                      <slot></slot>\n                  `}\n            ${this.iconset.map((icon) => html `\n                    <bdo class=\"icon\" dir=\"ltr\">\n                        <sp-icon\n                            size=\"xl\"\n                            name=${`${this.name}:${icon}`}\n                        ></sp-icon>\n                        ${icon}\n                    </bdo>\n                `)}\n        `;\n    }\n};\n__decorate([\n    property()\n], IconsDemo.prototype, \"name\", void 0);\n__decorate([\n    property()\n], IconsDemo.prototype, \"package\", void 0);\n__decorate([\n    property()\n], IconsDemo.prototype, \"size\", void 0);\n__decorate([\n    property()\n], IconsDemo.prototype, \"search\", void 0);\n__decorate([\n    property({ attribute: false })\n], IconsDemo.prototype, \"icons\", void 0);\nIconsDemo = __decorate([\n    customElement('icons-demo')\n], IconsDemo);\nexport { IconsDemo };\n//# sourceMappingURL=icons-demo.js.map"],"names":["DelayedReady","SpectrumElement","[object Object]","html","this","handleSlotchange","_delayedReady","Promise","res","_resolveDelayedReady","complete","getUpdateComplete","target","assignedElements","flatten","length","requestAnimationFrame","__decorate","customElement","IconsDemo","super","name","package","size","search","icons","iconset","handleIconSetAdded","bind","connectedCallback","window","addEventListener","removeEventListener","disconnectedCallback","event","detail","getIconList","requestUpdate","styles","bodyStyles","css","tag","code","preventDefault","shouldCopy","conditionedTag","slice","importURL","dispatchEvent","CustomEvent","bubbles","composed","message","text","stopPropagation","value","updateSearch","matchingIcons","filter","icon","toLowerCase","submit","map","handleKeydown","ifDefined","undefined","story","renderSearch","property","attribute"],"mappings":"wSAgCa,IAAAA,EAAb,cAAkCC,EAIpBC,SACN,OAAOC,CAAI,sBACaC,KAAKC,4BAIvBH,eACNE,KAAKE,cAAgB,IAAIC,SACpBC,GAASJ,KAAKK,qBAAuBD,IAIbN,0BAC7B,MAAMQ,cAAwBC,oBAE9B,kBADWL,cACJI,EAGJR,kBAAiBU,OACpBA,IAEIA,EAAOC,iBAAiB,CAAEC,SAAS,IAAQC,QAC3CC,uBAAsB,KAClBZ,KAAKK,4BA3BRT,EAAYiB,EAAA,CADxBC,EAAc,kBACFlB,GAkCA,IAAAmB,EAAb,cAA+BlB,EAqB3BC,cACIkB,QApBGhB,KAAAiB,KAAO,KAGPjB,KAAAkB,QAAU,GAGVlB,KAAAmB,KAAO,IAGPnB,KAAAoB,OAAS,GAGTpB,KAAAqB,MAID,GAEErB,KAAAsB,QAAoB,GAGxBtB,KAAKsB,QAAU,GACftB,KAAKuB,mBAAqBvB,KAAKuB,mBAAmBC,KAAKxB,MAEpDF,oBACHkB,MAAMS,oBACNC,OAAOC,iBAAiB,mBAAoB3B,KAAKuB,oBAE9CzB,uBACH4B,OAAOE,oBAAoB,mBAAoB5B,KAAKuB,oBACpDP,MAAMa,uBAEH/B,mBAAmBgC,GACtB,MAAMR,QAAEA,GAAYQ,EAAMC,OAC1B/B,KAAKsB,QAAUA,EAAQU,cACvBhC,KAAKiC,gBAEeC,oBACpB,MAAO,IACAC,EACHC,CAAG,wpBA2CHtC,cAAcgC,EAAsBO,GACxC,MAAMC,KAAEA,GAASR,EACJ,UAATQ,GAA6B,gBAATA,GAAmC,UAATA,IAGlDR,EAAMS,iBACNvC,KAAKwC,WAAWH,IAGZvC,WAAWuC,GACf,IAAKrC,KAAKkB,QAAS,OACnB,MAAMuB,EAAiBJ,EAAIK,MAAM,EAAGL,EAAI1B,OAAS,GAC3CgC,EAAY,oCAAoC3C,KAAKkB,iBAAiBuB,SAC5EzC,KAAK4C,cACD,IAAIC,YAAY,YAAa,CACzBC,SAAS,EACTC,UAAU,EACVhB,OAAQ,CACJiB,QAAS,wCACTC,KAAMN,MAKd7C,aAAagC,GACjBA,EAAMoB,kBACNlD,KAAKoB,OAASU,EAAMtB,OAAO2C,MAEvBrD,OAAOgC,GACXA,EAAMoB,kBACNlD,KAAKoD,aAAatB,GAEdhC,eACJ,MAAMuD,EAAgBrD,KAAKoB,OACrBpB,KAAKqB,MAAMiC,QACNC,IAA0D,IAAjDA,EAAKtC,KAAKuC,cAAcpC,OAAOpB,KAAKoB,UAElDpB,KAAKqB,MACX,OAAOtB,CAAI,mIAKYC,KAAKoD,yBACPpD,KAAKoD,0BACJpD,KAAKyD,mBACNzD,KAAKoB,8FAKAiC,EAAc1C,aAAaX,KAAKqB,MAAMV,2DAK1D0C,EAAcK,KAAKH,GACVxD,CAAI,gEAMM,IAAMC,KAAKwC,WAAWe,EAAKlB,mBACxBP,GACR9B,KAAK2D,cAAc7B,EAAOyB,EAAKlB,mBACxBuB,EAAU5D,KAAKkB,QAAU,SAAM2C,OAExCN,EAAKO,MAAM9D,KAAKmB,SAASoC,EAAKlB,gBAM1CvC,SACN,OAAOC,CAAI,GACLC,KAAKqB,MAAMV,OACPX,KAAK+D,eACLhE,CAAI,mBAGRC,KAAKsB,QAAQoC,KACVH,GAASxD,CAAI,wDAIK,GAAGC,KAAKiB,QAAQsC,kBAEzBA,gBA3KtB1C,EAAA,CADCmD,gCAIDnD,EAAA,CADCmD,mCAIDnD,EAAA,CADCmD,gCAIDnD,EAAA,CADCmD,kCAIDnD,EAAA,CADCmD,EAAS,CAAEC,WAAW,iCAbdlD,EAASF,EAAA,CADrBC,EAAc,eACFC"}