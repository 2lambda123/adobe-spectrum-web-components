import{i as e,a as s}from"./0be44f51.js";import"./21947d25.js";import"./28c1989b.js";import"./8bbb6ded.js";import{o as t}from"./3732842a.js";import{i as o,l as r}from"./604e2ea3.js";import{e as i,s as a,x as n}from"./395924ad.js";import{e as l}from"./c796803b.js";import"./b3ec8f63.js";import"./21d18191.js";import"./67a87733.js";import"./02872037.js";import"./d3d93a95.js";import"./549963e9.js";import"./28cbf4e4.js";import"./8b2965c7.js";import"./a28affa6.js";import"./5223f72b.js";import"./4a4b0658.js";import"./9676adf6.js";import"./2c9efd13.js";import"./a20f09d5.js";import"./894b9ca4.js";import"./b41a9942.js";import"./590196c7.js";import"./c28c6d6c.js";import"./a010124b.js";import"./16ab2288.js";import"./3a81fc81.js";import"./46782a8f.js";var p=e`:host{display:block}sp-search{--spectrum-alias-single-line-width:100%;width:100%}#search-container sp-popover{display:none}`,c=e=>e.stopPropagation(),h=class extends a{constructor(){super(...arguments),this.searchResultsPopover=null,this.results=[]}static get styles(){return[p]}focus(){this.searchField.focus()}handleSearchInput(e){if(e.target){const{value:s}=e.target;this.updateSearchResults(s)}}handleKeydown(e){const{code:s,shiftKey:t}=e,o="ArrowDown"===s||"ArrowUp"===s;(!t&&"Tab"===s||o)&&(o&&e.preventDefault(),this.focusResults({shouldFocusResultsList:o}))}handlePopoverKeydown(e){const{code:s,shiftKey:t}=e;"Tab"===s&&(t?this.focusReturn.focus():this.focus())}async focusResults({shouldFocusResultsList:e}){if(await this.updateComplete,this.searchResultsPopover)if(e){this.searchResultsPopover.querySelector("sp-menu").focus()}else this.searchResultsPopover.focus();else if(e){await this.updateSearchResults(this.searchField.value)&&this.focusResults({shouldFocusResultsList:e})}}async openPopover(){if(!this.popoverEl)return;this.searchResultsPopover=this.popoverEl;const{popoverEl:e}=this;this.closeOverlay=await t(this.searchField,"click",e,{placement:"bottom-start"}),await this.searchResultsPopover.updateComplete}closePopover(){this.closeOverlay&&this.closeOverlay()}handleClosed(){this.searchResultsPopover=null,this.closeOverlay&&delete this.closeOverlay}handleSubmit(e){if(e.preventDefault(),this.results.length<0||!this.searchResultsPopover)return;this.searchResultsPopover.querySelector("sp-menu").focus()}async updateSearchResults(e){if(e.length<3)return this.closePopover(),!1;const s=`${e.trim()}*`,t=await import("./1d8ba866.js").then((({search:e})=>e));return this.results=await t(s),await this.openPopover(),this.results.length>0}onFocusout(e){const s=e.relatedTarget;s&&this.searchResultsPopover&&this.shadowRoot&&!this.shadowRoot.contains(s)&&!this.searchResultsPopover.contains(s)&&this.closePopover()}handleMenuKeydown(e){e.preventDefault()}renderResults(){return this.results.length>0?n`<sp-menu @keydown="${this.handleMenuKeydown}">${this.results.map((e=>n`<sp-menu-group><span slot="header">${e.name}</span> ${e.results.map((e=>n`<sp-menu-item href="${e.url}">${e.label}</sp-menu-item>`))}</sp-menu-group>`))}</sp-menu>`:n`<sp-illustrated-message heading="No results found" description="Try another search term."></sp-illustrated-message>`}render(){return n`<div id="search-container" @focusout="${this.onFocusout}"><sp-search id="search" @focusin="${this.handleSearchInput}" @input="${this.handleSearchInput}" @change="${this.handleSearchInput}" @keydown="${this.handleKeydown}" @click="${c}" @submit="${this.handleSubmit}" autocomplete="off"></sp-search><sp-popover id="search-results-menu" open tabindex="0" @sp-overlay-closed="${this.handleClosed}" @keydown="${this.handlePopoverKeydown}"><style>#search-results-menu{width:250px;max-height:calc(100vh - 200px);display:flex;flex-direction:column}sp-illustrated-message{flex:1 1;margin-bottom:2em;color:var(--spectrum-global-color-gray-800)}</style>${this.renderResults()}</sp-popover><span id="focus-return" tabindex="-1"></span></div>`}};s([o("sp-popover")],h.prototype,"popoverEl",2),s([o("sp-search")],h.prototype,"searchField",2),s([o("#focus-return")],h.prototype,"focusReturn",2),s([i({type:Array})],h.prototype,"results",2),h=s([l("docs-search")],h);var u=e`::slotted(*){width:100%}aside{background-color:var(--spectrum-global-color-gray-75);display:flex;flex-direction:column;height:100vh;left:0;max-height:100vh;overflow:auto;position:sticky;top:0}@media screen and (max-width:960px){aside{left:0;min-height:100vh;position:fixed;top:0;transform:translateX(-100%);transition:transform var(
                --spectrum-dialog-confirm-background-entry-animation-duration,var(--spectrum-global-animation-duration-600)
            ) cubic-bezier(0,0,.4,1);z-index:10}:host([open]) aside{transform:translateX(0)}.scrim{touch-action:none;z-index:10}}#nav-header a,#nav-header a:visited{color:var(--spectrum-global-color-gray-800);-webkit-text-decoration:none;text-decoration:none}.navigation{flex:1;flex-grow:1;overflow:auto;overflow-x:hidden;overflow-y:auto;padding:0 24px 24px;width:var(--spectrum-global-dimension-size-2400)}docs-spectrum-logo{display:block;height:32px;padding-top:7px;width:36px}:host([dir=ltr]) docs-spectrum-logo{margin-right:16px}:host([dir=rtl]) docs-spectrum-logo{margin-left:16px}#logo-container{border-radius:4px;outline:none}docs-search{padding:0 var(--spectrum-global-dimension-size-300) var(--spectrum-global-dimension-size-300) var(--spectrum-global-dimension-size-300);width:var(--spectrum-global-dimension-size-2400)}sp-sidenav{width:100%}.spectrum-web{display:block;margin-top:80px}sp-underlay:not(:defined){opacity:0}`,d=class extends a{constructor(){super(...arguments),this.open=!1}static get styles(){return[u]}toggle(){this.open=!this.open}focus(){const e=document.querySelector('[slot="logo"]');e?e.focus():this.shadowRoot.querySelector("#logo").focus()}render(){return n`<sp-underlay class="scrim" @click="${this.toggle}" ?open="${this.open}"></sp-underlay><aside><div id="nav-header"><div id="logo-container"><slot name="logo"></slot></div><docs-search tabindex="${r(!this.open&&matchMedia("(max-width: 960px)").matches?-1:void 0)}"></docs-search></div><div class="navigation"><slot></slot></div></aside>`}updated(e){e.has("open")&&!this.open&&e.get("open")&&this.dispatchEvent(new Event("close"))}};s([i({type:Boolean,reflect:!0})],d.prototype,"open",2),d=s([l("docs-side-nav")],d);export{d as SideNav};
//# sourceMappingURL=4af28421.js.map
